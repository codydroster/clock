<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<plcProject caseSensitive="true" extendedIdNames="false" useCustomWorkspace="true" debugMode="false" extcheck="true" SFCControl="false" strictPointerCheck="true" verboseWarningMode="false" iecTypeConversionRules="false" PNContactsOnEachNetwork="false" LocalVarsFBAccess="false" strictEnumsCheck="true" copyWarningThreshold="200" version="2.11" useLD2="true" useXPLCFiles="false" useFBMethods="false" customSortOfProjectTree="false" autoDerefPointers="false">
	<image>clock.imgx</image>
	<commSettings>Modbus:247,1000,M#COM:4,38400,N,8,1,H</commSettings>
	<sources>
		<main>
			<resources>
				<resource name="ArduinoPMC" processor="ARMThumb2_VFP2">
					<task name="Fast" interval="t#10000us" priority="0" type="cyclic" hidden="false" dynamic="false" descr="Fast task"/>
					<task name="Slow" interval="t#100000us" priority="1" type="cyclic" hidden="false" dynamic="false" descr="Slow task"/>
					<task name="Background" interval="t#500000us" priority="2" type="cyclic" hidden="false" dynamic="false" descr="Background task"/>
					<task name="Init" interval="t#0us" priority="3" type="single" hidden="false" dynamic="false" descr="Init task"/>
					<task name="MbBoot" interval="t#0us" priority="4" type="single" hidden="true" dynamic="false" descr="Modbus boot task"/>
					<task name="MbMPrm" interval="t#0us" priority="5" type="single" hidden="true" dynamic="false" descr="Modbus master network parametrization"/>
					<task name="COPMBoot" interval="t#0us" priority="6" type="single" hidden="true" dynamic="false" descr="CANopen master boot task"/>
					<task name="COPMEvent" interval="t#0us" priority="7" type="single" hidden="true" dynamic="false" descr="CANopen master event task"/>
					<task name="COPMParam" interval="t#0us" priority="8" type="single" hidden="true" dynamic="false" descr="CANopen master parametrization task"/>
				</resource>
			</resources>
			<tasks>
				<task name="Fast">
					<program>main</program>
					<program>Sched</program>
					<program>Engrave_SEQ</program>
					<program>Cut_SEQ</program>
					<program>Pick_SEQ</program>
					<program>Place_SEQ</program>
					<program>Push_SEQ</program>
					<program>IndexA</program>
				</task>
				<task name="Init">
					<program>init</program>
				</task>
			</tasks>
			<globalVars>
				<group name="Global_vars" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="" version="1.0.0">
					<var name="cnt" type="INT"/>
					<var name="pickSeq" type="BOOL">
						<initValue>0</initValue>
					</var>
					<var name="curSeq" type="INT">
						<initValue>10</initValue>
					</var>
					<var name="auto" type="BOOL"/>
					<var name="manMode" type="BOOL"/>
					<var name="pickIndex" type="INT">
						<initValue>0</initValue>
					</var>
					<var name="placePositionsY" type="INT" dim0="4">
						<initValue>[7200, 10200, 13650, 16650]</initValue>
					</var>
					<var name="placeIndex" type="INT"/>
					<var name="placeSeq" type="BOOL"/>
					<var name="laserSeq" type="INT"/>
					<var name="placeClearZ" type="INT">
						<initValue>13800</initValue>
					</var>
					<var name="cmplt" type="BOOL">
						<initValue>0</initValue>
					</var>
					<var name="pushSeq" type="BOOL"/>
					<var name="cutPositionsY" type="INT" dim0="10">
						<initValue>[20970, 19000, 17030, 15060, 13090, 11120, 9150, 7180, 5210, 3240]</initValue>
					</var>
					<var name="cutSeq" type="BOOL">
						<initValue>0</initValue>
					</var>
					<var name="moveSpeed" type="INT">
						<initValue>375</initValue>
					</var>
					<var name="min0" type="INT">
						<initValue>0</initValue>
					</var>
					<var name="min1" type="INT">
						<initValue>0</initValue>
					</var>
					<var name="hour0" type="INT">
						<initValue>0</initValue>
					</var>
					<var name="hour1" type="INT">
						<initValue>0</initValue>
					</var>
					<var name="timeRTC" type="INT" dim0="4"/>
					<var name="Solenoids" type="BOOL" dim0="4">
						<address type="M" typeVar="X" index="3" subIndex="2"/>
					</var>
					<var name="cutDigit" type="INT"/>
					<var name="engraveSeq" type="BOOL"/>
					<var name="indexSeq" type="BOOL"/>
				</group>
				<group name="I_O_mappings_DIO" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="" version="1.0.0">
					<var name="Sol1" type="BOOL">
						<address type="M" typeVar="X" index="3" subIndex="2"/>
					</var>
					<var name="Sol2" type="BOOL">
						<address type="M" typeVar="X" index="3" subIndex="3"/>
					</var>
					<var name="Sol3" type="BOOL">
						<address type="M" typeVar="X" index="3" subIndex="4"/>
					</var>
					<var name="EnableXYZ" type="BOOL">
						<address type="M" typeVar="X" index="3" subIndex="0"/>
					</var>
					<var name="EnableA" type="BOOL">
						<address type="M" typeVar="X" index="3" subIndex="1"/>
					</var>
					<var name="Sol4" type="BOOL">
						<address type="M" typeVar="X" index="3" subIndex="5"/>
					</var>
				</group>
				<group name="I_O_mappings_DI" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="" version="1.0.0">
					<var name="XHome" type="BOOL">
						<address type="I" typeVar="X" index="0" subIndex="0"/>
					</var>
					<var name="YHome" type="BOOL">
						<address type="I" typeVar="X" index="0" subIndex="1"/>
					</var>
					<var name="ZHome" type="BOOL">
						<address type="I" typeVar="X" index="0" subIndex="2"/>
					</var>
				</group>
				<group name="I_O_mappings_DO" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="" version="1.0.0">
					<var name="home2" type="BOOL"/>
				</group>
				<group name="I_O_mappings_AO" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="" version="1.0.0">
					<var name="laserPWM" type="REAL">
						<address type="Q" typeVar="D" index="1" subIndex="1"/>
					</var>
				</group>
			</globalVars>
			<retainVars>
				<group name="Global_vars" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="" version="1.0.0">
					<var name="placedCur" type="INT" dim0="4"/>
				</group>
			</retainVars>
			<constantVars>
				<group name="Global_vars" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="" version="1.0.0">
					<const name="ZTop" type="INT">
						<initValue>14800</initValue>
					</const>
					<const name="pickPositionsY" type="INT" dim0="10">
						<initValue>[20900, 18930, 16960, 14990, 13020, 11050, 9080, 7100, 5140, 3600]</initValue>
					</const>
					<const name="PBTimeOff" type="INT">
						<initValue>200</initValue>
					</const>
					<const name="cutFrontX" type="INT">
						<initValue>18500</initValue>
					</const>
					<const name="cutBackX" type="INT">
						<initValue>15600</initValue>
					</const>
				</group>
			</constantVars>
			<iecVarsDeclaration>
				<group name="Global_vars">
					<iecDeclaration active="FALSE"/>
				</group>
				<group name="I_O_mappings_DIO">
					<iecDeclaration active="FALSE"/>
				</group>
				<group name="I_O_mappings_DI">
					<iecDeclaration active="FALSE"/>
				</group>
				<group name="I_O_mappings_DO">
					<iecDeclaration active="FALSE"/>
				</group>
				<group name="I_O_mappings_AO">
					<iecDeclaration active="FALSE"/>
				</group>
				<group name="Ungrouped_vars">
					<iecDeclaration active="FALSE"/>
				</group>
			</iecVarsDeclaration>
			<functions/>
			<functionBlocks>
				<functionBlock name="StepperSEQ" version="1.0.0" creationDate="1695601693" lastModifiedDate="1702382396" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<inputVars>
							<var name="XPOSIN" type="INT"/>
							<var name="YPOSIN" type="INT"/>
							<var name="ZPOSIN" type="INT"/>
							<var name="XPOSACT" type="INT"/>
							<var name="YPOSACT" type="INT"/>
							<var name="ZPOSACT" type="INT"/>
						</inputVars>
						<outputVars>
							<var name="XPOSOUT" type="INT"/>
							<var name="YPOSOUT" type="INT"/>
							<var name="ZPOSOUT" type="INT"/>
						</outputVars>
						<externalVars>
							<var name="XOFF" type="INT"/>
							<var name="YOFF" type="INT"/>
							<var name="ZOFF" type="INT"/>
							<var name="curSeq" type="INT"/>
						</externalVars>
					</vars>
					<iecDeclaration active="FALSE"/>
					<interfaces/>
					<methods/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="100" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input/>
									<outputs>
										<tmpVar id="63"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="63">
									<input>
										<operator name="ADD" id="58">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="84">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<operator name="EQ" id="80">
																	<inputs>
																		<pin name="EN" neg="false" type="BOOL">
																			<operator name="EQ" id="49">
																				<inputs>
																					<pin name="EN" neg="false" type="BOOL"/>
																					<pin name="0" neg="false" type="UNDEF">
																						<var name="XPOSIN" id="99"/>
																					</pin>
																					<pin name="1" neg="false" type="UNDEF">
																						<var name="XPOSACT" id="51"/>
																					</pin>
																				</inputs>
																				<outputs>
																					<pin name="ENO" neg="false" type="BOOL"/>
																					<pin name="2" neg="false" type="BOOL">
																						<outputLine/>
																					</pin>
																				</outputs>
																			</operator>
																		</pin>
																		<pin name="0" neg="false" type="UNDEF">
																			<var name="YPOSIN" id="97"/>
																		</pin>
																		<pin name="1" neg="false" type="UNDEF">
																			<var name="YPOSACT" id="82"/>
																		</pin>
																	</inputs>
																	<outputs>
																		<pin name="ENO" neg="false" type="BOOL"/>
																		<pin name="2" neg="false" type="BOOL">
																			<outputLine/>
																		</pin>
																	</outputs>
																</operator>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="ZPOSIN" id="98"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<var name="ZPOSACT" id="86"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="59"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="10" id="60"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="2" neg="false" type="UNDEF">
													<var name="curSeq" id="61"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="63">
									<input>
										<operator name="MOVE" id="70">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="XPOSIN" id="94"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="XPOSOUT" id="72"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="63">
									<input>
										<operator name="MOVE" id="74">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="YPOSIN" id="95"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="YPOSOUT" id="76"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="63">
									<input>
										<operator name="MOVE" id="77">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="ZPOSIN" id="96"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="ZPOSOUT" id="79"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</functionBlock>
				<functionBlock name="EngraveX" version="1.0.0" creationDate="1702141782" lastModifiedDate="1702513639" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<inputVars>
							<var name="YPOS0" type="INT"/>
							<var name="XPOS0" type="INT"/>
							<var name="XPOSACT" type="INT"/>
							<var name="YPOSACT" type="INT"/>
						</inputVars>
						<outputVars>
							<var name="LASERPWM" type="REAL"/>
							<var name="XPOSOUT" type="INT"/>
							<var name="YPOSOUT" type="INT"/>
						</outputVars>
						<externalVars>
							<var name="curSeq" type="INT"/>
							<var name="cutDigit" type="INT"/>
						</externalVars>
					</vars>
					<iecDeclaration active="FALSE"/>
					<interfaces/>
					<methods/>
					<sourceCode type="ST">
						<![CDATA[IF (cutDigit = 0) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 550;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN 
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 24) THEN
curSeq := 100;
LASERPWM := 0.0;

END_IF;
END_IF;




IF (cutDigit = 1) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 768;
YPOSOUT := YPOS0 + 1303;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 985;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 2405;
YPOSOUT := YPOS0 + 985;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 2405;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 25) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 2) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 700;
YPOSOUT := YPOS0 + 1520;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1480;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 1480;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 26) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 26) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 3) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 1575;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 1575;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 26) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 27) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 27) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 4) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 1255;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 1255;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 715;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 715;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 23) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 5) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 1480;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1480;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 25) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 6) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 26) THEN
XPOSOUT := XPOS0 + 1575;
YPOSOUT := YPOS0 + 1520;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
IF(curSeq > 26) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 7) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
IF(curSeq > 22) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 8) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 1430;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1430;
YPOSOUT := YPOS0 + 550;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 1530;
YPOSOUT := YPOS0 + 550;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 1530;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 26) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 27) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 28) THEN
XPOSOUT := XPOS0 + 550;
YPOSOUT := YPOS0 + 450;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
IF(curSeq > 28) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 9) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 550;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
IF(curSeq > 24) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;
]]>
					</sourceCode>
				</functionBlock>
				<functionBlock name="TimeGet" version="1.0.0" creationDate="1702344378" lastModifiedDate="1702348807" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<externalVars>
							<var name="timeRTC" type="INT" dim0="4"/>
							<var name="placedCur" type="INT" dim0="4"/>
							<var name="placeIndex" type="INT"/>
							<var name="minute" type="INT"/>
							<var name="hour" type="INT"/>
						</externalVars>
					</vars>
					<iecDeclaration active="FALSE"/>
					<interfaces/>
					<methods/>
					<sourceCode type="ST">
						<![CDATA[
timeRTC[0] := minute MOD 10;
timeRTC[1] := minute / 10;

timeRTC[2] := hour MOD 10;
timeRTC[3] := hour / 10;



//If time changes and the current digit isn't equal to timeRTC[x] then set to -1.

IF(placedCur[3] <> timeRTC[3]) THEN 
	placedCur[3] := -1;
END_IF;

IF(placedCur[2] <> timeRTC[2]) THEN 
	placedCur[2] := -1;
END_IF;

IF(placedCur[1] <> timeRTC[1]) THEN 
	placedCur[1] := -1;
END_IF;

IF(placedCur[0] <> timeRTC[0]) THEN 
	placedCur[0] := -1;
END_IF;


/* placedCur[3] is hour1 and also most significant.
If time changes, reset placedCur[x] to -1 */
IF(placedCur[3] = -1) THEN
	placeIndex := 3;

ELSIF(placedCur[2] = -1) THEN
	placeIndex := 2;

ELSIF(placedCur[1] = -1) THEN
	placeIndex := 1;
	
ELSIF(placedCur[0] = -1) THEN
	placeIndex := 0;

END_IF;
]]>
					</sourceCode>
				</functionBlock>
			</functionBlocks>
			<programs>
				<program name="main" version="1.0.0" creationDate="1695602547" lastModifiedDate="1702421393" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<localVars>
							<var name="home_tim" type="TON"/>
							<var name="ZPosInit" type="INT">
								<initValue>12000</initValue>
							</var>
							<var name="XPosInit" type="INT">
								<initValue>1000</initValue>
							</var>
							<var name="YPosInit" type="INT">
								<initValue>8000</initValue>
							</var>
							<var name="pick" type="INT">
								<initValue>0</initValue>
							</var>
							<var name="place" type="INT">
								<initValue>2</initValue>
							</var>
							<var name="XSpeedInit" type="INT">
								<initValue>750</initValue>
							</var>
							<var name="YSpeedInit" type="INT">
								<initValue>750</initValue>
							</var>
							<var name="ZSpeedInit" type="INT">
								<initValue>400</initValue>
							</var>
							<var name="APosInit" type="INT">
								<initValue>0</initValue>
							</var>
							<var name="ASpeedInit" type="INT">
								<initValue>1500</initValue>
							</var>
							<var name="laserPWR" type="REAL">
								<initValue>0</initValue>
							</var>
							<var name="fireSol0" type="BOOL"/>
						</localVars>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="6" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="TON" id="2" instance="home_tim">
											<inputs>
												<pin name="IN" neg="false" type="BOOL">
													<contact name="Home" type="Normal" id="5"/>
												</pin>
												<pin name="PT" neg="false" type="UDINT">
													<var name="PBTimeOff" id="3"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="Q" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="ET" neg="false" type="UDINT"/>
											</outputs>
										</funcBlock>
									</input>
									<outputs>
										<coil name="Home" type="Reset" id="4"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="2" nextID="3" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<contact name="auto" type="Normal" id="0"/>
									</input>
									<outputs>
										<coil name="manMode" type="Closed" id="2"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="3" nextID="41" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<contact name="manMode" type="Normal" id="2"/>
									</input>
									<outputs>
										<tmpVar id="8"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="5">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="XPosInit" id="6"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="XPos" id="7"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="13">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="YPosInit" id="14"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="YPos" id="15"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="16">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="ZPosInit" id="17"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="ZPos" id="18"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="38">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="APosInit" id="39"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="APos" id="40"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="4" nextID="23" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<contact name="manMode" type="Normal" id="0"/>
									</input>
									<outputs>
										<tmpVar id="2"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="2">
									<input>
										<operator name="MOVE" id="9">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="moveSpeed" id="10"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="XSpeed" id="11"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="2">
									<input>
										<operator name="MOVE" id="12">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="moveSpeed" id="13"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="YSpeed" id="14"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="2">
									<input>
										<operator name="MOVE" id="15">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="moveSpeed" id="16"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="ZSpeed" id="17"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="2">
									<input>
										<operator name="MOVE" id="20">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="ASpeedInit" id="21"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="ASpeed" id="22"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="5" nextID="3" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<contact name="fireSol0" type="Normal" id="0"/>
									</input>
									<outputs>
										<coil name="Sol1" type="Normal" id="2"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="6" nextID="5" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<contact name="manMode" type="Normal" id="0"/>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="pick" id="3"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="pickIndex" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="7" nextID="5" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<contact name="manMode" type="Normal" id="0"/>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="laserPWR" id="3"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="laserPWM" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
				<program name="init" version="1.0.0" creationDate="1696287024" lastModifiedDate="1700741110" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<localVars>
							<var name="XSpeedInit" type="INT">
								<initValue>200</initValue>
							</var>
							<var name="YSpeedInit" type="INT">
								<initValue>200</initValue>
							</var>
							<var name="ZSpeedInit" type="INT">
								<initValue>200</initValue>
							</var>
							<var name="ASpeedInit" type="INT">
								<initValue>1500</initValue>
							</var>
						</localVars>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="6" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="-1" id="5"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="placedCur[0]" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="2" nextID="6" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="-1" id="5"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="placedCur[1]" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="3" nextID="6" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="-1" id="5"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="placedCur[2]" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="4" nextID="6" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="-1" id="5"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="placedCur[3]" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="5" nextID="3" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input/>
									<outputs>
										<coil name="Home" type="Normal" id="2"/>
									</outputs>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
				<program name="Pick_SEQ" version="1.0.0" creationDate="1696460819" lastModifiedDate="1702383799" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<localVars>
							<var name="POS0" type="INT">
								<initValue>4000</initValue>
							</var>
							<var name="SPEEDY" type="INT">
								<initValue>450</initValue>
							</var>
							<var name="POS1" type="INT">
								<initValue>12000</initValue>
							</var>
							<var name="step0" type="StepperSEQ"/>
							<var name="step1" type="StepperSEQ"/>
							<var name="step2" type="StepperSEQ"/>
							<var name="step3" type="StepperSEQ"/>
							<var name="step4" type="StepperSEQ"/>
							<var name="pickOffsetY" type="INT">
								<initValue>2100</initValue>
							</var>
							<var name="disableA" type="TON"/>
							<var name="timEnableA" type="BOOL"/>
							<var name="step5" type="StepperSEQ"/>
							<var name="step6" type="StepperSEQ"/>
						</localVars>
						<localConsts>
							<const name="pickClearanceZ" type="INT">
								<initValue>10000</initValue>
							</const>
							<const name="pickPositionX" type="INT">
								<initValue>7950</initValue>
							</const>
						</localConsts>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="129" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="119" instance="step0">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="LE" id="113">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<operator name="EQ" id="59">
																	<inputs>
																		<pin name="EN" neg="false" type="BOOL">
																			<and id="94">
																				<contact name="auto" type="Normal" id="95"/>
																				<contact name="pickSeq" type="Normal" id="91"/>
																			</and>
																		</pin>
																		<pin name="0" neg="false" type="UNDEF">
																			<var name="curSeq" id="60"/>
																		</pin>
																		<pin name="1" neg="false" type="UNDEF">
																			<const name="10" id="63"/>
																		</pin>
																	</inputs>
																	<outputs>
																		<pin name="ENO" neg="false" type="BOOL"/>
																		<pin name="2" neg="false" type="BOOL">
																			<outputLine/>
																		</pin>
																	</outputs>
																</operator>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="114"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="1" id="118"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pickPositionX" id="120"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<const name="19000" id="121"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="122"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="123"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="124"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="125"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="126"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="127"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="128"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="2" nextID="128" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="118" instance="step1">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="GE" id="113">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<operator name="EQ" id="59">
																	<inputs>
																		<pin name="EN" neg="false" type="BOOL">
																			<and id="94">
																				<contact name="auto" type="Normal" id="95"/>
																				<contact name="pickSeq" type="Normal" id="91"/>
																			</and>
																		</pin>
																		<pin name="0" neg="false" type="UNDEF">
																			<var name="curSeq" id="60"/>
																		</pin>
																		<pin name="1" neg="false" type="UNDEF">
																			<const name="10" id="63"/>
																		</pin>
																	</inputs>
																	<outputs>
																		<pin name="ENO" neg="false" type="BOOL"/>
																		<pin name="2" neg="false" type="BOOL">
																			<outputLine/>
																		</pin>
																	</outputs>
																</operator>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="114"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="2" id="117"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pickPositionX" id="119"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="pickPositionsY[pickIndex] + pickOffsetY" id="120"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="121"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="122"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="123"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="124"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="125"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="126"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="127"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="3" nextID="103" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="93" instance="step2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="89">
																	<contact name="auto" type="Normal" id="90"/>
																	<contact name="pickSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="20" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pickPositionX" id="94"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="pickPositionsY[pickIndex] + pickOffsetY" id="95"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<const name="0" id="96"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="97"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="98"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="99"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="100"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="101"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="102"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="4" nextID="101" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="91" instance="step3">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="87">
																	<contact name="auto" type="Normal" id="88"/>
																	<contact name="pickSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="30" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pickPositionX" id="92"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<var name="pickPositionsY[pickIndex]" id="93"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<const name="0" id="94"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="95"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="96"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="97"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="98"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="99"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="100"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="5" nextID="136" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="59">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="87">
														<contact name="auto" type="Normal" id="88"/>
														<contact name="pickSeq" type="Normal" id="20"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="60"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="40" id="63"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="104"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="104">
									<input>
										<funcBlock name="StepperSEQ" id="119" instance="step4">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="129">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="134"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="135"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pickPositionX" id="120"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<var name="pickPositionsY[pickIndex]" id="121"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<const name="3500" id="122"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="123"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="124"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="125"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="126"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="127"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="128"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="104">
									<input>
										<operator name="ADD" id="114">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="LT" id="107">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="108"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="111"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="115"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="10" id="118"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="2" neg="false" type="UNDEF">
													<var name="curSeq" id="117"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="6" nextID="133" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="59">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="87">
														<contact name="auto" type="Normal" id="88"/>
														<contact name="pickSeq" type="Normal" id="20"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="60"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="50" id="63"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="105"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="105">
									<input>
										<funcBlock name="StepperSEQ" id="118" instance="step5">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="128">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="129"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="132"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pickPositionX" id="119"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="pickPositionsY[pickIndex] - 400" id="120"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<const name="3500" id="121"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="122"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="123"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="124"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="125"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="126"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="127"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="105">
									<input>
										<operator name="ADD" id="113">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="LT" id="108">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="109"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="112"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="114"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="10" id="117"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="2" neg="false" type="UNDEF">
													<var name="curSeq" id="116"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="7" nextID="101" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="91" instance="step6">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="86">
																	<contact name="auto" type="Normal" id="87"/>
																	<contact name="pickSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="60" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pickPositionX" id="92"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<var name="pickPositionsY[pickIndex]" id="93"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="pickClearanceZ" id="94"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="95"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="96"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="97"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="98"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="99"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="100"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="8" nextID="38" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="23">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="19">
														<contact name="auto" type="Normal" id="17"/>
														<contact name="pickSeq" type="Normal" id="18"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="24"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="70" id="27"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="2" neg="false" type="BOOL">
													<var name="cmplt" id="37"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="9" nextID="22" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="ADD" id="13">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="21">
														<contact name="auto" type="Normal" id="7"/>
														<contact name="pickSeq" type="Normal" id="5"/>
														<contact name="cmplt" type="Positive" id="2"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<const name="1" id="18"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="pickIndex" id="19"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="2" neg="false" type="UNDEF">
													<var name="pickIndex" id="20"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="10" nextID="51" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="MOVE" id="47">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="29">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="30">
																	<contact name="auto" type="Normal" id="7"/>
																	<contact name="pickSeq" type="Normal" id="5"/>
																	<contact name="cmplt" type="Positive" id="2"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<const name="10" id="34"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<var name="pickIndex" id="32"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<const name="0" id="50"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="pickIndex" id="49"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="11" nextID="8" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<and id="6">
											<contact name="auto" type="Normal" id="7"/>
											<contact name="pickSeq" type="Normal" id="5"/>
											<contact name="cmplt" type="Positive" id="2"/>
										</and>
									</input>
									<outputs>
										<coil name="pickSeq" type="Reset" id="4"/>
									</outputs>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
				<program name="Place_SEQ" version="1.0.0" creationDate="1696631228" lastModifiedDate="1702350255" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<localVars>
							<var name="pushClearanceX" type="INT">
								<initValue>17000</initValue>
							</var>
							<var name="placeHeight" type="INT">
								<initValue>9500</initValue>
							</var>
							<var name="pushDistance" type="INT">
								<initValue>300</initValue>
							</var>
							<var name="step0" type="StepperSEQ"/>
							<var name="step1" type="StepperSEQ"/>
							<var name="step2" type="StepperSEQ"/>
							<var name="step3" type="StepperSEQ"/>
						</localVars>
						<localConsts>
							<const name="placeOffsetY" type="INT">
								<initValue>2100</initValue>
							</const>
							<const name="placePositionX" type="INT">
								<initValue>19400</initValue>
							</const>
						</localConsts>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="107" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="97" instance="step0">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="92">
																	<contact name="auto" type="Normal" id="93"/>
																	<contact name="placeSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="10" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="placePositionX" id="98"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<var name="placePositionsY[placeIndex]" id="99"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="placeClearZ" id="100"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="101"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="102"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="103"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="104"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="105"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="106"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="2" nextID="106" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="96" instance="step1">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="92">
																	<contact name="auto" type="Normal" id="93"/>
																	<contact name="placeSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="20" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="placePositionX" id="97"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<var name="placePositionsY[placeIndex]" id="98"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="placeHeight" id="99"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="100"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="101"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="102"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="103"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="104"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="105"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="3" nextID="108" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="98" instance="step2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="93">
																	<contact name="auto" type="Normal" id="94"/>
																	<contact name="placeSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="30" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="placePositionX" id="99"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + placeOffsetY" id="100"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="placeHeight" id="101"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="102"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="103"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="104"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="105"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="106"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="107"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="4" nextID="109" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="99" instance="step3">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="93">
																	<contact name="auto" type="Normal" id="94"/>
																	<contact name="placeSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="40" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="placePositionX" id="100"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + placeOffsetY" id="101"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="placeClearZ" id="102"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="103"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="104"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="105"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="106"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="107"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="108"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="5" nextID="38" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="23">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="19">
														<contact name="auto" type="Normal" id="17"/>
														<contact name="placeSeq" type="Normal" id="18"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="24"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="50" id="27"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="2" neg="false" type="BOOL">
													<var name="cmplt" id="37"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="6" nextID="8" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<and id="6">
											<contact name="auto" type="Normal" id="7"/>
											<contact name="placeSeq" type="Normal" id="5"/>
											<contact name="cmplt" type="Positive" id="2"/>
										</and>
									</input>
									<outputs>
										<coil name="placeSeq" type="Reset" id="4"/>
									</outputs>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
				<program name="Push_SEQ" version="1.0.0" creationDate="1696631246" lastModifiedDate="1702384096" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<localVars>
							<var name="step0" type="StepperSEQ"/>
							<var name="step1" type="StepperSEQ"/>
							<var name="step2" type="StepperSEQ"/>
							<var name="step3" type="StepperSEQ"/>
							<var name="step4" type="StepperSEQ"/>
							<var name="step5" type="StepperSEQ"/>
							<var name="step6" type="StepperSEQ"/>
							<var name="step7" type="StepperSEQ"/>
							<var name="solTim" type="TON"/>
							<var name="test1" type="BOOL"/>
							<var name="pushOffset" type="INT">
								<initValue>150</initValue>
							</var>
						</localVars>
						<localConsts>
							<const name="pushClearanceX" type="INT">
								<initValue>16350</initValue>
							</const>
							<const name="solDur" type="INT">
								<initValue>1500</initValue>
							</const>
						</localConsts>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="110" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="100" instance="step0">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="94">
																	<contact name="auto" type="Normal" id="95"/>
																	<contact name="pushSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="10" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pushClearanceX" id="101"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + pushOffset" id="102"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="placeClearZ" id="103"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="104"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="105"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="106"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="107"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="108"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="109"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="2" nextID="113" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="103" instance="step1">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="94">
																	<contact name="auto" type="Normal" id="95"/>
																	<contact name="pushSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="20" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pushClearanceX" id="104"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + pushOffset" id="105"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<const name="12000" id="106"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="107"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="108"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="109"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="110"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="111"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="112"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="3" nextID="112" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="102" instance="step2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="94">
																	<contact name="auto" type="Normal" id="95"/>
																	<contact name="pushSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="30" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<const name="17100" id="103"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + pushOffset" id="104"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<const name="12000" id="105"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="106"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="107"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="108"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="109"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="110"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="111"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="4" nextID="112" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="102" instance="step3">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="94">
																	<contact name="auto" type="Normal" id="95"/>
																	<contact name="pushSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="40" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<const name="17050" id="103"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + pushOffset" id="104"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<const name="9500" id="105"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="106"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="107"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="108"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="109"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="110"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="111"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="5" nextID="112" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="102" instance="step4">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="94">
																	<contact name="auto" type="Normal" id="95"/>
																	<contact name="pushSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="50" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<const name="17450" id="103"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + pushOffset" id="104"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<const name="9500" id="105"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="106"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="107"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="108"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="109"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="110"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="111"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="6" nextID="145" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="135" instance="step5">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="94">
																	<contact name="auto" type="Normal" id="95"/>
																	<contact name="pushSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="60" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<const name="17450" id="136"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + pushOffset" id="137"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="placeClearZ" id="138"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="139"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="140"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="141"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="142"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="143"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="144"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="7" nextID="138" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="TON" id="135" instance="solTim">
											<inputs>
												<pin name="IN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="94">
																	<contact name="auto" type="Normal" id="95"/>
																	<contact name="pushSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="60" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="PT" neg="false" type="UDINT">
													<var name="solDur" id="136"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="Q" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="ET" neg="false" type="UDINT"/>
											</outputs>
										</funcBlock>
									</input>
									<outputs>
										<coil name="Solenoids[placeIndex]" type="Normal" id="118"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="8" nextID="131" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="121" instance="step6">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="94">
																	<contact name="auto" type="Normal" id="95"/>
																	<contact name="pushSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="70" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<const name="19900" id="122"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + pushOffset" id="123"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="124"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="125"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="126"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="127"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="128"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="129"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="130"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="9" nextID="114" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="104" instance="step7">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="59">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="94">
																	<contact name="auto" type="Normal" id="95"/>
																	<contact name="pushSeq" type="Normal" id="20"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="60"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="80" id="63"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="pushClearanceX" id="105"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="placePositionsY[placeIndex] + pushOffset" id="106"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="107"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="108"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="109"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="110"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="111"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="112"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="113"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="10" nextID="38" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="23">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="19">
														<contact name="auto" type="Normal" id="17"/>
														<contact name="pushSeq" type="Normal" id="18"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="24"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="90" id="27"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="2" neg="false" type="BOOL">
													<var name="cmplt" id="37"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="11" nextID="83" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<and id="6">
											<contact name="auto" type="Normal" id="7"/>
											<contact name="pushSeq" type="Normal" id="5"/>
											<contact name="cmplt" type="Positive" id="2"/>
										</and>
									</input>
									<outputs>
										<coil name="pushSeq" type="Reset" id="4"/>
										<tmpVar id="8"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="11">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="cutDigit" id="12"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="placedCur[placeIndex]" id="13"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="16">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="10" id="17"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="curSeq" id="18"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="8">
									<input/>
									<outputs>
										<coil name="engraveSeq" type="Set" id="21"/>
									</outputs>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
				<program name="Cut_SEQ" version="1.0.0" creationDate="1696631258" lastModifiedDate="1702513833" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<localVars>
							<var name="cnt0" type="CTD"/>
							<var name="laserPWR" type="REAL">
								<initValue>10.0</initValue>
							</var>
							<var name="step0" type="StepperSEQ"/>
							<var name="step1" type="StepperSEQ"/>
							<var name="step2" type="StepperSEQ"/>
							<var name="step3" type="StepperSEQ"/>
							<var name="step10" type="StepperSEQ"/>
							<var name="step11" type="StepperSEQ"/>
							<var name="step12" type="StepperSEQ"/>
							<var name="step13" type="StepperSEQ"/>
							<var name="step4" type="StepperSEQ"/>
							<var name="step5" type="StepperSEQ"/>
							<var name="step6" type="StepperSEQ"/>
							<var name="cutSpeed" type="INT">
								<initValue>2300</initValue>
							</var>
						</localVars>
						<localConsts>
							<const name="cutOffset" type="INT">
								<initValue>1970</initValue>
							</const>
						</localConsts>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="80" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="GT" id="30">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="26">
														<contact name="auto" type="Normal" id="0"/>
														<contact name="cutSeq" type="Normal" id="23"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="31"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="10" id="34"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="56"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="56">
									<input>
										<operator name="MOVE" id="51">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="cutSpeed" id="53"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="XSpeed" id="54"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="56">
									<input>
										<operator name="MOVE" id="59">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="cutSpeed" id="60"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="YSpeed" id="61"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="56">
									<input>
										<operator name="MOVE" id="66">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="laserPWR" id="73"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="laserPWM" id="74"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="2" nextID="146" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="59">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="87">
														<contact name="auto" type="Normal" id="88"/>
														<contact name="cutSeq" type="Normal" id="20"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="60"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="10" id="63"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="109"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<funcBlock name="StepperSEQ" id="95" instance="step0">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="NE" id="125">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="126"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="129"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<expression name="cutFrontX + 50" id="105"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] - cutOffset" id="97"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="98"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="99"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="100"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="101"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="102"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="103"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="104"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<funcBlock name="StepperSEQ" id="130" instance="step10">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="112">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="113"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="116"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="cutBackX" id="137"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] - cutOffset" id="138"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="139"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="140"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="141"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="142"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="143"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="144"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="145"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="3" nextID="147" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="59">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="87">
														<contact name="auto" type="Normal" id="88"/>
														<contact name="cutSeq" type="Normal" id="20"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="60"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="20" id="63"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="109"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<funcBlock name="StepperSEQ" id="95" instance="step1">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="NE" id="125">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="126"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="129"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="cutBackX" id="146"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] - cutOffset" id="97"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="98"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="99"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="100"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="101"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="102"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="103"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="104"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<funcBlock name="StepperSEQ" id="130" instance="step11">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="112">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="113"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="116"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="cutBackX" id="137"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] + 50" id="138"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="139"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="140"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="141"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="142"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="143"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="144"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="145"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="4" nextID="147" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="59">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="87">
														<contact name="auto" type="Normal" id="88"/>
														<contact name="cutSeq" type="Normal" id="20"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="60"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="30" id="63"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="109"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<funcBlock name="StepperSEQ" id="95" instance="step2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="NE" id="125">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="126"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="129"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="cutBackX" id="146"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] + 50" id="97"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="98"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="99"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="100"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="101"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="102"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="103"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="104"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<funcBlock name="StepperSEQ" id="130" instance="step12">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="112">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="113"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="116"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="cutBackX" id="137"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] - cutOffset" id="138"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="139"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="140"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="141"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="142"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="143"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="144"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="145"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="5" nextID="147" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="59">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="87">
														<contact name="auto" type="Normal" id="88"/>
														<contact name="cutSeq" type="Normal" id="20"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="60"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="40" id="63"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="109"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<funcBlock name="StepperSEQ" id="95" instance="step3">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="NE" id="125">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="126"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="129"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="cutBackX" id="146"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] - cutOffset" id="97"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="98"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="99"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="100"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="101"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="102"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="103"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="104"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<funcBlock name="StepperSEQ" id="130" instance="step13">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="112">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="113"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="116"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="cutBackX" id="137"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] + 50" id="138"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="139"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="140"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="141"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="142"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="143"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="144"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="145"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="6" nextID="152" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="59">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="87">
														<contact name="auto" type="Normal" id="88"/>
														<contact name="cutSeq" type="Normal" id="20"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="60"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="50" id="63"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="109"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<funcBlock name="StepperSEQ" id="95" instance="step4">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="NE" id="125">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="126"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="129"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<expression name="cutFrontX + 50" id="147"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] - cutOffset" id="97"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="98"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="99"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="100"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="101"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="102"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="103"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="104"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="109">
									<input>
										<operator name="MOVE" id="148">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="112">
														<inputs>
															<pin name="EN" neg="false" type="BOOL"/>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="113"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="116"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<const name="80" id="151"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="curSeq" id="150"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="7" nextID="147" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="95" instance="step5">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="NE" id="125">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<operator name="EQ" id="59">
																	<inputs>
																		<pin name="EN" neg="false" type="BOOL">
																			<and id="87">
																				<contact name="auto" type="Normal" id="88"/>
																				<contact name="cutSeq" type="Normal" id="20"/>
																			</and>
																		</pin>
																		<pin name="0" neg="false" type="UNDEF">
																			<var name="curSeq" id="60"/>
																		</pin>
																		<pin name="1" neg="false" type="UNDEF">
																			<const name="60" id="63"/>
																		</pin>
																	</inputs>
																	<outputs>
																		<pin name="ENO" neg="false" type="BOOL"/>
																		<pin name="2" neg="false" type="BOOL">
																			<outputLine/>
																		</pin>
																	</outputs>
																</operator>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="126"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="129"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="cutBackX" id="146"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] - cutOffset" id="97"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="98"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="99"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="100"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="101"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="102"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="103"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="104"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="8" nextID="147" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="StepperSEQ" id="95" instance="step6">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="NE" id="125">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<operator name="EQ" id="59">
																	<inputs>
																		<pin name="EN" neg="false" type="BOOL">
																			<and id="87">
																				<contact name="auto" type="Normal" id="88"/>
																				<contact name="cutSeq" type="Normal" id="20"/>
																			</and>
																		</pin>
																		<pin name="0" neg="false" type="UNDEF">
																			<var name="curSeq" id="60"/>
																		</pin>
																		<pin name="1" neg="false" type="UNDEF">
																			<const name="70" id="63"/>
																		</pin>
																	</inputs>
																	<outputs>
																		<pin name="ENO" neg="false" type="BOOL"/>
																		<pin name="2" neg="false" type="BOOL">
																			<outputLine/>
																		</pin>
																	</outputs>
																</operator>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="pickIndex" id="126"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="9" id="129"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="XPOSIN" neg="false" type="INT">
													<var name="cutBackX" id="146"/>
												</pin>
												<pin name="YPOSIN" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] + 50" id="97"/>
												</pin>
												<pin name="ZPOSIN" neg="false" type="INT">
													<var name="ZTop" id="98"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="99"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="100"/>
												</pin>
												<pin name="ZPOSACT" neg="false" type="INT">
													<var name="ZPosAct" id="101"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="102"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="103"/>
												</pin>
												<pin name="ZPOSOUT" neg="false" type="INT">
													<var name="ZPos" id="104"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="9" nextID="38" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="23">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="19">
														<contact name="auto" type="Normal" id="17"/>
														<contact name="cutSeq" type="Normal" id="18"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="24"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="80" id="27"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="2" neg="false" type="BOOL">
													<var name="cmplt" id="37"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="10" nextID="26" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<and id="18">
											<contact name="auto" type="Normal" id="2"/>
											<contact name="cutSeq" type="Normal" id="17"/>
											<contact name="cmplt" type="Positive" id="19"/>
										</and>
									</input>
									<outputs>
										<coil name="cutSeq" type="Reset" id="4"/>
										<tmpVar id="5"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="5">
									<input>
										<operator name="MOVE" id="8">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="moveSpeed" id="9"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="XSpeed" id="10"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="5">
									<input>
										<operator name="MOVE" id="13">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<var name="moveSpeed" id="14"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="YSpeed" id="15"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="5">
									<input>
										<operator name="MOVE" id="22">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="0.0" id="25"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="laserPWM" id="24"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
				<program name="Sched" version="1.0.0" creationDate="1697805682" lastModifiedDate="1702384070" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<localVars>
							<var name="START_PB" type="BOOL"/>
							<var name="PB_Timer" type="TON"/>
						</localVars>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="7" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="TON" id="5" instance="PB_Timer">
											<inputs>
												<pin name="IN" neg="false" type="BOOL">
													<contact name="START_PB" type="Normal" id="4"/>
												</pin>
												<pin name="PT" neg="false" type="UDINT">
													<var name="PBTimeOff" id="6"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="Q" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="ET" neg="false" type="UDINT"/>
											</outputs>
										</funcBlock>
									</input>
									<outputs>
										<coil name="START_PB" type="Reset" id="1"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="2" nextID="5" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<contact name="START_PB" type="Positive" id="0"/>
									</input>
									<outputs>
										<coil name="auto" type="Set" id="1"/>
										<coil name="engraveSeq" type="Set" id="4"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="3" nextID="14" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<contact name="engraveSeq" type="Negative" id="0"/>
									</input>
									<outputs>
										<tmpVar id="8"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="10" id="3"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="curSeq" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="8">
									<input/>
									<outputs>
										<coil name="cutSeq" type="Set" id="11"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="4" nextID="12" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<contact name="cutSeq" type="Negative" id="0"/>
									</input>
									<outputs>
										<tmpVar id="8"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="10" id="3"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="curSeq" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="8">
									<input/>
									<outputs>
										<coil name="pickSeq" type="Set" id="11"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="5" nextID="13" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<contact name="pickSeq" type="Negative" id="0"/>
									</input>
									<outputs>
										<tmpVar id="8"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="10" id="3"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="curSeq" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="8">
									<input/>
									<outputs>
										<coil name="placeSeq" type="Set" id="11"/>
										<coil name="indexSeq" type="Set" id="12"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="6" nextID="12" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<contact name="placeSeq" type="Negative" id="0"/>
									</input>
									<outputs>
										<tmpVar id="8"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="8">
									<input>
										<operator name="MOVE" id="2">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="10" id="3"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="curSeq" id="4"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="8">
									<input/>
									<outputs>
										<coil name="pushSeq" type="Set" id="11"/>
									</outputs>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
				<program name="Engrave_SEQ" version="1.0.0" creationDate="1698189852" lastModifiedDate="1702418252" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<localVars>
							<var name="engX" type="EngraveX"/>
							<var name="tget0" type="TimeGet"/>
						</localVars>
						<localConsts>
							<const name="engOffset" type="INT">
								<initValue>1970</initValue>
							</const>
						</localConsts>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="17" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="TimeGet" id="15" instance="tget0">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="16">
														<contact name="auto" type="Normal" id="0"/>
														<contact name="engraveSeq" type="Positive" id="2"/>
													</and>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="2" nextID="15" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="MOVE" id="10">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="11">
														<contact name="auto" type="Normal" id="0"/>
														<contact name="engraveSeq" type="Positive" id="2"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="timeRTC[placeIndex]" id="12"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="cutDigit" id="14"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="3" nextID="16" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="MOVE" id="10">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="11">
														<contact name="auto" type="Normal" id="0"/>
														<contact name="engraveSeq" type="Positive" id="2"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<const name="20" id="15"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="curSeq" id="14"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="4" nextID="71" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="EngraveX" id="48" instance="engX">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="GT" id="65">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="42">
																	<contact name="auto" type="Normal" id="0"/>
																	<contact name="engraveSeq" type="Normal" id="3"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="UNDEF">
																<var name="curSeq" id="70"/>
															</pin>
															<pin name="1" neg="false" type="UNDEF">
																<const name="10" id="69"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="YPOS0" neg="false" type="INT">
													<expression name="cutPositionsY[pickIndex] - engOffset" id="49"/>
												</pin>
												<pin name="XPOS0" neg="false" type="INT">
													<var name="cutBackX" id="50"/>
												</pin>
												<pin name="XPOSACT" neg="false" type="INT">
													<var name="XPosAct" id="51"/>
												</pin>
												<pin name="YPOSACT" neg="false" type="INT">
													<var name="YPosAct" id="52"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="LASERPWM" neg="false" type="REAL">
													<var name="laserPWM" id="53"/>
												</pin>
												<pin name="XPOSOUT" neg="false" type="INT">
													<var name="XPos" id="54"/>
												</pin>
												<pin name="YPOSOUT" neg="false" type="INT">
													<var name="YPos" id="55"/>
												</pin>
											</outputs>
										</funcBlock>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="5" nextID="38" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="23">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<and id="19">
														<contact name="auto" type="Normal" id="17"/>
														<contact name="engraveSeq" type="Normal" id="18"/>
													</and>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="24"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="100" id="27"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="2" neg="false" type="BOOL">
													<var name="cmplt" id="37"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
							</network>
							<network label="" id="6" nextID="8" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<and id="6">
											<contact name="auto" type="Normal" id="7"/>
											<contact name="engraveSeq" type="Normal" id="5"/>
											<contact name="cmplt" type="Positive" id="2"/>
										</and>
									</input>
									<outputs>
										<coil name="engraveSeq" type="Reset" id="4"/>
									</outputs>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
				<program name="IndexA" version="1.0.0" creationDate="1702382775" lastModifiedDate="1702418776" excludeFromBuild="FALSE" excludeFromBuildIfNotDef="">
					<vars>
						<localVars>
							<var name="disableA" type="TON"/>
							<var name="timEnableA" type="BOOL"/>
						</localVars>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="63" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="51">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="57">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="58">
																	<contact name="auto" type="Normal" id="7"/>
																	<contact name="indexSeq" type="Normal" id="5"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="">
																<var name="pickIndex" id="59"/>
															</pin>
															<pin name="1" neg="false" type="">
																<const name="0" id="62"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="53"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="10" id="56"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="38"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="38">
									<input>
										<operator name="MOVE" id="25">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="1450" id="42"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="APos" id="27"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="38">
									<input/>
									<outputs>
										<coil name="EnableA" type="Reset" id="41"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="2" nextID="63" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<operator name="EQ" id="51">
											<inputs>
												<pin name="EN" neg="false" type="BOOL">
													<operator name="EQ" id="57">
														<inputs>
															<pin name="EN" neg="false" type="BOOL">
																<and id="58">
																	<contact name="auto" type="Normal" id="7"/>
																	<contact name="indexSeq" type="Normal" id="5"/>
																</and>
															</pin>
															<pin name="0" neg="false" type="">
																<var name="pickIndex" id="59"/>
															</pin>
															<pin name="1" neg="false" type="">
																<const name="0" id="62"/>
															</pin>
														</inputs>
														<outputs>
															<pin name="ENO" neg="false" type="BOOL"/>
															<pin name="2" neg="false" type="BOOL">
																<outputLine/>
															</pin>
														</outputs>
													</operator>
												</pin>
												<pin name="0" neg="false" type="UNDEF">
													<var name="curSeq" id="53"/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<const name="20" id="56"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL"/>
												<pin name="2" neg="false" type="BOOL">
													<outputLine/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs>
										<tmpVar id="38"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="38">
									<input>
										<operator name="MOVE" id="25">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="1440" id="42"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="APos" id="27"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="38">
									<input/>
									<outputs>
										<coil name="timEnableA" type="Set" id="41"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="3" nextID="19" comment="" disabled="false" disableCondition="">
								<assignment fromTmpVar="">
									<input>
										<funcBlock name="TON" id="2" instance="disableA">
											<inputs>
												<pin name="IN" neg="false" type="BOOL">
													<contact name="timEnableA" type="Normal" id="0"/>
												</pin>
												<pin name="PT" neg="false" type="UDINT">
													<const name="500" id="13"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="Q" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="ET" neg="false" type="UDINT"/>
											</outputs>
										</funcBlock>
									</input>
									<outputs>
										<coil name="timEnableA" type="Reset" id="1"/>
										<tmpVar id="5"/>
									</outputs>
								</assignment>
								<assignment fromTmpVar="5">
									<input>
										<operator name="MOVE" id="8">
											<inputs>
												<pin name="EN" neg="false" type="BOOL"/>
												<pin name="0" neg="false" type="UNDEF">
													<const name="0" id="11"/>
												</pin>
											</inputs>
											<outputs>
												<pin name="ENO" neg="false" type="BOOL">
													<outputLine/>
												</pin>
												<pin name="1" neg="false" type="UNDEF">
													<var name="APos" id="10"/>
												</pin>
											</outputs>
										</operator>
									</input>
									<outputs/>
								</assignment>
								<assignment fromTmpVar="5">
									<input/>
									<outputs>
										<coil name="EnableA" type="Set" id="17"/>
										<coil name="indexSeq" type="Reset" id="18"/>
									</outputs>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
			</programs>
			<macros/>
			<structs/>
			<typedefs/>
			<enums/>
			<subranges/>
			<interfaces/>
		</main>
		<target id="ArduinoPMC_1p0" name="clock.tgt" fullXml="false">
			<![CDATA[(************************************************************************)
(*                                                                      *)
(*	Description: Definition of target variables and functions           *)
(*                                                                      *)
(************************************************************************)




(************************************************************************)
(*                                                                      *)
(*   GLOBAL VARIABLES                                                   *)
(*                                                                      *)
(************************************************************************)

VAR_GLOBAL

	{G:"I/O"}
	sysDigitalInputs			AT %IX0.0	: ARRAY[ 0..7 ]  OF BOOL;	{ IO:"System digital inputs" }
	sysDigitalOutputs			AT %QX0.0	: ARRAY[ 0..7 ]  OF BOOL;	{ IO:"System digital outputs" }
	sysAnalogInputs				AT %ID1.0	: ARRAY[ 0..2 ]  OF DINT;	{ IO:"System analog inputs" }
	sysAnalogOutputs			AT %QD1.0	: ARRAY[ 0..3 ]  OF REAL;	{ IO:"System analog outputs" }
	sysTempProbes				AT %ID2.0	: ARRAY[ 0..2 ]  OF sysTempProbesType;	{ IO:"System temperature probes" }
	sysDigitalProgrammables		AT %MX3.0	: ARRAY[ 0..11 ] OF BOOL;	{ IO:"System  digital programmables I/O" }
	sysEncodersInputs			AT %IB5.0	: ARRAY[ 0..1 ]	 OF sysEncoderInputType;	{ IO:"System encoders status" }
	
	{G:"User data block"}
	sysUserDataBlock 		AT %MB0.0 	: ARRAY[ 0..4095 ] OF USINT;	{ IO:"Data block available for user data mapping"}
	
	{G:"Fieldbus variables"}
	sysFieldbusDataRO 		AT %MB100.0 : ARRAY[ 0..2047 ] OF BYTE;	{ IO:"Data block RO required for fieldbus data mapping"}
	sysFieldbusDataRW 		AT %MB101.0 : ARRAY[ 0..2047 ] OF BYTE;	{ IO:"Data block RW required for fieldbus data mapping"}

	{G:"Fieldbus variables"}
	sysModbusTCPMasterDataRO	AT %MB102.0 : ARRAY[ 0..4095 ] OF BYTE;	{ DE:"Data block RO required for ModbusTCP fieldbus data mapping"}
	sysModbusTCPMasterDataRW 	AT %MB103.0 : ARRAY[ 0..4095 ] OF BYTE;	{ DE:"Data block RW required for ModbusTCP fieldbus data mapping"}
	
	{G:"System Timers"}
	sysTimer 				AT %MD60000.0 	: UDINT;	{ DE:"System timer [ms]"}
	sysTimerHiRes 			AT %MD60006.0 	: UDINT;	{ DE:"Hi resolution system timer [us]"}
	
	{G:"System"}
	sysIsSimulMode 			AT %MD60008.0 	: BOOL;	{ DE:"TRUE if is simulator target running, FALSE real target is running"}

END_VAR


(************************)
(*                      *)
(*      STRUCTURES      *)
(*                      *)
(************************)

TYPE

	sysEncoderInputType : STRUCT { DE:"PLC econder status" }
		currentState : INT;
		pulsesCount : INT;
		revolutionsCount : INT;
	END_STRUCT;
	
	sysTempProbesType : STRUCT { DE:"PLC temperature probe status" }
		enabled : BOOL;
		highThresholdFault : BOOL;
		lowThresholdFault : BOOL;
		lowREFINFault : BOOL;
		highREFINFFault : BOOL;
		lowRTDINFault : BOOL;
		voltageFault : BOOL;
		faultMask : BYTE;
		rRef : REAL;
		rNominal : REAL;
		ratio: REAL;
		resistance: REAL;
		rtd : UINT;
		temperature : REAL;		
	END_STRUCT;
	

END_TYPE



(************************************************************************)    
(*                                                                      *)    
(*   EMBEDDED FUNCTIONS                                                 *)    
(*                                                                      *)    
(************************************************************************)   


FUNCTION sysLogWriteMsg : BOOL
	{DE:"Writes a log to LogicLab 'Debug' output pane"}
	VAR_INPUT
		level: UINT;
		msg: STRING;
		info1: DINT;
		info2: DINT;
		info3: DINT;
		info4: DINT;
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCfgDOs : BOOL
	{DE:"Global configuration of system Digital Outputs. Values for mode; 0 - latch, 1 - retry"}
	{ HIDDEN:ON }
	VAR_INPUT
		mode: UINT;		
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCfgAIs : BOOL
	{DE:"Global configuration of system Analog Inputs. Values for mode; 0 - 0_10V, 1 - 4_20mA, 2 - NTC"}
	{ HIDDEN:ON }
	VAR_INPUT
		mode: UINT;		
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCfgAO : BOOL
	{DE:"Configuration of system Analog Output specified by pinIndex"}
	{ HIDDEN:ON }
	VAR_INPUT
		pinIndex: UINT;	
		period: INT;		
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCfgProgDIOs : BOOL
	{DE:"Global configuration of system Programmable Digital I/O. Values for mode; 0 - latch, 1 - retry"}
	{ HIDDEN:ON }
	VAR_INPUT
		mode: UINT;		
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCfgProgDIO : BOOL
	{DE:"Configuration of system Programmable Digital I/O specified by pinIndex; 0 - disabled, 1 - input, 2 - output"}
	{ HIDDEN:ON }
	VAR_INPUT
		pinIndex: UINT;
		type: USINT;
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCfgTempProbes : BOOL
	{DE:"Configure system Temperature Probes. Values for mode; 0 - THERMOCOUPLE, 1 - RTD THREE WIRES, 2 - RTD TWO WIRES"}
	{ HIDDEN:ON }
	VAR_INPUT
		mode: UINT;		
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCfgTempProbe : BOOL
	{DE:"Enable system Temperature Probe specified by pinIndex"}
	{ HIDDEN:ON }
	VAR_INPUT
		pinIndex: UINT;	
		enable: BOOL;	
		rRef : REAL; {DE:"400.0 for PT100"}
		rNominal : REAL; {DE:"100.0 for PT100"}
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION]]>
		</target>
		<targetXML name="clock.tgtx" fullXml="true">
			<target>
				<resources>
					<resource name="ArduinoPMC" processor="ARMThumb2_VFP2">
						<task id="0" name="Fast" period="10000" type="cyclic" descr="Fast task">
							<constraints>
								<validPeriods>
									<period>10000</period>
									<period>20000</period>
									<period>50000</period>
								</validPeriods>
							</constraints>
						</task>
						<task id="1" name="Slow" period="100000" type="cyclic" descr="Slow task"/>
						<task id="2" name="Background" period="500000" type="cyclic" descr="Background task"/>
						<task id="3" name="Init" period="0" type="single" descr="Init task"/>
						<task id="4" name="MbBoot" period="0" type="single" descr="Modbus boot task" hidden="true"/>
						<task id="5" name="MbMPrm" period="0" type="single" descr="Modbus master network parametrization" hidden="true"/>
						<task id="6" name="COPMBoot" period="0" type="single" descr="CANopen master boot task" hidden="true"/>
						<task id="7" name="COPMEvent" period="0" type="single" descr="CANopen master event task" hidden="true"/>
						<task id="8" name="COPMParam" period="0" type="single" descr="CANopen master parametrization task" hidden="true"/>
					</resource>
				</resources>
			</target>
		</targetXML>
		<libraries>
			<lib version="1.0.2" name="c:\program files (x86)\arduino plc ide\catalog\arduinopmc_1p0\arduinopmc\..\..\..\Arduino PLC IDE\Libraries\Standard.plclib" fullXml="true" link="true">
				<descr>Release notes:
- 1.0.2 : changed the behaviour of R_TRIG to be fully compliant to IEC 61131-3. Even after a cold restart R_TRIG.Q will now return TRUE once when R_TRIG.CLK is connected to TRUE.
		</descr>
				<libWorkspace>
					<folder id="7" name="Standard">
						<folder name="Timers">
							<Pou name="TOF"/>
							<Pou name="TON"/>
						</folder>
						<folder name="Set/reset">
							<Pou name="TP"/>
							<Pou name="RS"/>
							<Pou name="SR"/>
						</folder>
						<folder name="Edge detection">
							<Pou name="F_TRIG" genHidden="false"/>
							<Pou name="R_TRIG" genHidden="false"/>
						</folder>
						<folder name="Counters">
							<Pou name="CTD"/>
							<Pou name="CTD_DINT"/>
							<Pou name="CTD_UDINT"/>
							<Pou name="CTU_DINT"/>
							<Pou name="CTU"/>
							<Pou name="CTU_UDINT"/>
							<Pou name="CTUD"/>
							<Pou name="CTUD_DINT"/>
							<Pou name="CTUD_UDINT"/>
						</folder>
					</folder>
				</libWorkspace>
				<globalVars/>
				<retainVars/>
				<constantVars/>
				<functions/>
				<functionBlocks>
					<functionBlock name="CTUD_UDINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up-Down counter (UDINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTUD_UDINT but with PV and CV of &lt;b&gt;DINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTUD_UDINT block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and &lt;b&gt;count down&lt;/b&gt; for each  FALSE-to-TRUE transition of the input CD.&lt;br/&gt;
Sets the QU output when the accumulated value (CV) reaches the preset value (PV) value and sets the QD output when the accumulated value (CV) becomes 0.&lt;br/&gt;
&lt;img src= ctudscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of LD set CV to PV&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output QU is set&lt;/li&gt;
&lt;li&gt;when CV becomes 0 the output QD is set&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up input</descr>
								</var>
								<var name="CD" type="BOOL">
									<descr>Count-down input</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="UDINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="QU" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="QD" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="UDINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="MEMCU" type="BOOL">
									<descr>Previous value of CU</descr>
								</var>
								<var name="MEMCD" type="BOOL">
									<descr>Previous value of CD</descr>
								</var>
								<var name="CUEDGE" type="BOOL">
									<descr>True whenever a posedge on CU is detected</descr>
								</var>
								<var name="CDEDGE" type="BOOL">
									<descr>True whenever a posedge on CD is detected</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(* Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l10

l0:
	(* Check for preset input *)
	LD		LD
	JMPCN	l1
	
	LD		PV
	ST		CV
	JMP		l10

l1:
	(* Check for posedge on CU *)
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	(* Store CU value for next cycle *)	
	LD 		CU
	ST 		MEMCU

	(* Check for posedge on CD *)
	LD		CD
	ANDN 	MEMCD
	ST 		CDEDGE
	(* Store CD value for next cycle *)	
	LD 		CD
	ST 		MEMCD

	(* Check for simultaneous posedges on *)
	LD		CUEDGE
	AND		CDEDGE
	JMPC	l10
	
	(* ASSERT(!CUEDGE || !CDEDGE) *)

	(* Check if posedge on CU and we are in bounds *)
	LD		CUEDGE
	AND(	16#FFFFFFFF
	GT		CV
	)
	JMPCN	l2
	
	(* ASSERT(CUEDGE) *)
	(* Increment *)
	LD		CV
	ADD		1
	ST		CV

l2:
    (* Check if posedge on CD and we are in bounds *)
	LD		CDEDGE
	AND(	CV
	GT		0
	)
	JMPCN	l10
	
	(* ASSERT(CDEDGE) *)
	(* Decrement *)
	LD		CV
	SUB		1
	ST		CV
	
	(* ASSERT(!CUEDGE && !CDEDGE) *)
	
l10:
	(* Up counter output *)
	LD		CV
	GE		PV
	ST		QU

	(* Down counter output *)
	LD		CV
	LE		0
	ST		QD
]]>
						</sourceCode>
						<images>
							<image name="ctudscheme.png" width="376" height="244">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAAXgAAAD0CAYAAACRmD2xAAAWEklEQVR4nO3dPXbbSLrG8afu
mTM3mpmW7w7USxB3YHoJctALkHM5kCPzcCI5MHNpAR2ISxC9A3IJ5g6u1NOTzQ3qBgVQAAgQ
QBEfBeD/O4ftpvBVJMEXLwv1IQEAAAAAAAAAAAAAAAAAAAAAMBymbAVrbRflkCQZkypOfODD
H7ssCwCEJhMjS/1XS+UAAPQs1ABvC/4fAFBRqAEeAHCmEAN8XsZOFg8ANYUY4AEADQgtwJ/K
1MniAaCG0AI8AKAhf+m7ABnJRp5H7eABANWRwQPASBHgAWCkQquiycUQBQBQHxk8AIwUAR4A
Rso/wBtzJ2NeZIyNHs8y5jpnveQ6p9fNQfXMyByfC9090L0+P2/f86Pu84D5BXhjniXdSPok
a42sNZJeJT3JmJucLXaH9dy6+2jdO9+CAwBOqz8evAvK95I+yNpNZtmTpLmkX2Xta/S3F0l7
WTsr2M9M1u7cn47Hg7fugoCxiDOfLj/XPo4Jh/e+UV2MB38jF7A3OcseJV1IqlL98iiX9edl
/ACAM9UL8MZcSLqUlBfcJWkX/XtVui+X4e/lMn4AQMPqZvCX0b+vJetd1NhnnXUBABXRTBIA
RqpuT9Z99G9Z1l2W4eeum7yhW/dmAgAgrV4GX15vHte97wqWvymvzwcAnMGniuZR0qWMyQvy
N3IZ+brCfu7kfgk8epQBAFCi/mBj1n6LgvuDjPkia10wN+Zernnkp0Mb+Dwuc3+I1v0St4E/
sf6/JP29djmBrIH0PgSa4jeapLUfoo5KD1HnpthO+VUuV5kv11qJDk4AgObV78lauCdzLZeZ
Sy6Lr1JNc2J35mhGJ8alATBlXfRkzecC+kwui6/TigYA0ILmMviGkcEDQFp/GTwAICgEeAAY
qaDmZKX3KgA0hwweAEYqqAy+SJ83V/lVAR+DaA5grWRMeUuLERt7w43gM3hLL1YA8BJ8gAcm
x1r3AM4UfIA30p99lwEAhij4AD821trOH+iXWbreelUfqW0bfmBa/AO8MXcy5kXG2OjxHI1H
k1znKlp2n7P9RbTs6WhZX95ey+Fh334wV3kQbBGEonNUyYfrLV73HPd7cP73wi/AG/MsN/b7
J1lrZK2RG3/mScbcNFg+nIlWQMB01W8m6YYJnkv6IGvfhga29mOUjd/LmPXJMeFDlA6EdaNi
cq7BE2uRwaBzfV/h3UlPotELnwz+RtI+FdzfPMrN0nSdswzGdP9A/xZ9FwBTVS+Df5tHtWia
vXgCj6uC5eGKOn2knqtaFUcyLyekojHZc9JTcg+p35AddHTiu9GvulU0l9G/ZdUvFx5lSd2E
SQbWruqRUydjdMy6lSpUwqBJ3jcmE9+Z1D6S3yXPc9xXV8cxOr6wFD33jS1DuWE8iKEKgCkY
StDAcNQN8Pvo37IMfVg3WE+ocn3nZyia0OQv1bxfo33o67uR15/g1POxqneT1bWM2cu1oskT
173HdfGjCfQAMDQ+rWgeJV3KmLwgfyMX1N2E29buVXxByF4MAABdyu2RKT1b6aeVrhN/u496
rd1k1r2J/v6Q+NuVlbZW2p7o8Rn3svtXJz3tCnqkVnqPui8fDx5VH70K4PWf/7BWR8+Tfyt6
3sKjLr+erNZ+kMvkHw7d+qU7uWx8k1n3UdJHuaw/XncraSNrZ17H7xDDDAAYqtJ7DZUDmxuH
5iF69knWrv2LJRl3IZAk00lwNeYt36l7U6rqdj1cJKY2VAGX4WOhtIPvQ9lrG1riVvf73Fwz
SWvXMmYnF+S5uZpnYsEWQL+ay+Ab1nkGnz74Iduu1JM1kcETwiHprOaBRR3+mtB1Bh+6sWfw
IX+2hwDf2QFzAnWlj9+3ageTcE6Ab9wEztFaPVk9j9Fj4ltrfXqyAoEYWjaJ8BHgS9CTFV2Z
2g3xNtGT1Qlyyj4yGQA4X5ABHgBwvuCqaLLZu5X+Lmv/7KsctX42u95sCMHEW4cAUoABPjRt
NlkDgDYFFeAL6t7/HETTriGUEcCkBBXgg5KcUarHYgCAr6ACfF4VSF/BtVZdOhcDAAEKKsCH
pE6gJqgDCFHIsckl0bebktUAoEGruYuLtxtb5bn9/r6zOFq3oQft4AFgpMLP4HsqI71pgfGK
M2Gv/i5isLHBo807EJYmgmr2ez3277lfgL/dvEi6yFmykfSo1Xyt282V3NR8a63mHwv28zPa
z69azZkkBAAa5Hf5cgF+r9V8lvjbhaQnSXNJH7Sab3S7eZZ0pbwAfruZS3qWuyB8yjmKu4Fh
7bgvscCIFVWFlD3P00YG72soVTTN3WRdzV+1mn+Qm67vLvrrWi5Dv87ZYp5YBwDQsDbq4Pdy
Wbu0mj/qdnMvF+AfM+tdy/0KONkOcux1ZMAUlNV98z1vRxvNJC8l7RLP15Lmut1cHv7iqmcu
dRz0AQANaTbAuzr3C6WrXeL/T1bTXGeWAQAads5N1tOtaNLr/5T0ergp67bfRXX2RXptB49p
8G0Hje5xk7XbdvC7VCua09aS7qJqmisdZ/kYqeA7jBlzmKiFEI+x6WqogmQ1zbVcNk/9OwC0
qJsAv5rv5G68Xss1jyR7nxpj6j/O2bbqvoER63KwsbWongFQgbU29YCfLseieZTrAPVa1vYd
42SWkhbV109+rZvOuQkZgSoaHrypYcOT+1nNj5+PjF+AX83feWzzKqn+dgAmx3z+0XcRRoHx
4AFgpIIfLni73aZ+Tc9mM8Py4Szf7XY2WlFbSbOFx/bRtq2Ub7u12u3eyhfY+zf25WhX8AH+
SFldHMtHs9x8/qHtb7+0sv+4CqCt/bO8eLn9/j5dBZOsCz9VD/69gTsn2f2PsN49KeSrKT1Z
R+DQAsKY+jdZk9u2WC5Z28ox4OHEBcJ+f3/27gsvLPHziqbQk7UT2Tcy+wJZHvbyxIqut+jC
Y/to21bKFy+PyxfY+zf25WhX8AH+SAA/MVnezXLz+cdx1tZwFU1b+2d58XKqaLoT8uXURv/p
pYwhvzHAFDHY2AiraAi0AOAn+AAPYPgYbqAfBHgAozblG7sE+KTbzXlpxmo+3TMJYTn3XG4e
340eEODT/t13AYAR4nvVEwJ82t+if02dThXm8w+XLUVNwHwlf0put1tdXV1576ts/5iMvj90
q7fvFTpGgM/3N0azAzB0/gH+dnOjtxmaJGkvN+H2t2j5naR7SV8Of0tvfynpp+rN7dqVf5/K
xE8Ff58sOa+FwWzW/FtSpSVD9ldEVrJc2eXZMrN9ve2b2r+1NnWONtHF31cIiVL8PjX5+Rpj
zv78umhZ5DdcsAveD3LB2UQ3F7/JTaz9IElRUH+Vuwjkif/O3KwA0IL66ebt5krSVtI3reZf
Msvu5WZt+qDVfBMF+xtJv2o132fW3Uq6PDF5SPeDjb21PPhv+/39f6pudqiDD1etewpHG1N3
X014LVckyfTaHT96T+z3972dRKGevz4ZfN3X4pPB30T/5mXe8UAU8d3BeO7VdBbvLhJXYm7W
wcvOnVn1AUydMebw2O12qUdy2TkXKJ86+Eu5eVX3R0vcXKsm9fx2s5e7KCTr4eOUIswAv5r/
p+rARubzj78q/ZqrH6epeSaL/Z+iz/jcewNNB+UxBvlEfXOYKSMmxyfAX9Rc/1HSvW43V1rN
d9HfbiTtmXy7dX+RoptsZ4zEZ60tvECMMVADXWujUYXUTTPJOIhfS9rpdjOX+xXwpXiTN10G
EK87/qt55br6nG0P/xu/ztwhck8oWt8Ykxoa99x9EshPS77fkkY/DC2GwacO/rXW2i5r3+mt
Hj7s6pkKmqgbw7hkL4C+9yaafmDafDL4vaS5bjeXOS1j5pKeddz2fS1XTTOXC/Sb3Dr8HL20
o22/bjwlVdfdUJvlTFtoW/d97OB9P6tlT60Dhd/KCWiFT4B/lKtDv9FxNUucnWcj5KNc88k7
ueqZ445PQ9bxBQHh49ddWlk14dH7VeU7VbMarO1fNPFrOFS3VnzepvoBfjXf6XYTd2p6TfRc
jYP+Y+JmarzNq243G7ns/VWrefXOTV3WZfYYqCtnzNH7EZ8kJVlwiFEmbhfdx7FDfD+A1vjd
ZF3NvxyaP7rOTZKruvmWOyyBs5YL8IOtez8gY+9U2UTOGIEOv1NtZ87Z/Zc9b5N/KxqXhdfJ
xNcaSAbVdXZ5Tn13YSuaOvvM/Cqo0+qm9snq2bKniWMmj0cVSrf6HA8nZFWrc3wxmiTOUzXz
OqeqrY3sjl9hw+f7GYby2XdQ/RxyGnMYY73zAyfGzdjtdv+bXDabzf4n+Xy73bK8+nI7+/2P
1PIubX/7RbPZzEhvmdFut0ulSPHywzbbLcvrLP/9j8Ny+/398FswxbO0xeMMlT1PxNTsr5aj
X9U1ArzvjVky+HLpwdCOLzgsr7O8b4kqIskF/bzlZduzHEMwhAy+lzL6jgffutXcu16uqXLH
700IY33XkaqDH1jZ0a3QzvFDecjgmxHKB3skoAyq7RtnTX8G8f7yyl32c5rl5y3vUxPn6VDf
v/ADfFft4LPjiAQUSFNW87MGDhuSOr+i6n6B0C0+n34EX0VjrU2VcbfbpUZey1ZXlLWZrrx9
qAFe/l+GkLIqoHdnJI999cWgimYCCNQAqgg+wJddsdpeDgBD5TfpNgAgeAR4ANMzkQlZgq+i
AYYopFYh3LOZLjJ4ABgpAjwAjBQBvshE6ugAjJdfHfxSL5L2Wmh2Yp0nvU20HdtJWmtRfcq+
ZIeC1usS/zHP9F7wCPKLoDuPTUfAHdU6N4RkJfN5ZQeBm/3+R6PLp6KLDP6dFjJR4FtLuouC
PwCgRX7ZZr0M/p0Wek38fS7pWdKXkkz+aHzl1i2jY/pk4edsi9EJaVpBOvM1byhDFXRfB7/Q
Rq6q5qbzYwPAhPR1k3Uj6VJLXfZ0fAAYvb5b0Vz0fHwAGK2+AzwAoCV9B/jX8lUAAD76CvBz
uVY4+56ODwCj132AX+pa0pWkx86PDQAT0u1okkvdSbpXnd6sS4XToLiKoZUXrTD/DKjt+bLv
AgxQ3J8l279l2UP/nDOcE+CvCoLZNy30JfH8JXGCbSR90oLsHQDaFvJVyF08bjedlTEew9t8
/tHLeN4+PQ5D6jHZlKCy3zPZr5lJ3Vt8bdlj5ZnaORa/3vg1FD2vi56sAIBeMaNTgaGM3zGU
ck6VWXT3+bR1rDGcY9nXMIbXVAUZPACMFBl8CJpq5bBoaD8YH86xSSKDB4CRCj+DX82ZnQe1
DLnVx7mmUrdc9hlP5X0oE3wGb63tvMliH00kAaBp4WfwEfv9fftzsoaiTj0nvRThg3NsEgYT
4NtwKlPv9Wf+1/JV+AkKoEzwVTQAAD/BZ/CtZqrfp3szDsD4BR/ggbqovioxgrbsfMbVNPcu
LfUk6TpnyVpuhMldzT1aSbLWHsrY9E3WIbeW4QQv0XPT2pDOrU7Plez7/o/5+T+TF8dxarvd
pp7Pfv8jvfy3X04u12p+VpGmPNjYOy1kog/lV7mJtZ+11GULxwIAFGgjg3+nRWKu1aWuJG0l
PWqhTzX22PrA+kPuEEMGH7aQzq1ez5XshBldbduyKWfwWfG8qxcdHAsAEOkiwMdVM0ywDQAd
ajfAu3r3B7ngXm0OVgBAI9poJvmS6dq8kfQhVS8PYFJ86qzHNHVjX9puRbOXdEFwB4DutV0H
/yjpSkvdtHwcAEBGuwF+oW9yWfxdq8cBABzpYqiCR0n3WuouCvj1LNVag9NB1/ExhGvQgjq3
hn6utBgDCsVt77Nt8Zft989pUvvNJF1Q30m605K28ADQlZCvQt1eKdvIcgId1Clu0eDTw/Gc
bZsU6mvoqlyhvv6yY9YRly+Ucy6JnqwAABSwUrd1b9Zad2Ueep1licPr7HjbJoX6GroqV6iv
v+yYdR59lreMz+tp4lEXGTwAjBQTfgABK8vazslsQ8uKs7LlC728ISLAF+BkOm0M70+oryHU
cmF4BlFFE2IdHACEjgy+QEhNskIyhvcl1NeQVy4SG5wj+ACfvZsOAKgm+ACPFjTVDLTPjlyh
voZQy4VJCj7AG2NG3y4dANoQfIDvHJkTgJHwv9vkBg67U3oo4LWkL1ok5l9d6knSdWbrnaR1
yeiSwxm1rYnR7tqYOT7EcnVUpibu1yRvelbZX5tj2wBSV2PRuOC+lTSXNIu+cO+k6O/Lw0Tb
ScmZntZyo0s+eR0fAFDKt4rmQS6Yzw7T8S30qqU+SvoZLf9QuPVC37TUTtKz9zjxIfLJdrsY
6zrEcnVUpnNGW6y6H7JshKp+Bu+y82u5Kpb0XKvu+U7SVel+FtpE6zKdHwC0wKeKJq5+2ecu
XeiDFnpXcV8bSZcFVToAgDP4BPg2ZmVipicAaNggxqIBANTnE+Bfy1cJYp8AMGk+AT6ue8+v
N1/qWUu9VNzXXNI+1W4eANCI+gHeBeO1pOuoPfwb9/xK7ubpaUtdR+s+1i4DAKCUX9c71+rl
WS6b/6SF9lFwf5IL2rNDVv7Wk/XdoVnlUneS7uWaWn4sOIqN1h2OENubS7JfbWG5Ctt3j6Qd
POAtPkfj8y7z/NT3qi3d9GR1wXsmF+B/Ri/4Ra4ufVZQ5fKipWy07lzuwlAU3AEAZwp5nJc4
g2+2jAwmhgGhlyySusngAQDBCz+DD7uMQKvI4JFEBg8ACJ6Vxt1qwlp79qPvVkahvoauyhXq
6x9LeUPVxPvo9d7XRAYPACPFlH0BMP/0GLP8a1g/bkJ9DV2VK9TXX2Ro5YUfMngAQOdGVQff
V53dkB9NvN9aqnadcZ265q6O05ShlTdUQ/lOkMEDwEgR4AFgpAjwADBS/r1E3eiRd9Ejtpb0
JTXYmBsbfq+FZjn72Eq6LJjDdVQ9Wc+tU56iur32CjUxCmWV0S+7Ok4VIZVlhPr6PnfTk9UF
963cqJCz6ER4J0V/ZxJtAOidbzv4B7lgPjuM8b7Qq5b6KOlntPxDIyUEmtLVGPQhjXUfUlnQ
ufoZvMvOr+Um60jPpeqe7+Qm/QAA9Mgng4+rX/LnUV2QuQNACHzq4C/KVwEA9I1mkgAwUj4B
/rV8FQBA33wCfFz3nt8UcqnnqO17jAsCAPSgfoB3nZjWkq6j9vBv3PMrSZvEX3eSLo/WdS4z
6wIAGuLbDv6LpGdJT1rqkxbaRwH8KbE8ue42Wvdj1F6+aN1jI2mT6zP+9uSFNGphV+dhw8dJ
9ris3TN4JN+9RsT9CaL3xMRvZvTcfrUn39x49fjzyD5vi99NVpfFz+Sqa35GL/JFrjpmlhqq
4G3dV0kvJ9cFADQm5LRyVGPR5AopQw3BouJ60ftWNsNQY2PZABnjHosG6FmV6eMY4A1TF3KK
M/4MHt7qBG8yeTRtKBl8yGc+AR5nyd7QAgYgFffOukku/1Y0QPAI7BiwRhLckL8BZPAApqao
7scrDlbZiDtVABCGWoGeVjQAMFIhV39QRQNgahqtouEmKwCE66wElwAPAOFppOaCAA8ANbXY
0anSoGVVcZMVAEaKAA8AI0WAB4CRIsADwEgR4AFgpAjwADBSBHgAGCkCPACMFAEeAEaKAA8A
AAAAAAAAAAAAAAAAAEbq/wGQpWZSHyQgQgAAAABJRU5ErkJggg==]]>
							</image>
							<image icon="true" name="ctud48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC5UlEQVRoge1YoZLbMBB92yns
gRRcZ2xWHtSZfEGKDxXHKCHH8wvHW3KHHFzSooLeF1yn6Ep7zAIBNcgHbEEkZ61IthS7OWea
N6ORJa1Xb61drSXgjDP+b5Cnn11jzPxv2USAaEvvhWOMrXrQsA2wSQ/eiJdW27iN04WGCJcL
nRTOBjw3WrfRJMlvAczF2F1RzBb2C2m6WgK4cegqAbwH8FO35wBufXJKZUYOzAwiQpLkDICU
yvZesoPYhXvxPPdKbQneOfrnuiwi5QDAkAcATpJ8z4ioRKaV3SmVLWRSG0/W+FN886gCa8J7
q+aSUyqr5AT5GueimDUmslbYGfnx4fIQNY3wkAcATtNV1QhxoVCMACx1HYIbIWvqEmgkb1B5
yMEGpOlqVBSzcjxZm66lLjZK7Pv8CFt/t401ARycRLtso7/TdCV3HUOGrPJaEDModb+UAYCp
rjmgHG6ADqARgNHjw2UfMVCaB2aGUlnbClTjnRPZeLKGcKPOMLtLgxFUFLOq0RoDSZJ/wG5p
AWCqk5sPrrHP2OWTd2jOJxWKYkZpupIBTUplIMqqjpAgnloTvhXtp18/3gAAkiQ34y5yT2g3
wBXsUCqjpkzsw9HOAU2nPGauFfGR2vWGKOyrtBkXS77RgKHh5H+nzwY8N6ptVPq3SSZ9+jwf
srMxE4jMj1utNlku6jzQBdyzTqOo8+/0QV+2R+xcSHQSolntviyzWGAHYtySyC+v5whZgThb
msiHjAfIb66vqudQFxr+LR3rxdI+zVwvQSeMYxW8+l7xrlZgc32125k+fWXRDsLFxy+gi/t2
QQu8mdbek217zPRB9FUk5c+SUhknSS4veiVsw9pixKfHp68V8lolNgZiSXQ13j2ZCGxpgMx0
TcpjJw25IvFhLwNvaybzLcQXqWUCLeTS1TRXCDdqGQ9Fh5u544OiLR3ayaV2FyTR13oeE2Su
3ZswNGO8K3AiMQAgMl8MbQXOGCz+ArhmepcGiq6VAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTUD_DINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up-Down counter (DINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTUD but with PV and CV of &lt;b&gt;DINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTUD_DINT block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and &lt;b&gt;count down&lt;/b&gt; for each  FALSE-to-TRUE transition of the input CD.&lt;br/&gt;
Sets the QU output when the accumulated value (CV) reaches the preset value (PV) value and sets the QD output when the accumulated value (CV) becomes 0.&lt;br/&gt;
&lt;img src= ctudscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of LD set CV to PV&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output QU is set&lt;/li&gt;
&lt;li&gt;when CV becomes 0 the output QD is set&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up input</descr>
								</var>
								<var name="CD" type="BOOL">
									<descr>Count-down input</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="DINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="QU" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="QD" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="DINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="MEMCU" type="BOOL">
									<descr>Previous value of CU</descr>
								</var>
								<var name="MEMCD" type="BOOL">
									<descr>Previous value of CD</descr>
								</var>
								<var name="CUEDGE" type="BOOL">
									<descr>True whenever a posedge on CU is detected</descr>
								</var>
								<var name="CDEDGE" type="BOOL">
									<descr>True whenever a posedge on CD is detected</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(* Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l10

l0:
	(* Check for preset input *)
	LD		LD
	JMPCN	l1
	
	LD		PV
	ST		CV
	JMP		l10

l1:
	(* Check for posedge on CU *)
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	(* Store CU value for next cycle *)	
	LD 		CU
	ST 		MEMCU

	(* Check for posedge on CD *)
	LD		CD
	ANDN 	MEMCD
	ST 		CDEDGE
	(* Store CD value for next cycle *)	
	LD 		CD
	ST 		MEMCD

	(* Check for simultaneous posedges on *)
	LD		CUEDGE
	AND		CDEDGE
	JMPC	l10
	
	(* ASSERT(!CUEDGE || !CDEDGE) *)

	(* Check if posedge on CU and we are in bounds *)
	LD		CUEDGE
	AND(	CV
	LT		16#7FFFFFFF
	)
	JMPCN	l2
	
	(* ASSERT(CUEDGE) *)
	(* Increment *)
	LD		CV
	ADD		1
	ST		CV

l2:
    (* Check if posedge on CD and we are in bounds *)
	LD		CDEDGE
	AND(	CV
	GT		-2147483648
	)
	JMPCN	l10
	
	(* ASSERT(CDEDGE) *)
	(* Decrement *)
	LD		CV
	SUB		1
	ST		CV
	
	(* ASSERT(!CUEDGE && !CDEDGE) *)
	
l10:
	(* Up counter output *)
	LD		CV
	GE		PV
	ST		QU

	(* Down counter output *)
	LD		CV
	LE		0
	ST		QD
]]>
						</sourceCode>
						<images>
							<image name="ctudscheme.png" width="376" height="244">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctud48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC5UlEQVRoge1YoZLbMBB92yns
gRRcZ2xWHtSZfEGKDxXHKCHH8wvHW3KHHFzSooLeF1yn6Ep7zAIBNcgHbEEkZ61IthS7OWea
N6ORJa1Xb61drSXgjDP+b5Cnn11jzPxv2USAaEvvhWOMrXrQsA2wSQ/eiJdW27iN04WGCJcL
nRTOBjw3WrfRJMlvAczF2F1RzBb2C2m6WgK4cegqAbwH8FO35wBufXJKZUYOzAwiQpLkDICU
yvZesoPYhXvxPPdKbQneOfrnuiwi5QDAkAcATpJ8z4ioRKaV3SmVLWRSG0/W+FN886gCa8J7
q+aSUyqr5AT5GueimDUmslbYGfnx4fIQNY3wkAcATtNV1QhxoVCMACx1HYIbIWvqEmgkb1B5
yMEGpOlqVBSzcjxZm66lLjZK7Pv8CFt/t401ARycRLtso7/TdCV3HUOGrPJaEDModb+UAYCp
rjmgHG6ADqARgNHjw2UfMVCaB2aGUlnbClTjnRPZeLKGcKPOMLtLgxFUFLOq0RoDSZJ/wG5p
AWCqk5sPrrHP2OWTd2jOJxWKYkZpupIBTUplIMqqjpAgnloTvhXtp18/3gAAkiQ34y5yT2g3
wBXsUCqjpkzsw9HOAU2nPGauFfGR2vWGKOyrtBkXS77RgKHh5H+nzwY8N6ptVPq3SSZ9+jwf
srMxE4jMj1utNlku6jzQBdyzTqOo8+/0QV+2R+xcSHQSolntviyzWGAHYtySyC+v5whZgThb
msiHjAfIb66vqudQFxr+LR3rxdI+zVwvQSeMYxW8+l7xrlZgc32125k+fWXRDsLFxy+gi/t2
QQu8mdbek217zPRB9FUk5c+SUhknSS4veiVsw9pixKfHp68V8lolNgZiSXQ13j2ZCGxpgMx0
TcpjJw25IvFhLwNvaybzLcQXqWUCLeTS1TRXCDdqGQ9Fh5u544OiLR3ayaV2FyTR13oeE2Su
3ZswNGO8K3AiMQAgMl8MbQXOGCz+ArhmepcGiq6VAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTUD" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up-Down counter</title>
						<descr>&lt;HTML&gt;The CTUD block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and &lt;b&gt;count down&lt;/b&gt; for each  FALSE-to-TRUE transition of the input CD.&lt;br/&gt;
Sets the QU output when the accumulated value (CV) reaches the preset value (PV) value and sets the QD output when the accumulated value (CV) becomes 0.&lt;br/&gt;
&lt;img src= ctudscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of LD set CV to PV&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output QU is set&lt;/li&gt;
&lt;li&gt;when CV becomes 0 the output QD is set&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up input</descr>
								</var>
								<var name="CD" type="BOOL">
									<descr>Count-down input</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="INT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="QU" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="QD" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="INT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="MEMCU" type="BOOL">
									<descr>Previous value of CU</descr>
								</var>
								<var name="MEMCD" type="BOOL">
									<descr>Previous value of CD</descr>
								</var>
								<var name="CUEDGE" type="BOOL">
									<descr>True whenever a posedge on CU is detected</descr>
								</var>
								<var name="CDEDGE" type="BOOL">
									<descr>True whenever a posedge on CD is detected</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(* Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l10

l0:
	(* Check for preset input *)
	LD		LD
	JMPCN	l1
	
	LD		PV
	ST		CV
	JMP		l10
	
l1:
	(* Check for posedge on CU *)
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	(* Store CU value for next cycle *)	
	LD 		CU
	ST 		MEMCU
	
	(* Check for posedge on CD *)
	LD		CD
	ANDN 	MEMCD
	ST 		CDEDGE
	(* Store CD value for next cycle *)	
	LD 		CD
	ST 		MEMCD

	(* Check for simultaneous posedges on *)
	LD		CUEDGE
	AND		CDEDGE
	JMPC	l10
	
	(* ASSERT(!CUEDGE || !CDEDGE) *)

	(* Check if posedge on CU and we are in bounds *)
	LD		CUEDGE
	AND(	CV
	LT		16#7FFF
	)
	JMPCN	l2
	
	(* ASSERT(CUEDGE) *)
	(* Increment *)
	LD		CV
	ADD		1
	ST		CV
	
l2: 
    (* Check if posedge on CD and we are in bounds *)
	LD		CDEDGE
	AND(	CV
	GT		-32768
	)
	JMPCN	l10
	
	(* ASSERT(CDEDGE) *)
	(* Decrement *)
	LD		CV
	SUB		1
	ST		CV
	
	(* ASSERT(!CUEDGE && !CDEDGE) *)
	
l10:
	(* Up counter output *)
	LD		CV
	GE		PV
	ST		QU

	(* Down counter output *)
	LD		CV
	LE		0
	ST		QD
]]>
						</sourceCode>
						<images>
							<image name="ctudscheme.png" width="376" height="244">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctud48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC5UlEQVRoge1YoZLbMBB92yns
gRRcZ2xWHtSZfEGKDxXHKCHH8wvHW3KHHFzSooLeF1yn6Ep7zAIBNcgHbEEkZ61IthS7OWea
N6ORJa1Xb61drSXgjDP+b5Cnn11jzPxv2USAaEvvhWOMrXrQsA2wSQ/eiJdW27iN04WGCJcL
nRTOBjw3WrfRJMlvAczF2F1RzBb2C2m6WgK4cegqAbwH8FO35wBufXJKZUYOzAwiQpLkDICU
yvZesoPYhXvxPPdKbQneOfrnuiwi5QDAkAcATpJ8z4ioRKaV3SmVLWRSG0/W+FN886gCa8J7
q+aSUyqr5AT5GueimDUmslbYGfnx4fIQNY3wkAcATtNV1QhxoVCMACx1HYIbIWvqEmgkb1B5
yMEGpOlqVBSzcjxZm66lLjZK7Pv8CFt/t401ARycRLtso7/TdCV3HUOGrPJaEDModb+UAYCp
rjmgHG6ADqARgNHjw2UfMVCaB2aGUlnbClTjnRPZeLKGcKPOMLtLgxFUFLOq0RoDSZJ/wG5p
AWCqk5sPrrHP2OWTd2jOJxWKYkZpupIBTUplIMqqjpAgnloTvhXtp18/3gAAkiQ34y5yT2g3
wBXsUCqjpkzsw9HOAU2nPGauFfGR2vWGKOyrtBkXS77RgKHh5H+nzwY8N6ptVPq3SSZ9+jwf
srMxE4jMj1utNlku6jzQBdyzTqOo8+/0QV+2R+xcSHQSolntviyzWGAHYtySyC+v5whZgThb
msiHjAfIb66vqudQFxr+LR3rxdI+zVwvQSeMYxW8+l7xrlZgc32125k+fWXRDsLFxy+gi/t2
QQu8mdbek217zPRB9FUk5c+SUhknSS4veiVsw9pixKfHp68V8lolNgZiSXQ13j2ZCGxpgMx0
TcpjJw25IvFhLwNvaybzLcQXqWUCLeTS1TRXCDdqGQ9Fh5u544OiLR3ayaV2FyTR13oeE2Su
3ZswNGO8K3AiMQAgMl8MbQXOGCz+ArhmepcGiq6VAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTU_UDINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up counter (UDINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTU but with PV and CV of &lt;b&gt;UDINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTU_UDINT block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and sets the output Q when the accumulated value (CV) reaches the preset value (PV) value.&lt;br/&gt;
&lt;img src= ctuscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is equal to PV its value remains until a rising edge of R&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up on input rising edge</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="PV" type="UDINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="CV" type="UDINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CUEDGE" type="BOOL"/>
								<var name="MEMCU" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	
	LD 		CU
	ST 		MEMCU
	
	LD 		CUEDGE
	AND(	CV
	LT		16#FFFFFFFF
	)
	JMPCN	l1
	
	LD		CV
	ADD		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	GE		PV
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image icon="true" name="ctu48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACtUlEQVRoge2YoXLcMBCGf3UK
G3AF7YzFyoM6kye44KDiO3RHwu8VwluSQz5c0qKA5gnaKWppw2wQUIN7gC2w1ifLki3ZzkU3
9TfjsSWt17vWrtYyMDHxfyMc/WQbI6KntSYAIUrzXljGyDhHjemAaXT0Trw02hw21hCKEVsI
nRSTA89N5zKaJOktgJU2ts2yxdq8QcrdBsCNRVcB4BLAT9VeAbh1yeX5kuVARBBCIElSAiDy
fNm4yUxiG/fa9copVRq4tfSv1LEOlAMANh4AKEnShhNBhUwp2+b5cq0XtfOLR/zN7hyqQMrg
xqzZ5PJ8WclpxtdszrJFayHrxKzIv76/6aOmFYfxAEBS7qqGTwj5MgOwUWcfbjRZPhdAq/FM
FSG9HZByN8uyRXF+8chdG3WYFGjG/AxlvJvOcgJ7F9Ehy+gfKXf6qsPGCON4rRnGFKpflwGA
eagRvWZALW0zADOOfyn7aKoo+MLML05WF4NzQAuhUegy2KTTgSRJP6A+tXNV3FzYxj7jUE/e
o72eBOEzA3Pjge+09sPvH28BAEmS8rjNuAd0O2BL9t4cbR8wdJcXlAMxbSmZ4CQOTbKn5uQ/
pycHnpsqB/QE5TgfM2mpz8pGJCAEf7jVzpyJQfuBIdDIOlnR4E+JXm92RA4hpHUKBFt1eLNE
2gRbCAlLIdzy6hk+MxDmS1edCK0jFvn99VV17RtCcVUvG6QmS8U0Uf1ATAdefavsrmZgf311
WJk+fSWt7cXZxy8QZ/fdgga0n9fu09vmGPdB69OMrKUxASQsA8Y91nETlx6Xvk7KdcI/iYcY
MdR5+8O0xNYd0Ctdm/LQh/r8InHRqMDlmQS/C58QMnS1PcvHNtEx7suAP3PHRwR7GtvWq1pB
Tcaaz2Mi+Ld7G7E545yBE8kBAIH1IrYZmIiWf2FOAyn58r38AAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTU" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up counter</title>
						<descr>&lt;HTML&gt;The CTU block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and sets the output Q when the accumulated value (CV) reaches the preset value (PV) value.&lt;br/&gt;
&lt;img src= ctuscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is equal to PV its value remains until a rising edge of R&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up on input rising edge</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="PV" type="INT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="CV" type="INT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CUEDGE" type="BOOL"/>
								<var name="MEMCU" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	
	LD 		CU
	ST 		MEMCU
	
	LD 		CUEDGE
	AND(	CV
	LT		16#7FFF
	)
	JMPCN	l1
	
	LD		CV
	ADD		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	GE		PV
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctuscheme.png" width="336" height="200">
								<![CDATA[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
Si8AAAAASUVORK5CYII=]]>
							</image>
							<image icon="true" name="ctu48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACtUlEQVRoge2YoXLcMBCGf3UK
G3AF7YzFyoM6kye44KDiO3RHwu8VwluSQz5c0qKA5gnaKWppw2wQUIN7gC2w1ifLki3ZzkU3
9TfjsSWt17vWrtYyMDHxfyMc/WQbI6KntSYAIUrzXljGyDhHjemAaXT0Trw02hw21hCKEVsI
nRSTA89N5zKaJOktgJU2ts2yxdq8QcrdBsCNRVcB4BLAT9VeAbh1yeX5kuVARBBCIElSAiDy
fNm4yUxiG/fa9copVRq4tfSv1LEOlAMANh4AKEnShhNBhUwp2+b5cq0XtfOLR/zN7hyqQMrg
xqzZ5PJ8WclpxtdszrJFayHrxKzIv76/6aOmFYfxAEBS7qqGTwj5MgOwUWcfbjRZPhdAq/FM
FSG9HZByN8uyRXF+8chdG3WYFGjG/AxlvJvOcgJ7F9Ehy+gfKXf6qsPGCON4rRnGFKpflwGA
eagRvWZALW0zADOOfyn7aKoo+MLML05WF4NzQAuhUegy2KTTgSRJP6A+tXNV3FzYxj7jUE/e
o72eBOEzA3Pjge+09sPvH28BAEmS8rjNuAd0O2BL9t4cbR8wdJcXlAMxbSmZ4CQOTbKn5uQ/
pycHnpsqB/QE5TgfM2mpz8pGJCAEf7jVzpyJQfuBIdDIOlnR4E+JXm92RA4hpHUKBFt1eLNE
2gRbCAlLIdzy6hk+MxDmS1edCK0jFvn99VV17RtCcVUvG6QmS8U0Uf1ATAdefavsrmZgf311
WJk+fSWt7cXZxy8QZ/fdgga0n9fu09vmGPdB69OMrKUxASQsA8Y91nETlx6Xvk7KdcI/iYcY
MdR5+8O0xNYd0Ctdm/LQh/r8InHRqMDlmQS/C58QMnS1PcvHNtEx7suAP3PHRwR7GtvWq1pB
Tcaaz2Mi+Ld7G7E545yBE8kBAIH1IrYZmIiWf2FOAyn58r38AAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTU_DINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up counter (DINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTU but with PV and CV of &lt;b&gt;DINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTU_DINT block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and sets the output Q when the accumulated value (CV) reaches the preset value (PV) value.&lt;br/&gt;
&lt;img src= ctuscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is equal to PV its value remains until a rising edge of R&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up on input rising edge</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="PV" type="DINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="CV" type="DINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CUEDGE" type="BOOL"/>
								<var name="MEMCU" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	
	LD 		CU
	ST 		MEMCU
	
	LD 		CUEDGE
	AND(	CV
	LT		16#7FFFFFFF
	)
	JMPCN	l1
	
	LD		CV
	ADD		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	GE		PV
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctuscheme.png" width="336" height="200">
								<![CDATA[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
Si8AAAAASUVORK5CYII=]]>
							</image>
							<image icon="true" name="ctu48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACtUlEQVRoge2YoXLcMBCGf3UK
G3AF7YzFyoM6kye44KDiO3RHwu8VwluSQz5c0qKA5gnaKWppw2wQUIN7gC2w1ifLki3ZzkU3
9TfjsSWt17vWrtYyMDHxfyMc/WQbI6KntSYAIUrzXljGyDhHjemAaXT0Trw02hw21hCKEVsI
nRSTA89N5zKaJOktgJU2ts2yxdq8QcrdBsCNRVcB4BLAT9VeAbh1yeX5kuVARBBCIElSAiDy
fNm4yUxiG/fa9copVRq4tfSv1LEOlAMANh4AKEnShhNBhUwp2+b5cq0XtfOLR/zN7hyqQMrg
xqzZ5PJ8WclpxtdszrJFayHrxKzIv76/6aOmFYfxAEBS7qqGTwj5MgOwUWcfbjRZPhdAq/FM
FSG9HZByN8uyRXF+8chdG3WYFGjG/AxlvJvOcgJ7F9Ehy+gfKXf6qsPGCON4rRnGFKpflwGA
eagRvWZALW0zADOOfyn7aKoo+MLML05WF4NzQAuhUegy2KTTgSRJP6A+tXNV3FzYxj7jUE/e
o72eBOEzA3Pjge+09sPvH28BAEmS8rjNuAd0O2BL9t4cbR8wdJcXlAMxbSmZ4CQOTbKn5uQ/
pycHnpsqB/QE5TgfM2mpz8pGJCAEf7jVzpyJQfuBIdDIOlnR4E+JXm92RA4hpHUKBFt1eLNE
2gRbCAlLIdzy6hk+MxDmS1edCK0jFvn99VV17RtCcVUvG6QmS8U0Uf1ATAdefavsrmZgf311
WJk+fSWt7cXZxy8QZ/fdgga0n9fu09vmGPdB69OMrKUxASQsA8Y91nETlx6Xvk7KdcI/iYcY
MdR5+8O0xNYd0Ctdm/LQh/r8InHRqMDlmQS/C58QMnS1PcvHNtEx7suAP3PHRwR7GtvWq1pB
Tcaaz2Mi+Ld7G7E545yBE8kBAIH1IrYZmIiWf2FOAyn58r38AAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTD_UDINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Down counter (UDINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTD but with PV and CV of &lt;b&gt;UDINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTD_UDINT block &lt;b&gt;counts down&lt;/b&gt; for each FALSE-to-TRUE transition of the input CD and sets the output Q when the accumulated value (CV) reaches the 0 value.&lt;br/&gt;
&lt;img src= ctdscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of LD set CV to the value of PV&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches 0 the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is 0 its value remains 0 until a rising edge of LD&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CD" type="BOOL">
									<descr>Count-down on input rising edge</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="UDINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="UDINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CDEDGE" type="BOOL"/>
								<var name="MEMCD" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		LD
	JMPCN	l0
	
	LD		PV
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD 	CD
	ANDN 	MEMCD
	ST 		CDEDGE
	
	LD 		CD
	ST 		MEMCD
	
	LD 		CDEDGE
	AND(	CV
	GT		0
	)
	JMPCN	l1
	
	LD		CV
	SUB		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	LE		0
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctdscheme.png" width="336" height="200">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctd48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADBElEQVRoge1YvW7bMBD+WHRs
AthDA1Bbpg7NVDRP4Ayd2jeQJmdpZ79C9naJJ3nu0k4Zmido4KlZm40EmiEGnO7XQaJ8okiL
st2Yaf0BhCTyJN7H++GJwA47/N8Qnn5yjRHR39WmA4Qo1HviGCPrGjVsArbS0ZN4aj0bt3G6
UIxwudCjwo7AttGaRqXMhwDOHTIzACdKpVMASJLJCMCZTw7AtHweAPhm66F11lSCCEIIEBGS
ZAKXjB3ELkwBjB39w7KddpS7YXIDAIfLJjd7j1IpkgQNEp02Mg4pcwIwVio9PTq+xZ268OpQ
KnzqGDtHQc5rARtJMoFS6dKNzIuXr3+BiBof/vH9eZfPBMG36xeWmFTPIS4EAJAyP7tTF70k
AQD0yu4ZE+kBGLGxldFWshQWyAAEEpAy76Ewta3c9Oj41tyPymZjBndsNObQOpsBqK1wG4Jc
SOtspnXW7ydvhFKpANAvhwZMzJATVutjkYGW4aeUucliFNDCCRhcXx1ACAGzUkDh/xuKgR6A
Xuk+SxOI1lk1HhwDPjAX2ghY3hdwFJNceSCAgJT5KxT+HwrXpvcZwGV5f4hFrBgXrL1jUqSU
eY2EUqkwwWsQYgEfgRmA8fXVgZnM9LtkbywCtsyQyVXQOqtIFCufBqhb4MH+A9b9y+sUAzH9
Uhp0DmLjn7Hg3ymnqd5JFPEvJVeMW8A+jWjsejGCExCOa5RW4CsaGsRtVtga0RACbcpt1cXW
roVKhJLYjKWIgDKdewk4Kym/aNC0gXKtuP/wrrrflAVC0ZWEWUfX1foyUZEzi3KBqj7TH1HD
s8WpTMVk/v5t1bn/6SsBELyvDXsfv0DsXbYLWqD7Qe09/myP1fp+n9QJsHIYWmcEED/o5bDN
F5pifXLeGKJ5fSh5UejIj1VCY2BVJdYl756MFZTsg8SCpJGDtkKA5kKIfa4Xv4oGAT4PdyE2
97L5XBxc8qJlPBQrnMxtD6Iz09gqUG9VvCl7PiSEOXZfhtjIeC3wSGIAQMdCMDYL7BAt/gCj
bz7ec2bPQgAAAABJRU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTD_DINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Down counter (DINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTD but with PV and CV of &lt;b&gt;DINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTD_DINT block &lt;b&gt;counts down&lt;/b&gt; for each FALSE-to-TRUE transition of the input CD and sets the output Q when the accumulated value (CV) reaches the 0 value.&lt;br/&gt;
&lt;img src= ctdscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of LD set CV to the value of PV&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches 0 the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is 0 its value remains 0 until a rising edge of LD&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CD" type="BOOL">
									<descr>Count-down on input rising edge</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="DINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="DINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CDEDGE" type="BOOL"/>
								<var name="MEMCD" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		LD
	JMPCN	l0
	
	LD		PV
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD 	CD
	ANDN 	MEMCD
	ST 		CDEDGE
	
	LD 		CD
	ST 		MEMCD
	
	LD 		CDEDGE
	AND(	CV
	GT		-2147483648
	)
	JMPCN	l1
	
	LD		CV
	SUB		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	LE		0
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctdscheme.png" width="336" height="200">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctd48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADBElEQVRoge1YvW7bMBD+WHRs
AthDA1Bbpg7NVDRP4Ayd2jeQJmdpZ79C9naJJ3nu0k4Zmido4KlZm40EmiEGnO7XQaJ8okiL
st2Yaf0BhCTyJN7H++GJwA47/N8Qnn5yjRHR39WmA4Qo1HviGCPrGjVsArbS0ZN4aj0bt3G6
UIxwudCjwo7AttGaRqXMhwDOHTIzACdKpVMASJLJCMCZTw7AtHweAPhm66F11lSCCEIIEBGS
ZAKXjB3ELkwBjB39w7KddpS7YXIDAIfLJjd7j1IpkgQNEp02Mg4pcwIwVio9PTq+xZ268OpQ
KnzqGDtHQc5rARtJMoFS6dKNzIuXr3+BiBof/vH9eZfPBMG36xeWmFTPIS4EAJAyP7tTF70k
AQD0yu4ZE+kBGLGxldFWshQWyAAEEpAy76Ewta3c9Oj41tyPymZjBndsNObQOpsBqK1wG4Jc
SOtspnXW7ydvhFKpANAvhwZMzJATVutjkYGW4aeUucliFNDCCRhcXx1ACAGzUkDh/xuKgR6A
Xuk+SxOI1lk1HhwDPjAX2ghY3hdwFJNceSCAgJT5KxT+HwrXpvcZwGV5f4hFrBgXrL1jUqSU
eY2EUqkwwWsQYgEfgRmA8fXVgZnM9LtkbywCtsyQyVXQOqtIFCufBqhb4MH+A9b9y+sUAzH9
Uhp0DmLjn7Hg3ymnqd5JFPEvJVeMW8A+jWjsejGCExCOa5RW4CsaGsRtVtga0RACbcpt1cXW
roVKhJLYjKWIgDKdewk4Kym/aNC0gXKtuP/wrrrflAVC0ZWEWUfX1foyUZEzi3KBqj7TH1HD
s8WpTMVk/v5t1bn/6SsBELyvDXsfv0DsXbYLWqD7Qe09/myP1fp+n9QJsHIYWmcEED/o5bDN
F5pifXLeGKJ5fSh5UejIj1VCY2BVJdYl756MFZTsg8SCpJGDtkKA5kKIfa4Xv4oGAT4PdyE2
97L5XBxc8qJlPBQrnMxtD6Iz09gqUG9VvCl7PiSEOXZfhtjIeC3wSGIAQMdCMDYL7BAt/gCj
bz7ec2bPQgAAAABJRU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTD" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Down counter</title>
						<descr>&lt;HTML&gt;The CTD block &lt;b&gt;counts down&lt;/b&gt; for each FALSE-to-TRUE transition of the input CD and sets the output Q when the accumulated value (CV) reaches the 0 value.&lt;br/&gt;
&lt;img src= ctdscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of LD set CV to the value of PV&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches 0 the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is 0 its value remains 0 until a rising edge of LD&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CD" type="BOOL">
									<descr>Count-down on input rising edge</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="INT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="INT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CDEDGE" type="BOOL"/>
								<var name="MEMCD" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		LD
	JMPCN	l0
	
	LD		PV
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD 		CD
	ANDN 	MEMCD
	ST 		CDEDGE
	
	LD 		CD
	ST 		MEMCD
	
	LD 		CDEDGE
	AND(	CV
	GT		-32768
	)
	JMPCN	l1
	
	LD		CV
	SUB		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	LE		0
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctdscheme.png" width="336" height="200">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctd48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADBElEQVRoge1YvW7bMBD+WHRs
AthDA1Bbpg7NVDRP4Ayd2jeQJmdpZ79C9naJJ3nu0k4Zmido4KlZm40EmiEGnO7XQaJ8okiL
st2Yaf0BhCTyJN7H++GJwA47/N8Qnn5yjRHR39WmA4Qo1HviGCPrGjVsArbS0ZN4aj0bt3G6
UIxwudCjwo7AttGaRqXMhwDOHTIzACdKpVMASJLJCMCZTw7AtHweAPhm66F11lSCCEIIEBGS
ZAKXjB3ELkwBjB39w7KddpS7YXIDAIfLJjd7j1IpkgQNEp02Mg4pcwIwVio9PTq+xZ268OpQ
KnzqGDtHQc5rARtJMoFS6dKNzIuXr3+BiBof/vH9eZfPBMG36xeWmFTPIS4EAJAyP7tTF70k
AQD0yu4ZE+kBGLGxldFWshQWyAAEEpAy76Ewta3c9Oj41tyPymZjBndsNObQOpsBqK1wG4Jc
SOtspnXW7ydvhFKpANAvhwZMzJATVutjkYGW4aeUucliFNDCCRhcXx1ACAGzUkDh/xuKgR6A
Xuk+SxOI1lk1HhwDPjAX2ghY3hdwFJNceSCAgJT5KxT+HwrXpvcZwGV5f4hFrBgXrL1jUqSU
eY2EUqkwwWsQYgEfgRmA8fXVgZnM9LtkbywCtsyQyVXQOqtIFCufBqhb4MH+A9b9y+sUAzH9
Uhp0DmLjn7Hg3ymnqd5JFPEvJVeMW8A+jWjsejGCExCOa5RW4CsaGsRtVtga0RACbcpt1cXW
roVKhJLYjKWIgDKdewk4Kym/aNC0gXKtuP/wrrrflAVC0ZWEWUfX1foyUZEzi3KBqj7TH1HD
s8WpTMVk/v5t1bn/6SsBELyvDXsfv0DsXbYLWqD7Qe09/myP1fp+n9QJsHIYWmcEED/o5bDN
F5pifXLeGKJ5fSh5UejIj1VCY2BVJdYl756MFZTsg8SCpJGDtkKA5kKIfa4Xv4oGAT4PdyE2
97L5XBxc8qJlPBQrnMxtD6Iz09gqUG9VvCl7PiSEOXZfhtjIeC3wSGIAQMdCMDYL7BAt/gCj
bz7ec2bPQgAAAABJRU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="R_TRIG" version="1.0.1" creationDate="0" lastModifiedDate="0">
						<title>Rising edge detector</title>
						<descr>&lt;HTML&gt;The output Q will remain FALSE as long as the input variable CLK is FALSE.&lt;br&gt;
As soon as CLK returns TRUE, Q will first return TRUE.&lt;br&gt;&lt;br&gt;
This means each time the function is called up, Q will return FALSE until CLK has falling edge followed by an rising edge.&lt;br&gt;&lt;br&gt;
&lt;img src= r_trig.png&gt;</descr>
						<vars>
							<inputVars>
								<var name="clk" type="BOOL">
									<descr>Input for edge detection</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="q" type="BOOL">
									<descr>Raising edge output</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="m" type="BOOL">
									<initValue>FALSE</initValue>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	LD		clk
	ANDN	m
	ST		q

	LD		clk
	ST		m
]]>
						</sourceCode>
						<images>
							<image name="r_trig.png" width="218" height="117">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAANoAAAB1CAYAAAAoV//gAAAAAXNSR0IArs4c6QAAAARnQU1B
AACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5l
dCA0LjAuMjHxIGmVAAAD2ElEQVR4Xu3awXHTTBiA4bRAAVxogSNXWmDogAZoghtnWmBohRL4
S6CAn4OZj2iJIinSOrY/fxbPM7NJbCnJMrvvSHa4OwAXJzRIIDRIIDRIIDRIIDRIIDRIIDRI
IDRIIDRIIDRIIDRIIDRIUD60u7u7PwNumdAgQekd3CITG7dOaJCg7O6dRtYG3CKhQYLyO1dg
7IHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQThDTqjaoqfzSCO24QU3ll+YWQqug0lyY
K780QutTaS7MlV8aofWpNBfmyi+N0PpUmgtz5ZdGaH0qzYW58ksjtD6V5sLcUUvz/fvDgsZ4
82Y4MIjnPn8eHky8fHk4fPw4PBh8+3b/Pe/fD08sEFqfSnNhrntpWhTjkCK0cWzT42PT0Fq0
0/imhNan0lyY616apStSiyUiDPF1b2hx7lZkQWh9Ks2Fua6lmQb1lDinJ7T4eu12cUxofSrN
hbmupWm3jRHcmjhnK7Tp7eYWofWpNBfmupbmXKG1zTC9jVwjtD6V5sJc19Kc69axbYTenxeE
1qfSXJjrXpq43Vt6XRWL2+Iafz01vYrFeXH+9lVSaD0qzYW57qVpt4/jkCK+CKiZHh9bul2c
fv8SofWpNBfmjlqaFlsb0zc1xsfaaFfBpdBCnLMWWwut/byKo4KleRmPxzVd+ddvE1qfpXkZ
j8c1XfnXb2uhwS0TGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQ
GiQQGiQQ2iliXkbtUUSdmTxBaMZJo4g6M3nCTYQGG4R2CqHRSWinEBqd8nbJz5+Hw4cPD5sz
Rjz+8WM4YZnQ2IOcXRIxvXp1OLx9+xBWfI7HL16sxiY09iBnl7x7dx9aXNWm4vnXr4cHj/wX
H4TGHlx+l8TVKjZj3CYu+fTp/vjDVe3/4fOv+CA09uDyu+Tr1/vN+OXL8MTExnGhsQeX3yXt
ihVBLWmhxXkLhMYeXH6XCA3cOp4k5lV1bpRy+V1y/JshjwiNPcjZJc97e/8PobEHObskrlbT
P1hHdP5gzT8ib5cs/ResGBHbCqGxB9fdJe31Wdw6br1Gqzxgw/V3SbzrOL6lnBAae1B+l/wN
DW6Y0CCB0CCB0CCB0CCB0CCB0CCB0CCB0CCB0GDFufaf0GBF23+n7sOL7eDpBA1jT+NYQjOM
Z4xjXSy0c3nuPwzOYRzXKftQaLDiXPtPaJBAaJBAaJBAaJBAaJBAaJBAaJDADoYEQoMEQoME
QoMEQoMEQoMEQoMEQoMEQoMEQoMEQoOLOxx+A+X2Hit+emmnAAAAAElFTkSuQmCC]]>
							</image>
							<image icon="true" name="rtrig34.png" width="34" height="34">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAApklEQVRYhe2VUQrEIAxEZ0pP
Vw/V9VA9X/qzLYvUNrGWTSEPBJEYhzFGIAiC4B4UEUUUa0GEZr+CoUuWDliF8Dv+LuQx7EI6
1UTJix15CDdCxp8eQQBH8zMEND+iw3PcOFJtmVVE0ODCJY4cUfQFptyjeVCWGUwZssxbXmxr
bhwZjfEtxaFy87WO7PerhSmr4tw4EkJKiOlj+WvYUCNlHt9/TRBcsQJT/izAApTRbQAAAABJ
RU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="F_TRIG" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Falling edge detector</title>
						<descr>&lt;HTML&gt;The output Q remain FALSE as long as the input variable CLK returns TRUE.&lt;br&gt;
As soon as CLK returns FALSE, Q will first return TRUE.&lt;br&gt;&lt;br&gt;
This means each time the function is called up, Q will return FALSE until CLK has a rising followed by a falling edge.&lt;br&gt;&lt;br&gt;
&lt;img src= f_trig.png &gt;</descr>
						<vars>
							<inputVars>
								<var name="clk" type="BOOL">
									<descr>Input for edge detection</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="q" type="BOOL">
									<descr>Falling edge output</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="m" type="BOOL">
									<initValue>FALSE</initValue>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	LDN		clk
	AND		m
	ST		q

	LD		clk
	ST		m
]]>
						</sourceCode>
						<images>
							<image name="f_trig.png" width="218" height="117">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAANoAAAB1CAYAAAAoV//gAAAAAXNSR0IArs4c6QAAAARnQU1B
AACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5l
dCA0LjAuMjHxIGmVAAAEDUlEQVR4Xu3awXHUShCAYadAAFxIgSNXUqDIgARIghtnUqBIhRAg
BAJ477BUYw2WJbEa2atW79b3VY3t9S72oNZfkg13J2B3QoMEQoMEQoMEQoMEQoMEQoMEQoME
QoMEQoMEQoMEQoMEQoME5UO7u7v7s+CaCQ0SlD6DW2Ri49oJDRKUPXunkbUF10hokKD8mSsw
boHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQniG2VW1RU/nRCG3boqbyo7mG0CqotBfm
yo9GaH0q7YW58qMRWp9Ke2Gu/GiE1qfSXpgrPxqh9am0F+bKj0ZofSrthblNo/n+/WGgsd68
GZ4YxOc+fx4eTLx8eTp9/Dg8GHz7dv9n3r8fPrFAaH0q7YW57tG0KMYhRWjj2KbPj01Da9FO
45sSWp9Ke2GuezRLV6QWS0QY4uPe0OK1a5EFofWptBfmukYzDepf4jU9ocXH524Xx4TWp9Je
mOsaTbttjODOideshTa93VwjtD6V9sJc12guFVo7Gaa3kecIrU+lvTDXNZpL3Tq2E6H36wWh
9am0F+a6RxO3e0s/V8VwW1zjj6emV7F4Xbx+/SoptB6V9sJc92ja7eM4pIgvAmqmz48t3S5O
//wSofWptBfmNo2mxdbW9Jca4+faalfBpdBCvOZcbC209vUqrgqW9mU9Xkc6+NuvE1qfpX1Z
j9eRDv7261pocM2EBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmE
BgmEBgmEdkviOFn/Xgc69rt3ENoG45PKmq8DHfvdOwhtgwInFMuEdkuEVpbQbonQysqbyq9f
p9OHDw8nQ6x4/OPH8IJlQtugHVfKyZlKxPTq1en09u1DWPE+Hr94cTY2oW0gtLJypvLu3X1o
cVWbis+/fj08eORnvBHaBkIra/+pxNUqhh+3iUs+fbp//uGq9t/w/v94I7QN4jg5ViXtP5Wv
X++H/+XL8ImJleeFtkEcJ8eqpP2n0q5YEdSSFlq8boHQNojj5FiVtP9UhJYnjpNjVdL+U1m5
NVx7XmgbxHFyrErafyrbfxnyiNA2iOPkWJWUM5Wn/Xr/D6FtILSycqYSV6vpP1hHdP7B+rKE
VlbeVJb+C1asiO0MoW3QjinlHDuV9vNZ3Dqu/Yxm9S/KOX4q8VvH8S3lhNCesCin/FT+hgZX
TGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGhwxqXOP6HBGe38e+55uNsZPN2gZd3S2kpolvWE
tdVuoV3KU/9icAnjuJ5zHgoNzrjU+Sc0SCA0SCA0SCA0SCA0SCA0SCA0SOAMhgRCgwRCgwRC
gwRCgwRCgwRCgwRCgwRCgwRCgwRCg92dTr8BUO8SN3cafNMAAAAASUVORK5CYII=]]>
							</image>
							<image icon="true" name="ftrig34.png" width="34" height="34">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAqElEQVRYhe2VYQqAIAyF34tO
V4eqDtX51o9aRJQ5S1iwDwQR3R5vToEgCIJ3UEQqROVdUELzkcAhd/O9ijJsQsh1GE5s42Mh
FbELsd6pzP0/dqQSboRQAC0icT0vR2TtmNS7suVx5YgL3DjS5vQ5+6nUOMo8gP0EmQeNBV0D
sM8dOWIj96MxO/hbR/Zap9D6W3DjSAg5Q3Sj5a9h5h1Jdc1lHjeOBMETC4IUMr87wVtwAAAA
AElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="SR" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Bistable, set dominant</title>
						<descr>&lt;HTML&gt;Bistable, set dominant&lt;/br&gt;&lt;/br&gt;
&lt;img src= srscheme.png &gt;</descr>
						<vars>
							<inputVars>
								<var name="s1" type="BOOL">
									<descr>Logic input</descr>
								</var>
								<var name="r" type="BOOL">
									<descr>Reset input</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="q1" type="BOOL">
									<descr>Bistable output</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[	
	LDN		r
	AND		q1
	OR		s1
	ST		q1
]]>
						</sourceCode>
						<images>
							<image name="srscheme.png" width="290" height="146">
								<![CDATA[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]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="RS" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Bistable, reset dominant</title>
						<descr>&lt;HTML&gt;Bistable, reset dominant&lt;/br&gt;&lt;/br&gt;
&lt;img src= rsscheme.png &gt;</descr>
						<vars>
							<inputVars>
								<var name="s" type="BOOL">
									<descr>Logic input</descr>
								</var>
								<var name="r1" type="BOOL">
									<descr>Reset input</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="q1" type="BOOL">
									<descr>Bistable output</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	LD		s
	OR		q1
	ANDN	r1
	ST		q1
]]>
						</sourceCode>
						<images>
							<image name="rsscheme.png" width="290" height="146">
								<![CDATA[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]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="TP" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Pulse generator</title>
						<descr>&lt;HTML&gt;Pulse generator&lt;/br&gt;&lt;/br&gt;
&lt;img src= ptscheme.png &gt;</descr>
						<vars>
							<inputVars>
								<var name="IN" type="BOOL">
									<descr>Timer input source</descr>
								</var>
								<var name="PT" type="UDINT">
									<descr>Preset time value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Pulse output</descr>
								</var>
								<var name="ET" type="UDINT">
									<descr>Actual timer value</descr>
								</var>
							</outputVars>
							<externalVars>
								<var name="sysTimer" type="UDINT">
									<descr>1 ms system timer</descr>
								</var>
							</externalVars>
							<localVars>
								<var name="timStart" type="UDINT">
									<descr>Time value at start of counting</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check if in counting	*)

	LD		Q
	JMPCN	l10
	
	(*	Update actual time *)
	LD		sysTimer
	SUB		timStart
	ST		ET	
	
	(*	Update output *)
	LD		ET
	LT		PT
	ST		Q
	RET
	
l10:

	(*	Check for input status *)

	LD		IN
	JMPCN	l11
	
	LD		ET
	GE		PT
	RETC

	LD		sysTimer
	ST		timStart
	
	LD		TRUE
	ST		Q
	
l11:
	
	(*	No input and no counting active *)
	LD		0
	ST		ET
	

]]>
						</sourceCode>
						<images>
							<image name="ptscheme.png" width="265" height="146">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAAQkAAACSCAYAAABWvj9QAAAH+klEQVR4nO3d743TSBjH8d9z
ugaWEkC6BjYlcAWABNJeAVACK91rJCgBCgBpT9or4Cgh2wASlAAlzL1wzDpee+L/M5nn+5Gs
JWsS+9lknjwztscSAAAAAKzC+laEENbbqFn94rbmdgAMZ9adDn7beD+OhBB6dwxAHjZPEo0q
4ujfAPKUtJKoUU0A+do0SfRUDlQTQMayqCQA5Ov3jbdX9ytC6zGATG2aJOrDnc0xCA6BAnmj
uwEgiiQBIIokASCKJAEgiiQBIIokASCKJAGUYqXLG8YlCbMLmX2QWWgsH2T2eJW929pxXOkX
j3EjO8OTRJUI9pIeS3qiEEzSk8PjfTGJApjKLM2ydlh9Kx6cCWl2I+lS0k4h/Gyt+ybpp0LY
DdporpPONPYr6X7Up61XiXh9ecS9bcxrSHU1c92GzO7/PcG8SWeqKuGFpC8PEkTlo6RLqgm4
FkKaZWVDr924PPy861n//fDzqaqEcf5SVjgp59dIFTdzimRr6JhEXSF0VRFNFzP2BUCGOAQK
IGpokqi7E6cqhVOVBoAzMzRJ1GMRlz3r6+7Il3m7gyP005EBDoE2NQ8Fph243HY/coi73odz
PgSaWtJDoJXrw8+bX4c6qzMw/1PVDXk5ee8AZGt4kgjhu6SdqvGJb4fM/0PVYc+7w3oAhRl3
dCOEnwrhtUKwX0tVYTyVGadmAwWafwg0hPequhoc2QAKxA2Dm3IYwEuxHznEzcBlclneMBhA
/kgSQEna1cCpxwNsfQevI0EKnDAU5e/vw8Qzp9VdsnY3sX5sdvx45hQASZMEgI3M+LJJP3C5
2lZGymkAFd28VVVLqaqK48cd+gYuqSRwPpof7rUTRmlfGjPiSZ8kSnszsA0+N5vh6AaAKJIE
gCiSBIAokgSAKJIEgCiSBIAokgSAKJIEgCiSBIAokgSAqN7Tsu3z8zeS3nWs+qnqfp/3s2dX
NxOOuQtXt4Om2weQlyHXbryU9E/j8StVyeNS0p96OJX+XtLjcHX7aJE9BJDUlAu8Pqq6z8Y7
VdPpT75r136/D3d3Rzcqt91ud7S+uXK32x1d+tdeX8zzPz0LkrT/4++jlWez/xPW776+Va4a
70PWf98l3h91mDomUd9jo++2f5jqkCA8yTlBYPql4vX9Ne6i/+uE3W73YLbs1mOLrHuw/tyf
b5+fH38zfH1r4ep2s+2v/fyu9c2Yw9WtSZJ9ft5+WipBOn4fcv77LvH+dJlSSbyQ9EZVguAG
wQtpJwgPWjEz7VSmhlQSNx2/e6/7oxuYqaOxFJ8wYgmiWT2llFFFk9SQSuKlqjexuZAgFuLx
2zQWMw0zP5xMlRAJ4j7mXKoHPESSSMRjY/EYcwlIEgl4bCweYy4FSWJjHhuLx5hL0nt0I1zd
vld1FGMsrtHo0dVYSm8oHmMuDZXERhik9BFziUgSG/BYbnuMuVQkiZXNaSzn2qA8xlwyksSK
PH6beoy5dCSJlXhsLB5j9iDpDYM7rlorQteVjaXzGHNq9vn5UQIe+3goKomFeRzR9xizJ0kr
CTOTPj0b9ZycS1ePjcVjzEtZ6mK25ut0vebc7VBJLMRjY/EYs0dJKwkp78pgKI8Ddh5jXtpS
f6tTrzN3O1QSM3lsLB5j9owkMYPHxuIxZu9IEhN5bCweY0YGYxLnqN1YPDQSjzGjQiUxkscR
fY8x496Ue4HWXqqaXt/NfUA9NhaPMePYlHuBNrV/v1d1455HpZWjHvvjHmPGQ3Q3BvDYWDzG
jG4kiRM8NhaPMaMfSSLCY2PxGDPihiSJG1W3nWsusQHNInhsLB5jxmlzBy6L5LGxeIwZw6Q9
merTs5DzvR9TT56S4k7jqWPOVJaf0/q9qj8n7cc6nPTWXj8WYxI9PDYWjzHjtLSVxF//2thJ
Z2Lq0njprN98vY3KbxprHo7eh1y7Xu3kfurxWFy70aNvPsAcy86l1LHl2hiQRn+G+fTs1GnZ
13p4G8BBZ1ya2X2fqdDJcIFzY9adDnqTxJqNlyQB5KcvSTBwCSCKJAEgiiQBIIokASCKJAEg
iiQBIIokASCKMy5bzDTpxI0QzvdU6qkxe3LO7+9cVBIAonqThJkuzBTMdNP43c3hd696nvPD
TPs1dnRrIciGLKn3c0lDYx6zSOexnHp/ze6XNW2xjbGmVhLvzHSx6J4AyNLUJHEh6cOSO4Iy
hTBtmfPcqdsbGsuattjGWFOTxEdJL/q6HQDKMTVJXEu6k/SGbgdQtjlHN65VzR1BtwOLy63k
9mxykghBX0S3AyjerPMkQtBrSd9FtwMo1hInU71W1e0o/oY9gEezT8sOQV/M9FGiywGUaJHT
shvdDgCFWfLajesFXwtAJpgtu6W+InLodRlj/3+OSohhLY0rZC2zj+rimC0bwCQkCQBRiSed
CSG3y2KnYuKW4mX5Wa27iM0uY7uLNLfLRCUBICpxJWGmTL+AzYZdP9A32Jfjtw4m6Xwnh3w2
1vgMdG33sJ3m1tpbnrUnVBIAojgEegaGVjXAHBwCPWMkCKREksgY4xrIAUkiY1QQyAFJAkAU
SQJAFEkCQBRJAkAUSQJAFEkCQFTiazcAbGnK2c5UEoBPwcxC36nYTaOu3WhkIQAFCSEY124A
mGTsmMRSVxP86hct9HoAhmn3Bg4zW/U3RQYuAZ8Gf0GPShJLzf3QzFrMJwFsqjc5MCYBYBKS
BIAokgSAKJIEgCiSBIAokgQAAAAAAACA7PwPE9lwMokr1EsAAAAASUVORK5CYII=]]>
							</image>
							<image icon="true" name="tp34.png" width="34" height="34">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAxklEQVRYhe2Waw6EIAyEp8bT
6aFwD8X5un/MRqBkYB+mm/RLjLFaKENbBIIgCD5DVNWwimE0UJWv+AFYhhxvYCXvm8hP2Mqn
/f5GEcDOIT7ypJ8bRSKQmvVS+4I6q619vtLrG+N+rzndKDLYCn+PG0UWqOKOS7ajuNc2s6HJ
/mh2THOiXczyAyCaE1WEd1Z7wuJZc2pss7AcMVUYWOHAGVDyliJAGwxThQXvqGqc4CYQwXZ0
zxrNSTolycflf3HFd24UCQLGE7KZdlKKljJmAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="TON" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>On-delay timer</title>
						<descr>&lt;HTML&gt;The TON block produces a delayed output Q of the input IN. The delay time is expressed in milliseconds on the PT input.&lt;/br&gt;&lt;/br&gt;
&lt;img src= tonscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;if IN is FALSE Q is false&lt;/li&gt;
&lt;li&gt;Q becomes TRUE as IN remains TRUE for PT milliseconds&lt;/li&gt;
&lt;li&gt;Q remains TRUE until IN remains TRUE&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="IN" type="BOOL">
									<descr>Timer input source</descr>
								</var>
								<var name="PT" type="UDINT">
									<descr>Preset time value (ms)</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Timer output</descr>
								</var>
								<var name="ET" type="UDINT">
									<descr>Timer current value (ms)</descr>
								</var>
							</outputVars>
							<externalVars>
								<var name="sysTimer" type="UDINT">
									<descr>1 ms system timer</descr>
								</var>
							</externalVars>
							<localVars>
								<var name="timStart" type="UDINT">
									<descr>Time value at start of counting</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check if in counting	*)

	LD		IN
	JMPCN	lReset

	(*	Check if Q is TRUE *)
	LD		Q
	RETC
	
	(*	Check if already in counting *)
	LD		timStart
	EQ		0
	JMPCN	lUpdate

	(*	Start of counting *)
	LD		sysTimer
	ST		timStart
	
lUpdate:

	(*	Update timer and check if time elapsed *)
	LD		sysTimer
	SUB		timStart
	ST		ET
	GE		PT
	ST		Q
	RETCN

	(*	Limit actual time value *)
	LD		PT
	ST		ET
	RET

lReset:

	(*	Reset status *)
	LD		0
	ST		ET
	ST		timStart
	LD		FALSE
	ST		Q

]]>
						</sourceCode>
						<images>
							<image name="tonscheme.png" width="230" height="146">
								<![CDATA[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
AAAAAElFTkSuQmCC]]>
							</image>
							<image icon="true" name="ton1.png" width="48" height="58">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAA6CAYAAAD2mdrhAAAD4klEQVRoge3YT4hVdRQH8M91
akhpIVOjmxYR1K4CIUTQyQYai3YWFVFtRPtjjNbCTUQgropqksqRqU1CloS0CjSw0EBECsqN
IESLNs0kTYvSjPG1+J3nez7nvfe7902TyvvC45537znfc869vz/nd+ijjz766KOPPvqojKLt
k2dvXwj+WgWbosmuIX/887yxLqkU1lWEGxbJT/sv3V2/o+01/wX6Cfzf6DQHrlwJLpevClzz
X6DtDK/V4kUXBfPJpbxUtLuMYv5Q2ydQ1kOPAXZDuwSu7yF02/DmxYzlCvwyM3VJbvcFFmon
vhEb8CDuwx1YGc9+xU84ia9wCP8skN+eE1iO7XgRw210VsZvDcbxG97HBGZ79N/THHgSp/G6
FPypkEcVxReXtJI8Gs9O4daQTwdHT6iSwAA+wH7pzR7DCO7BTnyNc0365+LeztAZwdGw3R9c
A9XCL5/AAA7gBZzH87g/kmigVntKWiCKkJtxDOvD9nxwHVAxibIJTGCjNHZHsVe10qIWtqP4
PTjfrcBTKoEn8JI0JB7C8SoOW3AcD+MvbA0fpZCbwHLsDvkVnCjrqAmbpLdfX9hP4OWQd4ev
bOQmsB0rpPG7t4yDFmzCFLZgsun+lDSxV4SvbOQkMCit8/Cq6uV0Pfh6SX6y6VktuIWvwVzS
nATGpHX+R62rTT5ag9+CD1t0vsUP4Wsslzg3ATiYS9qCnODrqPvYkEueU0qsiuvRTM5BvImn
cROWxf0aNuOjDrZ1H6s66FyGnATuAkUxjkcUS3a4OHexg/4bUs3Tis7BF8Un+CPOFXdmxJXM
2j1oKqdbJ223Hs9ZDLXc+xM3d7G7wk9OOb1YB5q//yvinARmkKrKongrQ3/fPPfaTdoGimK/
oqjvDTMZfpA3B85gWK22W6oqu2GHNMyeif/78FpXq1T0rZeKvDMZfpD3Bb6L67pMzgvYJs2D
oZAvZNqOxPX7TP2sBA7H9dFc0h6wscVnV+QmcFY6jKytEFQu1uJeafwfyjXKSeAC3gt5l/Kt
8hwUwU06oeUOuexldALT0unruVKh5WFTcM+Er2zkJjCrsbu+jdVlnHTBao3T2LiSnYoyG9ln
UjtkKb6U2iS9Yk1wLQvuT8sSlN2Jt0kV4xCOSMOpypwowvZIcB0M7tIom8AcHsceqdKcxDda
94hUmNVQC7kZ66QNcTI49gTnXMlYUK0zNyedmo5KY7fe5zmFz6VDz9Im/aV4IAJ/DHfH/Wnp
rZceNs3otbm7XDqQb8UtmT7PSuP9HV0m7GI0d2elNuEu6RQ1ptHcXRE60xrN3cPxy17n++ij
j+sc/wLOpNwgfFLcXQAAAABJRU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="TOF" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Off-delay timer</title>
						<descr>&lt;HTML&gt;The TOF block produces a delayed de-activation of the output Q with respect of the input IN. The delay time is expressed in milliseconds on the PT input.&lt;/br&gt;&lt;/br&gt;
&lt;img src= tofscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;if IN is TRUE then Q is TRUE&lt;/li&gt;
&lt;li&gt;Q becomes FALSE after PT milliseconds from IN becomes FALSE&lt;/li&gt;
&lt;li&gt;Q remains FALSE until IN remains FALSE&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="IN" type="BOOL">
									<descr>Timer input source</descr>
								</var>
								<var name="PT" type="UDINT">
									<descr>Preset time value (ms)</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Timer output</descr>
								</var>
								<var name="ET" type="UDINT">
									<descr>Timer current value (ms)</descr>
								</var>
							</outputVars>
							<externalVars>
								<var name="sysTimer" type="UDINT">
									<descr>1 ms system timer</descr>
								</var>
							</externalVars>
							<localVars>
								<var name="timStart" type="UDINT">
									<descr>Time value at start of counting</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check if in counting	*)

	LD		IN
	JMPC	lReset

	(*	Check if falling edge of IN	*)
	LD		Q
	RETCN

	(*	Check if already in counting *)
	LD		timStart
	EQ		0
	JMPCN	lUpdate
	
	(*	Start of counting *)
	LD		sysTimer
	ST		timStart

lUpdate:
	
	(*	Update timer and check if time elapsed *)
	LD		sysTimer
	SUB		timStart
	ST		ET
	GE		PT
	STN		Q
	RETCN
	
	(*	Limit actual time value *)
	LD		PT
	ST		ET
	RET

lReset:

	(*	Reset status *)
	LD		0
	ST		ET
	ST		timStart
	LD		TRUE
	ST		Q

]]>
						</sourceCode>
						<images>
							<image name="tofscheme.png" width="243" height="146">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="tof1.png" width="48" height="58">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAA6CAYAAAD2mdrhAAAD50lEQVRoge3ZT4jVVRQH8M9P
a2ikxTDluHEV1a4CIURQs4HGop1FRdRq0P4Yai3cRATiqqgmqRyZWglNSUirQAOLMRCRgpqN
YLRy00xTtijNGF+Le57zfL437/5+b1KU94XH78y9537POb/fPfeee4ceeuihhx566KGHyija
dfy++u5ag04reUns5GLw7M8t25d1S3y9ccsifUWG3AlVvlYp3PBfoBfA9cZiObCUKJML7Va9
lrl3w3+BtitKrRaBFwWt5FJWKo67gqK1q+0DKGuhSwc7oV0AN/cUWr1y67X05SqcnZ24LLf7
Aku1Ct2KzXgED+IurIq+X/ELTuFrHMG/S2S36wAGsAsvY2UbnVXxW4cd+A0fYgznurTfVQ48
g9N4U3J+OuRhRfHlZa0kD0ffNO4M+XRwdIUqASzHR5iU3uxxbMT92INvcL5B/3y07QmdjZiK
sZPBtbya++UDWI5DeAkX8CIeiiAWUKs9Ky0QRciNOI5NMfZCcB1SMYiyAYxhizR3h3FAtZK5
FmOH8Udwvl+Bp1QAT+MVaUo8ihNVDDbhBB7D39geNkohN4AB7Av5NZwsa6gBo9Lbry/sJ/Fq
yPvCVjZyA9iFIWn+HihjoAmjmMA2jDe0T0iJPRS2spETQJ+0zsPrqh8T687XS+RTDX214Ba2
+nJJcwIYkdb5nzSvNvlodn4bPm7S+Q4/hq2RXOLcAOBwLmkTcpyvo25jcy55TimxJp5TmZx9
eBvP4TasiPYatuKTRcbWbaxZROcK5ARwLyiKHXhcsWy3S/OXFtF/S6p5mrG480XxKf6Mc8U9
GX6lYe06Gsrp5qTtdC80h8Gmtr9we4dxV9nJKaev1YHmn/+LOCeAWaSqsijeydA/2KKtXdIu
oCgmFUV9b5jNsIO8HDiDlWq1fVJV2Qm7pWn2fPx9EG90HJWKvk1SkXcmww7yvsD38dyQyXkR
O6U8GAz5YubYjfH8IVM/K4Cj8Xwil7QLbGmy2RG5AcxJh5H1FZzKxXo8IM3/I7mDcgK4iA9C
3msJ/lnRAkVwk05ouVMuexkdw4x0+nqhlGt5GA3u2bCVjdwAzlnYXd/F2jJGOmCthdPYDiVv
KspsZJ9L1yH9+Eq6JukW64JrRXB/Vpag7E68U6oYB3FMmk5VcqKIsceC63Bwl0bZAObxFPZL
leY4vtW8R6TCrIZayI3YIG2I48GxPzjnS/qCajdz89KpaUqau/V7nml8IR16+hv0+/FwOP4k
7ov2Gemtl542jej2cndAOpBvxx2ZNuek+f6eDgl7LS53z0nXhHulU9SIhcvdodCZsXC5ezR+
2et8Dz30cJPjP37X3iBpuO6PAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
				</functionBlocks>
				<programs/>
				<macros/>
				<structs/>
				<typedefs/>
				<enums/>
				<subranges/>
				<interfaces/>
			</lib>
			<lib name="c:\program files (x86)\arduino plc ide\catalog\arduinopmc_1p0\arduinopmc\..\Libraries\AlDatabase.pll" fullXml="false" link="true">
				<![CDATA[(************************************************************************)
(*                                                                      *)
(*   TYPES                                                   			*)
(*                                                                      *)
(************************************************************************)

TYPE
	DBTABLE_RECORD : STRUCT
		{ HIDDEN:ON }
		ipa : UINT;			{ DE:"Index" }
		subi : UINT;		{ DE:"Subindex" }
		typePar : USINT;	{ DE:"Application type" }
		typeVar : USINT;	{ DE:"Variable type" }
		unused : UINT;		{ DE:"Spare" }
		address : DWORD;    { DE:"Address" }
		el : UDINT;			{ DE:"Number of elements" }
		attr : UDINT;		{ DE:"Flags" }
		def : UDINT;		{ DE:"Default" }
		min : REAL;			{ DE:"Min" }
		max : REAL;			{ DE:"Max" }
		scale : REAL;		{ DE:"Scale" }
		off : REAL;			{ DE:"Offset" }
	END_STRUCT;
	
	ALDATABASE_MENU_PAR_FLAGS_ENUM :  ( 	{ DE:"Menu parameter list flags" }
		PAR_ADDRESS_NONE := 0,				{ DE:"No parameter specified" }
		PAR_ADDRESS_DBTABLE_EXT_ID := 1,	{ DE:"ParAddress has the progressive id of the external DB table" }
		PAR_ADDRESS_DBTABLE_SYS_ID := 2,	{ DE:"ParAddress has the progressive id of the system DB table" }
		PAR_ADDRESS_DBTABLE_ADDRESS := 4,	{ DE:"ParAddress has the physical address of a DBTABLE record" }
		PAR_ADDRESS_CUSTOM_ADDRESS := 8		{ DE:"ParAddress point to user custom address" }
	);
	
	ALDATABASE_PARITEM : STRUCT
		{ HIDDEN:ON }
		flags : ALDATABASE_MENU_PAR_FLAGS_ENUM;	{ DE:"Flag" }
		ParAddress : DWORD;			{ DE:"Parameter address (value based on specified flag)" }
		pParName: @STRING;			{ DE:"Param Name" }
		pParDescription: @STRING;	{ DE:"Param Description" }
		pParFormat: @STRING;		{ DE:"Param Format" }
		pParUm: @STRING;			{ DE:"Param Um" }
	END_STRUCT;
	
	ALDATABASE_MENU : STRUCT
		{ HIDDEN:ON }
		id : UINT;						{ DE:"Menu ID" }
		numPars : UINT;					{ DE:"Number of parameters" }
		numSubMenus : UINT;				{ DE:"Number of sub menus" }
		reserved : UINT;				{ DE:"Reserved" }
		caption: @STRING;				{ DE:"Menu string address" }
		pSubMenu: @ALDATABASE_MENU;		{ DE:"Sub menu address" }
		pParList: @ALDATABASE_PARITEM;	{ DE:"Par list address" }
	END_STRUCT;
	
END_TYPE

(************************************************************************)
(*                                                                      *)
(*   GLOBAL VARIABLES                                                   *)
(*                                                                      *)
(************************************************************************)


VAR_GLOBAL
	
	{G:"System"}
	sysParameters 	AT %MW200.0 : ARRAY[ 0..511 ] OF WORD;	{ HIDDEN:ON }
	sysStatusVars 	AT %MW201.0 : ARRAY[ 0..511 ] OF WORD;	{ HIDDEN:ON }

END_VAR

(************************************************************************)    
(*                                                                      *)    
(*   EMBEDDED FUNCTIONS                                                 *)    
(*                                                                      *)    
(************************************************************************)   

FUNCTION sysDBase_SaveAll : BOOL
	{ DE:"Save parameters current values into database" }
	VAR_INPUT
		dummy   : BOOL;    { DE:"Dummy" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysDBase_SetExtTable : USINT
	{ HIDDEN:ON }
	{ DE:"Set extended database table" }
	VAR_INPUT
		ptrDB   : DWORD;    { DE:"Database Physical address" }
		numPars : UDINT;    { DE:"Number of parameters" }
		idxDatablockE2   : UINT;  { DE:"Index of datablock for E2 parameters" }
		ptrDatablockE2   : DWORD; { DE:"Address of datablock for E2 parameters" }
		numelemsDatablockE2  : UDINT; { DE:"Number of elements of datablock for E2 parameters" }
		datasizeDatablockE2  : USINT; { DE:"Size of an element of datablock for E2 parameters" }
		idxDatablockRAM  : UINT;  { DE:"Index of datablock for RAM parameters" }
		ptrDatablockRAM  : DWORD; { DE:"Address of datablock for RAM parameters" }
		numelemsDatablockRAM : UDINT; { DE:"Number of elements of datablock for RAM parameters" }
		datasizeDatablockRAM  : USINT; { DE:"Size of an element of datablock for RAM parameters" }
		extTableSignature : DWORD;	{ DE:"Signature to reset default value if something changed" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysDBase_SetExtMenus : BOOL
	{ HIDDEN:ON }
	{ DE:"Set extended database table" }
	VAR_INPUT
		ptrMenuIndex : DWORD; { DE:"Menus index physical address" }
		numMenus : UDINT;     { DE:"Number of parameters" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysWriteParBOOL: BOOL
	{ DE:"Write BOOL to EEPROM. 
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : BOOL;   { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParUSINT: BOOL
	{ DE:"Write USINT to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 	
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : USINT;   { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParSINT: BOOL
	{ DE:"Write SINT to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 	
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : SINT;   { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParBYTE: BOOL
	{ DE:"Write BYTE to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 	
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : BYTE;   { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParINT: BOOL
	{ DE:"Write INT to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 	
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : INT;    { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParUINT: BOOL
	{ DE:"Write UINT to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 	
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : UINT;   { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParWORD: BOOL
	{ DE:"Write WORD to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 	
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : WORD;   { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParDINT: BOOL
	{ DE:"Write DINT to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : DINT;   { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParUDINT: BOOL
	{ DE:"Write UDINT to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 	
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : UDINT;   { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParDWORD: BOOL
	{ DE:"Write DWORD to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 	
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : DWORD;  { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParREAL: BOOL
	{ DE:"Write REAL to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParBOOL(ADR(EEPROMPARAMETER),NewValue); 	
" }
	VAR_INPUT
		address : DWORD;  { DE:"Address" }
		Value   : REAL;   { DE:"Value" }
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION sysWriteParSTRING : BOOL
	{ DE:"Write a STRING to EEPROM.
The function return a BOOL which could have the following meanings:
TRUE	=	Writing executed correctly.
FALSE	=	Writing not executed.

Example: bret:=sysWriteParSTRING(ADR(EEPROMPARAMETER),NewValue,10); 
" }
	VAR_INPUT
		id  : UDINT;  { DE:"Address" }
		msg : STRING; { DE:"String" }
		len : USINT;  { DE:"SIZEOF(String to write)" }		
	END_VAR
  {CODE:EMBEDDED}
END_FUNCTION
]]>
			</lib>
			<lib version="1.2" name="c:\program files (x86)\arduino plc ide\catalog\arduinopmc_1p0\arduinopmc\..\Libraries\AlModbusRTU.plclib" fullXml="true" link="true">
				<descr/>
				<libWorkspace>
					<folder name="AlModbusRTU">
						<folder name="Definitions">
							<folder name="Structures">
								<Definition name="MbMRtuNetList"/>
								<Definition name="MbMRtuStatus"/>
								<Definition name="MbRtuDiagnostics"/>
							</folder>
							<folder name="Enumeratives">
								<Definition name="MbBaudrate"/>
								<Definition name="MbChn"/>
								<Definition name="MbError"/>
								<Definition name="MbException"/>
								<Definition name="MbFunction"/>
								<Definition name="MbMode"/>
								<Definition name="MbParam"/>
								<Definition name="MbRqErr"/>
								<Definition name="MbStatus"/>
								<Definition name="MbRSMode"/>
							</folder>
						</folder>
						<Pou name="sysMbMRtu_FC01"/>
						<Pou name="sysMbMRtu_FC02"/>
						<Pou name="sysMbMRtu_FC03"/>
						<Pou name="sysMbMRtu_FC04"/>
						<Pou name="sysMbMRtu_FC05"/>
						<Pou name="sysMbMRtu_FC06"/>
						<Pou name="sysMbMRtu_FC15"/>
						<Pou name="sysMbMRtu_FC16"/>
						<Pou name="sysMbMRtu_GetMasterStatus"/>
						<Pou name="sysMbMRtu_GetSlaveHandle"/>
						<Pou name="sysMbMRtu_SlaveActivation"/>
						<Pou name="sysMbMRtu_GetSlaveStatus"/>
						<Pou name="sysMbMRtu_SetPostDelay"/>
						<GlobalVars name="ModbusVars">
							<folder name="Definitions">
								<Definition name="MbRtuDiagnostics"/>
								<Definition name="MbMRtuNetList"/>
								<Definition name="MbMRtuStatus"/>
							</folder>
						</GlobalVars>
						<Pou name="sysMbMRtu_Boot"/>
						<Pou name="sysMbMRtu_CloseChn"/>
						<Pou name="sysMbMRtu_NewBroadcastMessage"/>
						<Pou name="sysMbMRtu_NewSlaveMessage"/>
						<Pou name="sysMbMRtu_NewSlaveMessage2"/>
						<Pou name="sysMbMRtu_OpenChn"/>
						<Pou name="sysMbMRtu_SlaveAddToNetList"/>
						<Pou name="sysMbMRtu_SlavePrmInteger"/>
						<Pou name="sysMbMRtu_SlavePrmReal"/>
						<Pou name="sysMbMRtu_MemoryMapping"/>
						<Pou name="sysMbSRtu_Boot"/>
						<Pou name="sysMbSRtu_CloseChn"/>
						<Pou name="sysMbSRtu_OpenChn"/>
					</folder>
				</libWorkspace>
				<globalVars>
					<group name="ModbusVars">
						<var name="sysMbRtuDiagnostics" type="MbRtuDiagnostics" dim0="2">
							<descr>Modbus RTU standard diagnostics</descr>
							<address type="I" typeVar="B" index="60012" subIndex="0"/>
						</var>
						<var name="sysMbMRtuStatus" type="MbMRtuStatus">
							<descr>Modbus master RTU status</descr>
							<address type="I" typeVar="B" index="60010" subIndex="0"/>
						</var>
					</group>
				</globalVars>
				<retainVars>
					<group name="ModbusVars"/>
				</retainVars>
				<constantVars>
					<group name="ModbusVars"/>
				</constantVars>
				<iecVarsDeclaration>
					<group name="ModbusVars">
						<iecDeclaration active="FALSE"/>
					</group>
				</iecVarsDeclaration>
				<functions>
					<function name="sysMbSRtu_OpenChn" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus slave RTU open channel</descr>
						<returnValue>USINT</returnValue>
						<vars>
							<inputVars>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="ser" type="USINT">
									<descr>Serial Port (logical channel id)</descr>
								</var>
								<var name="baud" type="DINT">
									<descr>Serial Port Baudrate, refer to enumerative MbRtuBaudRate</descr>
								</var>
								<var name="mode" type="DINT">
									<descr>Serial Port Mode, refer to enumerative MbRtuMode</descr>
								</var>
								<var name="serCfg" type="USINT">
									<descr>Serial configuration, if TRUE configure serial port using parameters in database</descr>
								</var>
								<var name="phyCfg" type="USINT">
									<descr>Serial Port configuration (physical port id)</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbSRtu_OpenChn2" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus slave RTU open channel</descr>
						<returnValue>USINT</returnValue>
						<vars>
							<inputVars>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="ser" type="USINT">
									<descr>Serial Port (logical channel id)</descr>
								</var>
								<var name="baud" type="DINT">
									<descr>Serial Port Baudrate, refer to enumerative MbRtuBaudRate</descr>
								</var>
								<var name="mode" type="DINT">
									<descr>Serial Port Mode, refer to enumerative MbRtuMode</descr>
								</var>
								<var name="serCfg" type="USINT">
									<descr>Serial configuration, if TRUE configure serial port using parameters in database</descr>
								</var>
								<var name="phyCfg" type="USINT">
									<descr>Serial Port configuration (physical port id)</descr>
								</var>
								<var name="isModbusASCII" type="BOOL">
									<descr>TRUE to enable Modbus </descr>
								</var>
								<var name="rsMode" type="DINT">
									<descr>Serial port RS Mode, refer to enumerative MbRtuRSMode</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbSRtu_CloseChn" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus slave RTU close channel</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus slave RTU channel, returned from sysMbSRtu_OpenChn</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbSRtu_Boot" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus slave RTU Boot Configuration</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="boot" type="BOOL">
									<descr>Modbus slave RTU Boot Configuration command</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_SlavePrmReal" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU slave parametrization with real value</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="id" type="UINT">
									<descr>Unique identification number single slave</descr>
								</var>
								<var name="reg" type="UINT">
									<descr>Modbus element starting address</descr>
								</var>
								<var name="val" type="REAL">
									<descr>Real Value to be written</descr>
								</var>
								<var name="tmo" type="UINT">
									<descr>Time out (ms)</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_MemoryMapping" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU memory structures allocation</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="pMbMNetList" type="DWORD">
									<descr>Address of the net list structure</descr>
								</var>
								<var name="numNodes" type="UDINT">
									<descr>Number of slaves in the netlist</descr>
								</var>
								<var name="pMbMMsgQueue" type="DWORD">
									<descr>Address of the message queue that will be filled</descr>
								</var>
								<var name="numMsg" type="UDINT">
									<descr>Number of messages available for the queue</descr>
								</var>
								<var name="memoryAllocated" type="UDINT">
									<descr>Size in bytes of the memory allocated for network and queue</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_SlavePrmInteger" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU slave parametrization with integer value</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="id" type="UINT">
									<descr>Unique identification number single slave</descr>
								</var>
								<var name="reg" type="UINT">
									<descr>Modbus element starting address</descr>
								</var>
								<var name="dim" type="UINT">
									<descr>Modbus quantity of element</descr>
								</var>
								<var name="val" type="DINT">
									<descr>Integer Value to be written</descr>
								</var>
								<var name="tmo" type="UINT">
									<descr>Time out (ms)</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_SlaveAddToNetList" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU adding slave on network</descr>
						<returnValue>USINT</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="min_poll_time" type="UINT">
									<descr>Modbus slave minimum polling time (ms)</descr>
								</var>
								<var name="prm" type="UINT">
									<descr>Number of parametrization message that slave will be received</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_SlaveAddToNetList2" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU adding slave on network</descr>
						<returnValue>USINT</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="min_poll_time" type="UINT">
									<descr>Modbus slave minimum polling time (ms)</descr>
								</var>
								<var name="prm" type="UINT">
									<descr>Number of parametrization message that slave will be received</descr>
								</var>
								<var name="swapWords" type="USINT">
									<descr>Swap words mode</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_OpenChn" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU open channel</descr>
						<returnValue>USINT</returnValue>
						<vars>
							<inputVars>
								<var name="ser" type="USINT">
									<descr>Serial Port (logical channel id)</descr>
								</var>
								<var name="baud" type="DINT">
									<descr>Serial Port Baudrate, refer to enumerative MbRtuBaudRate</descr>
								</var>
								<var name="mode" type="DINT">
									<descr>Serial Port Mode, refer to enumerative MbRtuMode</descr>
								</var>
								<var name="serCfg" type="USINT">
									<descr>Serial configuration, if TRUE configure serial port using parameters in database</descr>
								</var>
								<var name="phyCfg" type="USINT">
									<descr>Serial Port configuration (physical port id)</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_OpenChn2" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU open channel</descr>
						<returnValue>USINT</returnValue>
						<vars>
							<inputVars>
								<var name="ser" type="USINT">
									<descr>Serial Port (logical channel id)</descr>
								</var>
								<var name="baud" type="DINT">
									<descr>Serial Port Baudrate, refer to enumerative MbRtuBaudRate</descr>
								</var>
								<var name="mode" type="DINT">
									<descr>Serial Port Mode, refer to enumerative MbRtuMode</descr>
								</var>
								<var name="serCfg" type="USINT">
									<descr>Serial configuration, if TRUE configure serial port using parameters in database</descr>
								</var>
								<var name="phyCfg" type="USINT">
									<descr>Serial Port configuration (physical port id)</descr>
								</var>
								<var name="rsMode" type="DINT">
									<descr>Serial port RS Mode, refer to enumerative MbRtuRSMode</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_NewSlaveMessage" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU set new message for a slave</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="fnz" type="DINT">
									<descr>Modbus function, refer to enumerative MbFunction</descr>
								</var>
								<var name="reg" type="UINT">
									<descr>Modbus element starting address</descr>
								</var>
								<var name="dim" type="UINT">
									<descr>Modbus quantity of element</descr>
								</var>
								<var name="db_n" type="UINT">
									<descr>Modbus element corresponding datablock</descr>
								</var>
								<var name="db_o" type="UINT">
									<descr>Modbus element corresponding datablock offset</descr>
								</var>
								<var name="db_t" type="USINT">
									<descr>Modbus element corresponding datablock type</descr>
								</var>
								<var name="poll_time" type="UINT">
									<descr>Polling time (ms)</descr>
								</var>
								<var name="tmo" type="UINT">
									<descr>Time out (ms)</descr>
								</var>
								<var name="modbus_pdu_tx_buffer" type="DWORD">
									<descr>Modbus pdu tx buffer (for on event msg only)</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_NewSlaveMessage2" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU set new message for a slave</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="fnz" type="DINT">
									<descr>Modbus function, refer to enumerative MbFunction</descr>
								</var>
								<var name="reg" type="UINT">
									<descr>Modbus element starting address</descr>
								</var>
								<var name="dim" type="UINT">
									<descr>Modbus quantity of element</descr>
								</var>
								<var name="db_n" type="UINT">
									<descr>Modbus element corresponding datablock</descr>
								</var>
								<var name="db_o" type="UINT">
									<descr>Modbus element corresponding datablock offset</descr>
								</var>
								<var name="db_t" type="USINT">
									<descr>Modbus element corresponding datablock type</descr>
								</var>
								<var name="poll_time" type="UINT">
									<descr>Polling time (ms)</descr>
								</var>
								<var name="tmo" type="UINT">
									<descr>Time out (ms)</descr>
								</var>
								<var name="modbus_pdu_tx_buffer" type="DWORD">
									<descr>Modbus pdu tx buffer (for on event msg only)</descr>
								</var>
								<var name="reg_types_info" type="DWORD">
									<descr>Register types informations</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_NewSlaveMessage3" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU set new message for a slave</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="fnz" type="DINT">
									<descr>Modbus function, refer to enumerative MbFunction</descr>
								</var>
								<var name="reg" type="UINT">
									<descr>Modbus element starting address</descr>
								</var>
								<var name="dim" type="UINT">
									<descr>Modbus quantity of element</descr>
								</var>
								<var name="dbElemsArr" type="@UINT">
									<descr>Array of datablock mappings</descr>
								</var>
								<var name="dbAddrArr" type="PVOID">
									<descr>Array of datablock addresses</descr>
								</var>
								<var name="poll_time" type="UINT">
									<descr>Polling time (ms)</descr>
								</var>
								<var name="tmo" type="UINT">
									<descr>Time out (ms)</descr>
								</var>
								<var name="modbus_pdu_tx_buffer" type="@BYTE">
									<descr>Modbus pdu tx buffer (for on event msg only)</descr>
								</var>
								<var name="reg_types_info" type="@BYTE">
									<descr>Register types informations</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_NewBroadcastMessage" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU set new broadcast message</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="fnz" type="DINT">
									<descr>Modbus function, refer to enumerative MbFunction</descr>
								</var>
								<var name="reg" type="UINT">
									<descr>Modbus element starting address</descr>
								</var>
								<var name="dim" type="UINT">
									<descr>Modbus quantity of element</descr>
								</var>
								<var name="db_n" type="UINT">
									<descr>Modbus element corresponding datablock</descr>
								</var>
								<var name="db_o" type="UINT">
									<descr>Modbus element corresponding datablock offset</descr>
								</var>
								<var name="db_t" type="USINT">
									<descr>Modbus element corresponding datablock type</descr>
								</var>
								<var name="turn_time" type="UINT">
									<descr>Tournaround delay (ms)</descr>
								</var>
								<var name="poll_time" type="UINT">
									<descr>Polling time (ms)</descr>
								</var>
								<var name="modbus_pdu_tx_buffer" type="DWORD">
									<descr>Modbus pdu tx buffer (for on event msg only)</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_SetCurrMsgOneShotVar" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU oneshot variable</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="db_n" type="UINT">
									<descr>Oneshot variable corresponding datablock</descr>
								</var>
								<var name="db_o" type="UINT">
									<descr>Oneshot variable corresponding datablock offset</descr>
								</var>
								<var name="db_t" type="USINT">
									<descr>Oneshot variable corresponding datablock type</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_MsgConfigCompleted" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Message configuration completed</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="dummy" type="BOOL">
									<descr>Dummy parameter</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_CloseChn" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU close channel</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_Boot" version="1.0.0" hidden="true" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU Boot Configuration</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="boot" type="BOOL">
									<descr>Modbus master RTU Boot Configuration command</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_SlaveActivation" version="1.0.0" creationDate="0" lastModifiedDate="1564576166">
						<descr>Modbus master RTU Activate/Deactivate Slave communication</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="handle" type="USINT">
									<descr>Modbus slave handle, returned from sysMbMRtu_GetSlaveHandle</descr>
								</var>
								<var name="activate" type="BOOL">
									<descr>If TRUE, Slave is concurrent in communication</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_GetSlaveHandle" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<descr>Modbus master RTU get offset in Netlist of corresponding slave</descr>
						<returnValue>USINT</returnValue>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMRtu_SetPostDelay" version="1.0.0" hidden="false" creationDate="0" lastModifiedDate="0">
						<descr>Modbus slave RTU: manually set post-delay time of serial communication</descr>
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="postDelay" type="UINT">
									<descr>Post-delay in ms to be used</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
				</functions>
				<functionBlocks>
					<functionBlock name="sysMbMRtu_GetSlaveStatus" version="1.0.0" creationDate="0" lastModifiedDate="1564576166">
						<descr>Modbus master RTU get status of corresponding slave</descr>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
								<var name="hdl" type="USINT">
									<descr>Modbus slave handle, returned from sysMbMRtu_GetSlaveHandle</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="adr" type="USINT">
									<descr>Modbus slave address</descr>
								</var>
								<var name="cfg" type="BOOL">
									<descr>Modbus slave is added to netlist</descr>
								</var>
								<var name="pres" type="BOOL">
									<descr>Modbus slave is present on network</descr>
								</var>
								<var name="active" type="BOOL">
									<descr>Modbus slave is concurrent in communication</descr>
								</var>
								<var name="n_prm" type="UINT">
									<descr>Total number of Parametrization Slave Message</descr>
								</var>
								<var name="n_qmsg" type="UINT">
									<descr>Total number of Configurated Slave Message</descr>
								</var>
								<var name="min_poll_time" type="UINT">
									<descr>Minimum polling time (ms)</descr>
								</var>
								<var name="status" type="MbStatus">
									<descr>Modbus slave state machine, referred to enumerative MbStatus</descr>
								</var>
								<var name="error" type="MbError">
									<descr>Modbus slave last error, referred to enumerative MbError</descr>
								</var>
								<var name="exception" type="MbException">
									<descr>Modbus slave last exception, referred to enumerative MbException</descr>
								</var>
								<var name="n_SlaveExceptionCount" type="UINT">
									<descr>Slave Exception Error Count</descr>
								</var>
								<var name="n_SlaveMessageCount" type="UINT">
									<descr>Slave Message Count</descr>
								</var>
								<var name="n_SlaveNoResponsCount" type="UINT">
									<descr>Slave No Response Count</descr>
								</var>
								<var name="n_SlaveNAKCount" type="UINT">
									<descr>Slave NAK Count</descr>
								</var>
								<var name="n_SlaveBusyCount" type="UINT">
									<descr>Slave Busy Count</descr>
								</var>
								<var name="n_SlaveChrOvrCount" type="UINT">
									<descr>Slave Character Overrun Count</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMRtu_GetMasterStatus" version="1.0.0" creationDate="0" lastModifiedDate="1564573500">
						<descr>Modbus master RTU get status of master</descr>
						<vars>
							<inputVars>
								<var name="chn" type="USINT">
									<descr>Modbus Master RTU channel, referred to sysMbMRtuStatus.chn</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="cfgOk" type="BOOL">
									<descr>Modbus Master configured</descr>
								</var>
								<var name="status" type="MbStatus">
									<descr>Modbus Master state machine, referred to enumerative MbStatus</descr>
								</var>
								<var name="lastError" type="MbError">
									<descr>Modbus Master last error, referred to enumerative MbError</descr>
								</var>
								<var name="nSlaves" type="USINT">
									<descr>Total number of Configurated Slave in Net list</descr>
								</var>
								<var name="nQueuedMsg" type="UINT">
									<descr>Total number of Configurated Broadcast and Single Slave Message</descr>
								</var>
								<var name="nQueuedBroadcastMsg" type="UINT">
									<descr>Total number of Configurated Broadcast Message</descr>
								</var>
								<var name="nBusMsgCount" type="UINT">
									<descr>Bus Message Count</descr>
								</var>
								<var name="nBusCommErrCount" type="UINT">
									<descr>Bus Communication Error Count</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMRtu_FC16" version="1.0.0" creationDate="0" lastModifiedDate="1564576283">
						<descr>Write Multiple Registers - Function 16 (0x10).
This function block can be used in the Background task only.
You have to assure that all input variables, except any objectN variable, where N is greater than the value of no input variable, are properly set before invoking the function block. In particular, the addr input variable must be set to the physical address of an existing Modbus Slave target of this operation. The values of all input variables ranging from object1 to objectN, where N equals the value of no input variable are the values sent on the communication bus to the slave node.
After function block execution, if an error did occur, you can read its code from the errorCode output variable.</descr>
						<vars>
							<inputVars>
								<var name="chn" type="MbChn">
									<descr>Identify which one of the two serial will be used</descr>
								</var>
								<var name="addr" type="USINT">
									<descr>Physical address of the target slave</descr>
								</var>
								<var name="base" type="UINT">
									<descr>Address of the first Holding Register to write</descr>
								</var>
								<var name="no" type="UINT">
									<descr>Number of contiguous Holding Registers to write</descr>
								</var>
								<var name="object1" type="UINT">
									<descr>1st Holding Register value</descr>
								</var>
								<var name="object2" type="UINT">
									<descr>2nd Holding Register value</descr>
								</var>
								<var name="object3" type="UINT">
									<descr>3rd Holding Register value</descr>
								</var>
								<var name="object4" type="UINT">
									<descr>4th Holding Register value</descr>
								</var>
								<var name="object5" type="UINT">
									<descr>5th Holding Register value</descr>
								</var>
								<var name="object6" type="UINT">
									<descr>6th Holding Register value</descr>
								</var>
								<var name="object7" type="UINT">
									<descr>7th Holding Register value</descr>
								</var>
								<var name="object8" type="UINT">
									<descr>8th Holding Register value</descr>
								</var>
								<var name="object9" type="UINT">
									<descr>9th Holding Register value</descr>
								</var>
								<var name="object10" type="UINT">
									<descr>10th Holding Register value</descr>
								</var>
								<var name="object11" type="UINT">
									<descr>11th Holding Register value</descr>
								</var>
								<var name="object12" type="UINT">
									<descr>12th Holding Register value</descr>
								</var>
								<var name="object13" type="UINT">
									<descr>13th Holding Register value</descr>
								</var>
								<var name="object14" type="UINT">
									<descr>14th Holding Register value</descr>
								</var>
								<var name="object15" type="UINT">
									<descr>15th Holding Register value</descr>
								</var>
								<var name="object16" type="UINT">
									<descr>16th Holding Register value</descr>
								</var>
								<var name="pollingTime" type="UINT">
									<descr>Polling time [ms] (Reserved for future use)</descr>
								</var>
								<var name="waitBeforeSend" type="UINT">
									<descr>Time to wait before sending the message [ms]</descr>
								</var>
								<var name="timeout" type="UINT">
									<descr>Timeout [ms]</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="errorCode" type="MbRqErr">
									<descr>Exception Code</descr>
								</var>
								<var name="error" type="BOOL">
									<descr>TRUE = error occurred; FALSE = no error</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="timestamp" type="UDINT">
									<descr>Message timestamp [ms]</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMRtu_FC15" version="1.0.0" creationDate="0" lastModifiedDate="1564576283">
						<descr>Write Multiple Coils - Function 15 (0x0F).
This function block can be used in the Bakcground task only.
You have to assure that all input variables, except any objectN variable, where N is greater than the value of no input variable, are properly set before invoking the function block. In particular, the addr input variable must be set to the physical address of an existing Modbus Slave target of this operation. The values of all input variables ranging from object1 to objectN, where N equals the value of no input variable are the values sent on the communication bus to the slave node.
After function block execution, if an error did occur, you can read its code from the errorCode output variable.</descr>
						<vars>
							<inputVars>
								<var name="chn" type="MbChn">
									<descr>Identify which one of the two serial will be used</descr>
								</var>
								<var name="addr" type="USINT">
									<descr>Physical address of the target slave</descr>
								</var>
								<var name="base" type="UINT">
									<descr>Address of the first Coils to write</descr>
								</var>
								<var name="no" type="UINT">
									<descr>Number of contiguous Coils to write</descr>
								</var>
								<var name="object1" type="BOOL">
									<descr>1st Coil value</descr>
								</var>
								<var name="object2" type="BOOL">
									<descr>2nd Coil value</descr>
								</var>
								<var name="object3" type="BOOL">
									<descr>3rd Coil value</descr>
								</var>
								<var name="object4" type="BOOL">
									<descr>4th Coil value</descr>
								</var>
								<var name="object5" type="BOOL">
									<descr>5th Coil value</descr>
								</var>
								<var name="object6" type="BOOL">
									<descr>6th Coil value</descr>
								</var>
								<var name="object7" type="BOOL">
									<descr>7th Coil value</descr>
								</var>
								<var name="object8" type="BOOL">
									<descr>8th Coil value</descr>
								</var>
								<var name="object9" type="BOOL">
									<descr>9th Coil value</descr>
								</var>
								<var name="object10" type="BOOL">
									<descr>10th Coil value</descr>
								</var>
								<var name="object11" type="BOOL">
									<descr>11th Coil value</descr>
								</var>
								<var name="object12" type="BOOL">
									<descr>12th Coil value</descr>
								</var>
								<var name="object13" type="BOOL">
									<descr>13th Coil value</descr>
								</var>
								<var name="object14" type="BOOL">
									<descr>14th Coil value</descr>
								</var>
								<var name="object15" type="BOOL">
									<descr>15th Coil value</descr>
								</var>
								<var name="object16" type="BOOL">
									<descr>16th Coil value</descr>
								</var>
								<var name="pollingTime" type="UINT">
									<descr>Polling time [ms] (Reserved for future use)</descr>
								</var>
								<var name="waitBeforeSend" type="UINT">
									<descr>Time to wait before sending the message [ms]</descr>
								</var>
								<var name="timeout" type="UINT">
									<descr>Timeout [ms]</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="errorCode" type="MbRqErr">
									<descr>Exception Code</descr>
								</var>
								<var name="error" type="BOOL">
									<descr>TRUE = error occurred; FALSE = no error</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="timestamp" type="UDINT">
									<descr>Message timestamp [ms]</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMRtu_FC06" version="1.0.0" creationDate="0" lastModifiedDate="1564576283">
						<descr>Write Single Register - Function 06 (0x06).
This function block can be used in the Background task only.
You have to assure that all input variables are properly set before invoking the function block. In particular, the addr input variable must be set to the physical address of an existing Modbus Slave target of this operation. The value of the object input variable is the value sent on the communication bus to the slave node.
After function block execution, if an error did occur, you can read its code from the errorCode output variable.</descr>
						<vars>
							<inputVars>
								<var name="chn" type="MbChn">
									<descr>Identify which one of the two serial will be used</descr>
								</var>
								<var name="addr" type="USINT">
									<descr>Physical address of the target slave</descr>
								</var>
								<var name="base" type="UINT">
									<descr>Address of the Register to write</descr>
								</var>
								<var name="object" type="UINT">
									<descr>Register value</descr>
								</var>
								<var name="pollingTime" type="UINT">
									<descr>Polling time [ms] (Reserved for future use)</descr>
								</var>
								<var name="waitBeforeSend" type="UINT">
									<descr>Time to wait before sending the message [ms]</descr>
								</var>
								<var name="timeout" type="UINT">
									<descr>Timeout [ms]</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="errorCode" type="MbRqErr">
									<descr>Exception Code</descr>
								</var>
								<var name="error" type="BOOL">
									<descr>TRUE = error occurred; FALSE = no error</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="timestamp" type="UDINT">
									<descr>Message timestamp [ms]</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMRtu_FC05" version="1.0.0" creationDate="0" lastModifiedDate="1564576283">
						<descr>Write Single Coil - Function 05 (0x05).
This function block can be used in the Background task only.
You have to assure that all input variables are properly set before invoking the function block. In particular, the addr input variable must be set to the physical address of an existing Modbus Slave target of this operation. The value of the object input variable is the value sent on the communication bus to the slave node.
After function block execution, if an error did occur, you can read its code from the errorCode output variable.</descr>
						<vars>
							<inputVars>
								<var name="chn" type="MbChn">
									<descr>Identify which one of the two serial will be used</descr>
								</var>
								<var name="addr" type="USINT">
									<descr>Physical address of the target slave</descr>
								</var>
								<var name="base" type="UINT">
									<descr>Address of the Coil to write</descr>
								</var>
								<var name="object" type="BOOL">
									<descr>Coil value</descr>
								</var>
								<var name="pollingTime" type="UINT">
									<descr>Polling time [ms] (Reserved for future use)</descr>
								</var>
								<var name="waitBeforeSend" type="UINT">
									<descr>Time to wait before sending the message [ms]</descr>
								</var>
								<var name="timeout" type="UINT">
									<descr>Timeout [ms]</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="errorCode" type="MbRqErr">
									<descr>Exception Code</descr>
								</var>
								<var name="error" type="BOOL">
									<descr>TRUE = error occurred; FALSE = no error</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="timestamp" type="UDINT">
									<descr>Message timestamp [ms]</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMRtu_FC04" version="1.0.0" creationDate="0" lastModifiedDate="1564576283">
						<descr>Read Input Registers - Function 04 (0x04).
This function block can be used in the Background task only.
You have to assure that all input variables are properly set before invoking the function block. In particular, the addr input variable must be set to the physical address of an existing Modbus Slave target of this operation.
After function block execution, unless an error occurred, you can use a subset of its output variables (from object1 to objectN, where N equals the value of no input variable) to get the Modbus objects read from the communication bus. If an error did occur, you can read its code from the errorCode output variable.</descr>
						<vars>
							<inputVars>
								<var name="chn" type="MbChn">
									<descr>Identify which one of the two serial will be used</descr>
								</var>
								<var name="addr" type="USINT">
									<descr>Physical address of the target slave</descr>
								</var>
								<var name="base" type="UINT">
									<descr>Address of the first Input Register to be read</descr>
								</var>
								<var name="no" type="UINT">
									<descr>Number of contiguous Input Registers to be read</descr>
								</var>
								<var name="pollingTime" type="UINT">
									<descr>Polling time [ms] (Reserved for future use)</descr>
								</var>
								<var name="waitBeforeSend" type="UINT">
									<descr>Time to wait before sending the message [ms]</descr>
								</var>
								<var name="timeout" type="UINT">
									<descr>Timeout [ms]</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="errorCode" type="MbRqErr">
									<descr>Exception Code</descr>
								</var>
								<var name="error" type="BOOL">
									<descr>TRUE = error occurred; FALSE = no error</descr>
								</var>
								<var name="object1" type="UINT">
									<descr>1st Input Register</descr>
								</var>
								<var name="object2" type="UINT">
									<descr>2nd Input Register</descr>
								</var>
								<var name="object3" type="UINT">
									<descr>3rd Input Register</descr>
								</var>
								<var name="object4" type="UINT">
									<descr>4th Input Register</descr>
								</var>
								<var name="object5" type="UINT">
									<descr>5th Input Register</descr>
								</var>
								<var name="object6" type="UINT">
									<descr>6th Input Register</descr>
								</var>
								<var name="object7" type="UINT">
									<descr>7th Input Register</descr>
								</var>
								<var name="object8" type="UINT">
									<descr>8th Input Register</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="timestamp" type="UDINT">
									<descr>Message timestamp [ms]</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMRtu_FC03" version="1.0.0" creationDate="0" lastModifiedDate="1564576283">
						<descr>Read Holding Registers - Function 03 (0x03).
This function block can be used in the Background task only.
You have to assure that all input variables are properly set before invoking the function block. In particular, the addr input variable must be set to the physical address of an existing Modbus Slave target of this operation.
After function block execution, unless an error occurred, you can use a subset of its output variables (from object1 to objectN, where N equals the value of no input variable) to get the Modbus objects read from the communication bus. If an error did occur, you can read its code from the errorCode output variable.</descr>
						<vars>
							<inputVars>
								<var name="chn" type="MbChn">
									<descr>Identify which one of the two serial will be used</descr>
								</var>
								<var name="addr" type="USINT">
									<descr>Physical address of the target slave</descr>
								</var>
								<var name="base" type="UINT">
									<descr>Address of the first Holding Register to be read</descr>
								</var>
								<var name="no" type="UINT">
									<descr>Number of contiguous Holding Registers to be read</descr>
								</var>
								<var name="pollingTime" type="UINT">
									<descr>Polling time [ms] (Reserved for future use)</descr>
								</var>
								<var name="waitBeforeSend" type="UINT">
									<descr>Time to wait before sending the message [ms]</descr>
								</var>
								<var name="timeout" type="UINT">
									<descr>Timeout [ms]</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="errorCode" type="MbRqErr">
									<descr>Exception Code</descr>
								</var>
								<var name="error" type="BOOL">
									<descr>TRUE = error occurred; FALSE = no error</descr>
								</var>
								<var name="object1" type="UINT">
									<descr>1st Holding Register</descr>
								</var>
								<var name="object2" type="UINT">
									<descr>2nd Holding Register</descr>
								</var>
								<var name="object3" type="UINT">
									<descr>3rd Holding Register</descr>
								</var>
								<var name="object4" type="UINT">
									<descr>4th Holding Register</descr>
								</var>
								<var name="object5" type="UINT">
									<descr>5th Holding Register</descr>
								</var>
								<var name="object6" type="UINT">
									<descr>6th Holding Register</descr>
								</var>
								<var name="object7" type="UINT">
									<descr>7th Holding Register</descr>
								</var>
								<var name="object8" type="UINT">
									<descr>8th Holding Register</descr>
								</var>
								<var name="object9" type="UINT">
									<descr>9th Holding Register</descr>
								</var>
								<var name="object10" type="UINT">
									<descr>10th Holding Register</descr>
								</var>
								<var name="object11" type="UINT">
									<descr>11th Holding Register</descr>
								</var>
								<var name="object12" type="UINT">
									<descr>12th Holding Register</descr>
								</var>
								<var name="object13" type="UINT">
									<descr>13th Holding Register</descr>
								</var>
								<var name="object14" type="UINT">
									<descr>14th Holding Register</descr>
								</var>
								<var name="object15" type="UINT">
									<descr>15th Holding Register</descr>
								</var>
								<var name="object16" type="UINT">
									<descr>16th Holding Register</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="timestamp" type="UDINT">
									<descr>Message timestamp [ms]</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMRtu_FC02" version="1.0.0" creationDate="0" lastModifiedDate="1564576283">
						<descr>Read Inputs Status - Function 02 (0x02).
This function block can be used in the Background task only.
You have to assure that all input variables are properly set before invoking the function block. In particular, the addr input variable must be set to the physical address of an existing Modbus Slave target of this operation.
After function block execution, unless an error occurred, you can use a subset of its output variables (from object1 to objectN, where N equals the value of no input variable) to get the Modbus objects read from the communication bus. If an error did occur, you can read its code from the errorCode output variable.</descr>
						<vars>
							<inputVars>
								<var name="chn" type="MbChn">
									<descr>Identify which one of the two serial will be used</descr>
								</var>
								<var name="addr" type="USINT">
									<descr>Physical address of the target slave</descr>
								</var>
								<var name="base" type="UINT">
									<descr>Address of the first Input to be read</descr>
								</var>
								<var name="no" type="UINT">
									<descr>Number of contiguous Inputs to be read</descr>
								</var>
								<var name="pollingTime" type="UINT">
									<descr>Polling time [ms] (Reserved for future use)</descr>
								</var>
								<var name="waitBeforeSend" type="UINT">
									<descr>Time to wait before sending the message [ms]</descr>
								</var>
								<var name="timeout" type="UINT">
									<descr>Timeout [ms]</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="errorCode" type="MbRqErr">
									<descr>Exception Code</descr>
								</var>
								<var name="error" type="BOOL">
									<descr>TRUE = error occurred; FALSE = no error</descr>
								</var>
								<var name="object1" type="BOOL">
									<descr>1st Input</descr>
								</var>
								<var name="object2" type="BOOL">
									<descr>2nd Input</descr>
								</var>
								<var name="object3" type="BOOL">
									<descr>3rd Input</descr>
								</var>
								<var name="object4" type="BOOL">
									<descr>4th Input</descr>
								</var>
								<var name="object5" type="BOOL">
									<descr>5th Input</descr>
								</var>
								<var name="object6" type="BOOL">
									<descr>6th Input</descr>
								</var>
								<var name="object7" type="BOOL">
									<descr>7th Input</descr>
								</var>
								<var name="object8" type="BOOL">
									<descr>8th Input</descr>
								</var>
								<var name="object9" type="BOOL">
									<descr>9th Input</descr>
								</var>
								<var name="object10" type="BOOL">
									<descr>10th Input</descr>
								</var>
								<var name="object11" type="BOOL">
									<descr>11th Input</descr>
								</var>
								<var name="object12" type="BOOL">
									<descr>12th Input</descr>
								</var>
								<var name="object13" type="BOOL">
									<descr>13th Input</descr>
								</var>
								<var name="object14" type="BOOL">
									<descr>14th Input</descr>
								</var>
								<var name="object15" type="BOOL">
									<descr>15th Input</descr>
								</var>
								<var name="object16" type="BOOL">
									<descr>16th Input</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="timestamp" type="UDINT">
									<descr>Message timestamp [ms]</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMRtu_FC01" version="1.0.0" creationDate="0" lastModifiedDate="1564576283">
						<descr>Read Coil Status - Function 01 (0x01).
This function block can be used in the Background task only.
You have to assure that all input variables are properly set before invoking the function block. In particular, the addr input variable must be set to the physical address of an existing Modbus Slave target of this operation.
After function block execution, unless an error occurred, you can use a subset of its output variables (from object1 to objectN, where N equals the value of no input variable) to get the Modbus objects read from the communication bus. If an error did occur, you can read its code from the errorCode output variable.</descr>
						<vars>
							<inputVars>
								<var name="chn" type="MbChn">
									<descr>Identify which one of the two serial will be used</descr>
								</var>
								<var name="addr" type="USINT">
									<descr>Physical address of the target slave</descr>
								</var>
								<var name="base" type="UINT">
									<descr>Address of the first coil to be read</descr>
								</var>
								<var name="no" type="UINT">
									<descr>Number of contiguous coils to be read</descr>
								</var>
								<var name="pollingTime" type="UINT">
									<descr>Polling time [ms] (Reserved for future use)</descr>
								</var>
								<var name="waitBeforeSend" type="UINT">
									<descr>Time to wait before sending the message [ms]</descr>
								</var>
								<var name="timeout" type="UINT">
									<descr>Timeout [ms]</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="errorCode" type="MbRqErr">
									<descr>Exception Code</descr>
								</var>
								<var name="error" type="BOOL">
									<descr>TRUE = error occurred; FALSE = no error</descr>
								</var>
								<var name="object1" type="BOOL">
									<descr>1st Coil</descr>
								</var>
								<var name="object2" type="BOOL">
									<descr>2nd Coil</descr>
								</var>
								<var name="object3" type="BOOL">
									<descr>3rd Coil</descr>
								</var>
								<var name="object4" type="BOOL">
									<descr>4th Coil</descr>
								</var>
								<var name="object5" type="BOOL">
									<descr>5th Coil</descr>
								</var>
								<var name="object6" type="BOOL">
									<descr>6th Coil</descr>
								</var>
								<var name="object7" type="BOOL">
									<descr>7th Coil</descr>
								</var>
								<var name="object8" type="BOOL">
									<descr>8th Coil</descr>
								</var>
								<var name="object9" type="BOOL">
									<descr>9th Coil</descr>
								</var>
								<var name="object10" type="BOOL">
									<descr>10th Coil</descr>
								</var>
								<var name="object11" type="BOOL">
									<descr>11th Coil</descr>
								</var>
								<var name="object12" type="BOOL">
									<descr>12th Coil</descr>
								</var>
								<var name="object13" type="BOOL">
									<descr>13th Coil</descr>
								</var>
								<var name="object14" type="BOOL">
									<descr>14th Coil</descr>
								</var>
								<var name="object15" type="BOOL">
									<descr>15th Coil</descr>
								</var>
								<var name="object16" type="BOOL">
									<descr>16th Coil</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="timestamp" type="UDINT">
									<descr>Message timestamp [ms]</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
				</functionBlocks>
				<programs/>
				<macros/>
				<structs>
					<struct name="MbMRtuStatus" version="1.0.0">
						<descr>Status of Modbus Master RTU</descr>
						<vars>
							<var name="cfg" type="BOOL">
								<descr>Modbus Master configured</descr>
							</var>
							<var name="chn" type="USINT">
								<descr>Modbus master RTU channel, returned from sysMbMRtu_OpenChn</descr>
							</var>
							<var name="numSlaves" type="USINT">
								<descr>Total number of Configurated Slave in Net list</descr>
							</var>
							<var name="reserved" type="USINT">
								<descr>Reserved field</descr>
							</var>
							<var name="status" type="MbStatus">
								<descr>Modbus master state machine, referred to enumerative MbStatus</descr>
							</var>
							<var name="error" type="MbError">
								<descr>Modbus master last error, referred to enumerative MbError</descr>
							</var>
							<var name="numMsg" type="UINT">
								<descr>Total number of Configurated Broadcast and Single Slave Message</descr>
							</var>
							<var name="numBroadcastMsg" type="UINT">
								<descr>Total number of Configurated Broadcast Message</descr>
							</var>
							<var name="numBusMsgCount" type="UINT">
								<descr>Bus Message Count</descr>
							</var>
							<var name="numBusCommErrCount" type="UINT">
								<descr>Bus Communication Error Count</descr>
							</var>
						</vars>
					</struct>
					<struct name="MbMRtuNetList" version="1.0.0">
						<descr>Modbus Master RTU Netlist</descr>
						<vars>
							<var name="chn" type="USINT">
								<descr>Modbus master RTU channel, returned from sysMbMRtu_OpenChn</descr>
							</var>
							<var name="adr" type="USINT">
								<descr>Modbus slave address</descr>
							</var>
							<var name="cfg" type="BOOL">
								<descr>Modbus slave is added to netlist</descr>
							</var>
							<var name="pres" type="BOOL">
								<descr>Modbus slave is present on network</descr>
							</var>
							<var name="active" type="BOOL">
								<descr>Modbus slave is concurrent in communication</descr>
							</var>
							<var name="swapWordsMode" type="USINT">
								<descr>Swap Mode field</descr>
							</var>
							<var name="numParamMsg" type="UINT">
								<descr>Total number of Parametrization Slave Message</descr>
							</var>
							<var name="numQueuedMsg" type="UINT">
								<descr>Total number of Configurated Slave Message</descr>
							</var>
							<var name="minPollingTime" type="UINT">
								<descr>Minimum polling time (ms)</descr>
							</var>
							<var name="status" type="MbStatus">
								<descr>Modbus slave state machine, referred to enumerative MbStatus</descr>
							</var>
							<var name="error" type="MbError">
								<descr>Modbus slave last error, referred to enumerative MbError</descr>
							</var>
							<var name="exception" type="MbException">
								<descr>Modbus slave last exception, referred to enumerative MbException</descr>
							</var>
							<var name="slaveExceptionCount" type="UINT">
								<descr>Slave Exception Error Count</descr>
							</var>
							<var name="slaveMessageCount" type="UINT">
								<descr>Slave Message Count</descr>
							</var>
							<var name="slaveNoResponseCount" type="UINT">
								<descr>Slave No Response Count</descr>
							</var>
							<var name="slaveNoAckCount" type="UINT">
								<descr>Slave NAK Count</descr>
							</var>
							<var name="slaveBusyCount" type="UINT">
								<descr>Slave Busy Count</descr>
							</var>
							<var name="slaveChrOvrCount" type="UINT">
								<descr>Slave Character Overrun Count</descr>
							</var>
						</vars>
					</struct>
					<struct name="MbRtuDiagnostics" version="1.0.0">
						<descr>Standard Modbus diagnostic</descr>
						<vars>
							<var name="slaveBusMsgCount" type="UINT">
								<descr>Bus Message Count</descr>
							</var>
							<var name="slaveBusCommErrCount" type="UINT">
								<descr>Bus Communication Error Count</descr>
							</var>
							<var name="slaveExceptionCount" type="UINT">
								<descr>Slave Exception Error Count</descr>
							</var>
							<var name="slaveMessageCount" type="UINT">
								<descr>Slave Message Count</descr>
							</var>
							<var name="slaveNoResponseCount" type="UINT">
								<descr>Slave No Response Count</descr>
							</var>
							<var name="slaveNoAckCount" type="UINT">
								<descr>Slave NAK Count</descr>
							</var>
							<var name="slaveBusyCount" type="UINT">
								<descr>Slave Busy Count</descr>
							</var>
							<var name="slaveChrOvrCount" type="UINT">
								<descr>Slave Character Overrun Count</descr>
							</var>
						</vars>
					</struct>
				</structs>
				<typedefs/>
				<enums>
					<enum name="MbStatus" version="1.0.0">
						<descr>Modbus Master Status decoding, use for master and slave state</descr>
						<elements>
							<element name="MbStatus_NotConfigured">
								<descr>Not configured</descr>
								<value>0</value>
							</element>
							<element name="MbStatus_Configured">
								<descr>Configured, waiting for go running</descr>
								<value>1</value>
							</element>
							<element name="MbStatus_Configuring">
								<descr>Configuration in progress</descr>
								<value>2</value>
							</element>
							<element name="MbStatus_Stopped">
								<descr>Stopped</descr>
								<value>3</value>
							</element>
							<element name="MbStatus_Starting">
								<descr>Start, waiting for running</descr>
								<value>4</value>
							</element>
							<element name="MbStatus_Running">
								<descr>Running</descr>
								<value>5</value>
							</element>
						</elements>
					</enum>
					<enum name="MbRqErr" version="1.0.0">
						<descr>List of possible errors obtained after a Modbus Master request</descr>
						<elements>
							<element name="MbRqErr_Ok">
								<descr>No error occurred</descr>
								<value>0</value>
							</element>
							<element name="MbRqErr_IllegalFunction">
								<descr>Invalid request message</descr>
								<value>1</value>
							</element>
							<element name="MbRqErr_IllegalDataAddress">
								<descr>Illegal data address</descr>
								<value>2</value>
							</element>
							<element name="MbRqErr_IllegalDataValue">
								<descr>Illegal data value</descr>
								<value>3</value>
							</element>
							<element name="MbRqErr_SlaveDeviceFailure">
								<descr>Salve device failure</descr>
								<value>4</value>
							</element>
							<element name="MbRqErr_Acknowledge">
								<descr>Acknowledge error</descr>
								<value>5</value>
							</element>
							<element name="MbRqErr_SlaveDeviceBusy">
								<descr>Slave device busy</descr>
								<value>6</value>
							</element>
							<element name="MbRqErr_ParityError">
								<descr>Memory parity error</descr>
								<value>7</value>
							</element>
							<element name="MbRqErr_CommChn">
								<descr>Communication channel configuration error</descr>
								<value>8</value>
							</element>
							<element name="MbRqErr_InvalidSlaveAddress">
								<descr>Invalid slave address (address range 0 - 247)</descr>
								<value>9</value>
							</element>
							<element name="MbRqErr_GatewayPathUnavailable">
								<descr>Gateway path unavailable</descr>
								<value>10</value>
							</element>
							<element name="MbRqErr_GatewayDeviceFailed">
								<descr>Gateway target device failed to respond</descr>
								<value>11</value>
							</element>
							<element name="MbRqErr_MsgMaxElements">
								<descr>Invalid number of element for this function</descr>
								<value>12</value>
							</element>
							<element name="MbRqErr_MsgRequestInvalid">
								<descr>Cannot correctly build the request message</descr>
								<value>13</value>
							</element>
							<element name="MbRqErr_MsgResponseInvalid">
								<descr>Invalid response message</descr>
								<value>14</value>
							</element>
							<element name="MbRqErr_MsgSize">
								<descr>Response size error</descr>
								<value>15</value>
							</element>
							<element name="MbRqErr_Timeout">
								<descr>Timeout reached</descr>
								<value>16</value>
							</element>
							<element name="MbRqErr_TaskInvalid">
								<descr>Function invoked by an invalid task</descr>
								<value>17</value>
							</element>
						</elements>
					</enum>
					<enum name="MbParam" version="1.0.0">
						<descr>Modbus Parametrization Request Status decoding</descr>
						<elements>
							<element name="MbParam_Init">
								<descr>Initialization</descr>
								<value>0</value>
							</element>
							<element name="MbParam_Busy">
								<descr>Busy</descr>
								<value>1</value>
							</element>
							<element name="MbParam_SendRequest">
								<descr>Send request</descr>
								<value>2</value>
							</element>
							<element name="MbParam_WaitResponse">
								<descr>Wait response</descr>
								<value>3</value>
							</element>
							<element name="MbParam_Ended">
								<descr>Terminated</descr>
								<value>4</value>
							</element>
						</elements>
					</enum>
					<enum name="MbMode" version="1.0.0">
						<descr>Modbus RTU communication mode</descr>
						<elements>
							<element name="MbMode_8N1">
								<descr>8 bit, no parity, 1 stop bit</descr>
								<value>0</value>
							</element>
							<element name="MbMode_8E1">
								<descr>8 bit, even parity, 1 stop bit</descr>
								<value>1</value>
							</element>
							<element name="MbMode_8O1">
								<descr>8 bit, odd parity, 1 stop bit</descr>
								<value>2</value>
							</element>
							<element name="MbMode_8N2">
								<descr>8 bit, no parity, 2 stop bit</descr>
								<value>3</value>
							</element>
							<element name="MbMode_8E2">
								<descr>8 bit, even parity, 2 stop bit</descr>
								<value>4</value>
							</element>
							<element name="MbMode_8O2">
								<descr>8 bit, odd parity, 2 stop bit</descr>
								<value>5</value>
							</element>
							<element name="MbMode_8S1">
								<descr>8 bit, space parity, 1 stop bit</descr>
								<value>6</value>
							</element>
							<element name="MbMode_8M1">
								<descr>8 bit, mark parity, 1 stop bit</descr>
								<value>7</value>
							</element>
							<element name="MbMode_8S2">
								<descr>8 bit, space parity, 2 stop bit</descr>
								<value>8</value>
							</element>
							<element name="MbMode_8M2">
								<descr>8 bit, mark parity, 2 stop bit</descr>
								<value>9</value>
							</element>
							<element name="MbMode_Auto">
								<descr>Selected by low level driver</descr>
								<value>255</value>
							</element>
						</elements>
					</enum>
					<enum name="MbFunction" version="1.0.0">
						<descr>Modbus Function</descr>
						<elements>
							<element name="MbFunc_ReadCoils">
								<descr>0x01 Read Coils</descr>
								<value>1</value>
							</element>
							<element name="MbFunc_ReadDiscreteInputs">
								<descr>0x02 Read Discrete Inputs</descr>
								<value>2</value>
							</element>
							<element name="MbFunc_ReadHoldingRegs">
								<descr>0x03 Read Holding Registers</descr>
								<value>3</value>
							</element>
							<element name="MbFunc_ReadInputRegs">
								<descr>0x04 Read Input Registers</descr>
								<value>4</value>
							</element>
							<element name="MbFunc_WriteSingleCoil">
								<descr>0x05 Write Single Coil</descr>
								<value>5</value>
							</element>
							<element name="MbFunc_WriteSingleReg">
								<descr>0x06 Write Single Register</descr>
								<value>6</value>
							</element>
							<element name="MbFunc_WriteMultipleCoils">
								<descr>0x0F Write Multiple Coils</descr>
								<value>15</value>
							</element>
							<element name="MbFunc_WriteMultipleRegs">
								<descr>0x10 Write Multiple Registers</descr>
								<value>16</value>
							</element>
						</elements>
					</enum>
					<enum name="MbException" version="1.0.0">
						<descr>Modbus Exception code</descr>
						<elements>
							<element name="MbExc_Ok">
								<descr>No Error</descr>
								<value>0</value>
							</element>
							<element name="MbExc_IllegalFunction">
								<descr>Illegal function</descr>
								<value>1</value>
							</element>
							<element name="MbExc_IllegalDataAddress">
								<descr>Illegal data address</descr>
								<value>2</value>
							</element>
							<element name="MbExc_IllegalDataValue">
								<descr>Illegal data value</descr>
								<value>3</value>
							</element>
							<element name="MbExc_SlaveDeviceFailure">
								<descr>Slave device failure</descr>
								<value>4</value>
							</element>
							<element name="MbExc_Acknowledge">
								<descr>Acknowledge</descr>
								<value>5</value>
							</element>
							<element name="MbExc_SlaveDeviceBusy">
								<descr>Slave device busy</descr>
								<value>6</value>
							</element>
							<element name="MbExc_MemoryParityError">
								<descr>Memory parity error</descr>
								<value>7</value>
							</element>
							<element name="MbExc_GatewayPathUnavailable">
								<descr>Gateway path unavailable</descr>
								<value>10</value>
							</element>
							<element name="MbExc_GatewayTargetDevice">
								<descr>Gateway target device failed to respond</descr>
								<value>11</value>
							</element>
						</elements>
					</enum>
					<enum name="MbError" version="1.0.0">
						<descr>Modbus Master Error decoding, use for master and slave error</descr>
						<elements>
							<element name="MbError_Ok">
								<descr>No error</descr>
								<value>0</value>
							</element>
							<element name="MbError_System">
								<descr>System, internal error</descr>
								<value>1</value>
							</element>
							<element name="MbError_CommChn">
								<descr>Error on communication channel</descr>
								<value>8</value>
							</element>
							<element name="MbError_CommHdl">
								<descr>Invalid communication handle</descr>
								<value>11</value>
							</element>
							<element name="MbError_CommTx">
								<descr>Impossible to send request</descr>
								<value>12</value>
							</element>
							<element name="MbError_CommOpen">
								<descr>Cannot open communication port</descr>
								<value>19</value>
							</element>
							<element name="MbError_SlaveMaxNum">
								<descr>Maximum number of slave</descr>
								<value>20</value>
							</element>
							<element name="MbError_SlaveAddrressInvalid">
								<descr>Invalid slave address</descr>
								<value>21</value>
							</element>
							<element name="MbError_SlaveNotCfg">
								<descr>Slave not exist in netlist</descr>
								<value>22</value>
							</element>
							<element name="MbError_SlaveInUse">
								<descr>Slave address already in use</descr>
								<value>23</value>
							</element>
							<element name="MbError_SlaveLoss">
								<descr>Slave loss</descr>
								<value>24</value>
							</element>
							<element name="MbError_MsgMaxNum">
								<descr>Maximum number of modbus message</descr>
								<value>30</value>
							</element>
							<element name="MbError_MsgFnzInvalid">
								<descr>Invalid modbus function</descr>
								<value>31</value>
							</element>
							<element name="MbError_MsgFnzSize">
								<descr>Invalid modbus function dimension</descr>
								<value>32</value>
							</element>
							<element name="MbError_MsgDatablockInvalid">
								<descr>Invalid datablock</descr>
								<value>33</value>
							</element>
							<element name="MbError_ParamInvalid">
								<descr>System, internal error</descr>
								<value>40</value>
							</element>
							<element name="MbError_ParamException">
								<descr>Exception occured</descr>
								<value>41</value>
							</element>
							<element name="MbError_ParamTimeout">
								<descr>Timeout</descr>
								<value>42</value>
							</element>
						</elements>
					</enum>
					<enum name="MbChn" version="1.0.0">
						<descr>Handler to identify which serial use, for example in modbus master function block</descr>
						<elements>
							<element name="MbChn_0">
								<descr>Handler for use serial 1</descr>
								<value>0</value>
							</element>
							<element name="MbChn_1">
								<descr>Handler for use serial 2</descr>
								<value>1</value>
							</element>
						</elements>
					</enum>
					<enum name="MbBaudrate" version="1.0.0">
						<descr>Modbus RTU communication baudrate</descr>
						<elements>
							<element name="MbBaud_600">
								<descr>600 bit/s</descr>
								<value>600</value>
							</element>
							<element name="MbBaud_1200">
								<descr>1200 bit/s</descr>
								<value>1200</value>
							</element>
							<element name="MbBaud_2400">
								<descr>2400 bit/s</descr>
								<value>2400</value>
							</element>
							<element name="MbBaud_4800">
								<descr>4800 bit/s</descr>
								<value>4800</value>
							</element>
							<element name="MbBaud_9600">
								<descr>9600 bit/s</descr>
								<value>9600</value>
							</element>
							<element name="MbBaud_19200">
								<descr>19200 bit/s</descr>
								<value>19200</value>
							</element>
							<element name="MbBaud_38400">
								<descr>38400 bit/s</descr>
								<value>38400</value>
							</element>
							<element name="MbBaud_57600">
								<descr>57600 bit/s</descr>
								<value>57600</value>
							</element>
							<element name="MbBaud_76800">
								<descr>76800 bit/s</descr>
								<value>76800</value>
							</element>
							<element name="MbBaud_115200">
								<descr>115200 bit/s</descr>
								<value>115200</value>
							</element>
							<element name="MbBaud_Auto">
								<descr>Selected by low level driver</descr>
								<value>0</value>
							</element>
						</elements>
					</enum>
					<enum name="MbRSMode" version="1.0.0">
						<descr>Serial port RS mode</descr>
						<elements>
							<element name="RSMode_Auto">
								<descr>Automatic configuration</descr>
								<value>0</value>
							</element>
							<element name="RSMode_485">
								<descr>RS485 mode</descr>
								<value>1</value>
							</element>
							<element name="RSMode_422">
								<descr>RS422 mode</descr>
								<value>2</value>
							</element>
							<element name="RSMode_232">
								<descr>RS232 mode</descr>
								<value>3</value>
							</element>
						</elements>
					</enum>
				</enums>
				<subranges/>
				<interfaces/>
			</lib>
			<lib version="1.0.0" name="c:\program files (x86)\arduino plc ide\catalog\arduinopmc_1p0\arduinopmc\..\Libraries\AlModbusTCPMaster.plclib" fullXml="true" link="true">
				<descr/>
				<libWorkspace>
					<folder name="Modbus_master_TCP">
						<Pou name="sysMbMTcp_InitMemory"/>
						<Pou name="sysMbMTcp_InitProcessImages"/>
						<Pou name="sysMbMTcp_CheckMemorySize"/>
						<Pou name="sysMbMTcp_InitNetConfiguration"/>
						<GlobalVars name="Diagnostics"/>
						<Pou name="sysMbMTcp_ReadReg_RO"/>
						<Pou name="sysMbMTcp_ReadReg_RW"/>
						<Pou name="sysMbMTcp_WriteReg_M"/>
						<Pou name="sysMbMTcp_WriteReg_S"/>
						<folder name="Enumerations">
							<Definition name="sysMbMTcpEsi"/>
							<Definition name="sysMbMTcpTypeD"/>
							<Definition name="sysMbMTcpTypeImage"/>
						</folder>
						<folder name="Structures">
							<Definition name="MbTcpSlaveState"/>
							<Definition name="MbTcpState"/>
							<Definition name="sysMbMTcpSlaveParam"/>
							<Definition name="sysMbMTcpSlaveImage"/>
							<Definition name="sysMbMTcpSlave"/>
							<Definition name="sysMbMTcpPlcImage"/>
						</folder>
					</folder>
				</libWorkspace>
				<globalVars>
					<group name="Diagnostics">
						<var name="sysMbTcpSlaveState" type="MbTcpSlaveState" dim0="17">
							<address type="I" typeVar="B" index="60020" subIndex="0"/>
						</var>
						<var name="sysMbTcpMState" type="MbTcpState">
							<address type="I" typeVar="B" index="60021" subIndex="0"/>
						</var>
					</group>
				</globalVars>
				<retainVars>
					<group name="Diagnostics"/>
				</retainVars>
				<constantVars>
					<group name="Diagnostics"/>
				</constantVars>
				<iecVarsDeclaration>
					<group name="Diagnostics">
						<iecDeclaration active="FALSE"/>
					</group>
				</iecVarsDeclaration>
				<functions>
					<function name="sysMbMTcp_CheckMemorySize" hidden="true" version="1.0.0" creationDate="1568714837" lastModifiedDate="1568715971">
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="mb_param_info_size" type="UINT">
									<descr>MB_PARAM_INFO size</descr>
								</var>
								<var name="mb_image_info_size" type="UINT">
									<descr>MB_IMAGE_INFO size</descr>
								</var>
								<var name="mb_plc_info_size" type="UINT">
									<descr>MB_PLC_INFO size</descr>
								</var>
								<var name="mb_queue_msg_size" type="UINT">
									<descr>MB_QUEUE_MSG size</descr>
								</var>
								<var name="mb_inpout_cmd_size" type="UINT">
									<descr>MB_INPOUT_CMD_SIZE size</descr>
								</var>
								<var name="mbadu_size" type="UINT">
									<descr>MBADU size</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMTcp_InitMemory" hidden="true" version="1.0.0" creationDate="1568714837" lastModifiedDate="1568715971">
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="adrMbQueueMsgMemory" type="DWORD">
									<descr>address of MbQueueMsg</descr>
								</var>
								<var name="numMbQueueMsg" type="UDINT">
									<descr>max number of messages</descr>
								</var>
								<var name="adrMBADUMemory" type="DWORD">
									<descr>data pool for packets memory</descr>
								</var>
								<var name="numMBADU" type="UDINT">
									<descr>max number of MBADU packets</descr>
								</var>
								<var name="adrMbInpOutCmdMemory" type="DWORD">
									<descr>data pool for inpout msg</descr>
								</var>
								<var name="numMbInpOutCmd" type="UDINT">
									<descr>max number of inpout msg</descr>
								</var>
								<var name="adrInfoParamsMemory" type="DWORD">
									<descr>additional memory for params</descr>
								</var>
								<var name="adrInfoImageMemory" type="DWORD">
									<descr>additional memory for images</descr>
								</var>
								<var name="adrInfoProcInpMemory" type="DWORD">
									<descr>additional memory for process images input</descr>
								</var>
								<var name="adrInfoProcOutMemory" type="DWORD">
									<descr>additional memory for process images output</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMTcp_InitProcessImages" hidden="true" version="1.0.0" creationDate="1568714837" lastModifiedDate="1568715971">
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="adrImgDiscInputStatusMemory" type="DWORD">
									<descr>address of ImgDiscInputStatusMemory</descr>
								</var>
								<var name="adrImgCoilStatusMemory" type="DWORD">
									<descr>address of ImgCoilStatusMemory</descr>
								</var>
								<var name="adrImgRegInputStatusMemory" type="DWORD">
									<descr>address of ImgRegInputStatusMemory</descr>
								</var>
								<var name="adrImgHoldRegStatusMemory" type="DWORD">
									<descr>address of ImgHoldRegStatusMemory</descr>
								</var>
								<var name="adrImgCoilStatusAuxInMemory" type="DWORD">
									<descr>address of ImgCoilStatusAuxInMemory</descr>
								</var>
								<var name="adrImgHoldRegStatusAuxInMemory" type="DWORD">
									<descr>address of ImgHoldRegStatusAuxInMemory</descr>
								</var>
								<var name="adrImgCoilStatusAuxOutMemory" type="DWORD">
									<descr>address of ImgCoilStatusAuxOutMemory</descr>
								</var>
								<var name="numImgHoldRegStatusAuxIn" type="DWORD">
									<descr>number of UINT process images</descr>
								</var>
								<var name="numImgDiscInputStatus" type="DWORD">
									<descr>number of BOOL process images</descr>
								</var>
								<var name="numImgCoilStatus" type="DWORD">
									<descr>number of BOOL process images</descr>
								</var>
								<var name="numImgRegInputStatus" type="DWORD">
									<descr>number of UINT process images</descr>
								</var>
								<var name="numImgHoldRegStatus" type="DWORD">
									<descr>number of UINT process images</descr>
								</var>
								<var name="numImgCoilStatusAuxIn" type="DWORD">
									<descr>number of BOOL process images</descr>
								</var>
								<var name="numImgHoldRegStatusAuxIn" type="DWORD">
									<descr>number of UINT process images</descr>
								</var>
								<var name="numImgCoilStatusAuxOut" type="DWORD">
									<descr>number of BOOL process images</descr>
								</var>
								<var name="numImgHoldRegStatusAuxIn" type="DWORD">
									<descr>number of UINT process images</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
					<function name="sysMbMTcp_InitNetConfiguration" hidden="true" version="1.0.0" creationDate="1568714837" lastModifiedDate="1568715971">
						<returnValue>BOOL</returnValue>
						<vars>
							<inputVars>
								<var name="numTotMasters" type="USINT">
									<descr>total number of masters</descr>
								</var>
								<var name="numTotSlaves" type="USINT">
									<descr>total number of slaves</descr>
								</var>
								<var name="numTotParams" type="UINT">
									<descr>total number of params</descr>
								</var>
								<var name="numTotImages" type="UINT">
									<descr>total number of images</descr>
								</var>
								<var name="numTotProcInput" type="UINT">
									<descr>total number of input processes</descr>
								</var>
								<var name="numTotProcOutput" type="UINT">
									<descr>total number of output processes</descr>
								</var>
								<var name="adrSlavesDefs" type="DWORD">
									<descr>address of slaves definition array</descr>
								</var>
								<var name="adrParamsDefs" type="DWORD">
									<descr>address of params definition array</descr>
								</var>
								<var name="adrImgsDefs" type="DWORD">
									<descr>address of images definition array</descr>
								</var>
								<var name="adrProcInDefs" type="DWORD">
									<descr>address of input processes definition array</descr>
								</var>
								<var name="adrProcOutDefs" type="DWORD">
									<descr>address of output processes definition array</descr>
								</var>
							</inputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<sourceCode type="EMBEDDED"/>
					</function>
				</functions>
				<functionBlocks>
					<functionBlock name="sysMbMTcp_WriteReg_S" version="1.0.0" creationDate="1568985303" lastModifiedDate="1568985417">
						<descr>Write modbus register using WriteSingleRegister modbus command</descr>
						<vars>
							<inputVars>
								<var name="node" type="UINT">
									<descr>The index of the node in the network</descr>
								</var>
								<var name="reg_addr" type="UINT">
									<descr>The address of the register to read</descr>
								</var>
								<var name="data_type" type="sysMbMTcpTypeD">
									<descr>The type of the data to read</descr>
								</var>
								<var name="data_raw" type="DWORD">
									<descr>Data to be written</descr>
								</var>
								<var name="tmo" type="UDINT">
									<descr>Timeout in ms</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="esi" type="sysMbMTcpEsi">
									<descr>Operation result</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMTcp_WriteReg_M" version="1.0.0" creationDate="1568984942" lastModifiedDate="1568985143">
						<descr>Write modbus register using WriteMultipleRegisters modbus command</descr>
						<vars>
							<inputVars>
								<var name="node" type="UINT">
									<descr>The index of the node in the network</descr>
								</var>
								<var name="reg_addr" type="UINT">
									<descr>The address of the register to read</descr>
								</var>
								<var name="data_type" type="sysMbMTcpTypeD">
									<descr>The type of the data to read</descr>
								</var>
								<var name="data_raw" type="DWORD">
									<descr>Data to be written</descr>
								</var>
								<var name="tmo" type="UDINT">
									<descr>Timeout in ms</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="esi" type="sysMbMTcpEsi">
									<descr>Operation result</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMTcp_ReadReg_RW" version="1.0.0" creationDate="1568984370" lastModifiedDate="1568984752">
						<descr>Read RW modbus register using ReadHoldingRegister modbus command</descr>
						<vars>
							<inputVars>
								<var name="node" type="UINT">
									<descr>The index of the node in the network</descr>
								</var>
								<var name="reg_addr" type="UINT">
									<descr>The address of the register to read</descr>
								</var>
								<var name="data_type" type="sysMbMTcpTypeD">
									<descr>The type of the data to read</descr>
								</var>
								<var name="tmo" type="UDINT">
									<descr>Timeout in ms</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="esi" type="sysMbMTcpEsi">
									<descr>Operation result</descr>
								</var>
								<var name="res_dword" type="DWORD">
									<descr>Result is always put in a dword</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
					<functionBlock name="sysMbMTcp_ReadReg_RO" version="1.0.0" creationDate="1568984177" lastModifiedDate="1568984281">
						<descr>Read RO modbus register using ReadInputRegister modbus command</descr>
						<vars>
							<inputVars>
								<var name="node" type="UINT">
									<descr>The index of the node in the network</descr>
								</var>
								<var name="reg_addr" type="UINT">
									<descr>The address of the register to read</descr>
								</var>
								<var name="data_type" type="sysMbMTcpTypeD">
									<descr>The type of the data to read</descr>
								</var>
								<var name="tmo" type="UDINT">
									<descr>Timeout in ms</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="esi" type="sysMbMTcpEsi">
									<descr>Operation result</descr>
								</var>
								<var name="res_dword" type="DWORD">
									<descr>Result is always put in a dword</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="EMBEDDED"/>
					</functionBlock>
				</functionBlocks>
				<programs/>
				<macros/>
				<structs>
					<struct name="sysMbMTcpPlcImage" hidden="true" version="1.0.0">
						<vars>
							<var name="node" type="USINT">
								<descr>node address</descr>
							</var>
							<var name="block" type="USINT">
								<descr>Input, Output, Input/Output</descr>
							</var>
							<var name="type" type="USINT">
								<descr>bit/word</descr>
							</var>
							<var name="reserved1" type="USINT">
								<descr>reserved1</descr>
							</var>
							<var name="address" type="UINT">
								<descr>Modbus address</descr>
							</var>
							<var name="bitn" type="USINT">
								<descr>Bit extraction offset</descr>
							</var>
							<var name="dbType" type="USINT">
								<descr>Datablock type (M/I/Q)</descr>
							</var>
							<var name="db" type="UDINT">
								<descr>Datablock index</descr>
							</var>
							<var name="db_off" type="UDINT">
								<descr>Datablock offset</descr>
							</var>
							<var name="db_byteoff" type="UDINT">
								<descr>Additional byte offset from physical address calculated with logical address</descr>
							</var>
							<var name="type_v" type="USINT">
								<descr>Image variable type</descr>
							</var>
							<var name="reserved2" type="USINT">
								<descr>reserved2</descr>
							</var>
							<var name="reserved3" type="USINT">
								<descr>reserved3</descr>
							</var>
							<var name="reserved4" type="USINT">
								<descr>reserved4</descr>
							</var>
						</vars>
					</struct>
					<struct name="sysMbMTcpSlave" hidden="true" version="1.0.0">
						<vars>
							<var name="node" type="USINT">
								<descr>node addres</descr>
							</var>
							<var name="address" type="USINT">
								<descr>Modbus address</descr>
							</var>
							<var name="TCPport" type="UINT">
								<descr>TCPport (default 502)</descr>
							</var>
							<var name="Ip" type="STRING" length="15"/>
						</vars>
					</struct>
					<struct name="sysMbMTcpSlaveImage" hidden="true" version="1.0.0">
						<vars>
							<var name="node" type="USINT">
								<descr>Node address</descr>
							</var>
							<var name="funcode" type="USINT">
								<descr>Modbus Function</descr>
							</var>
							<var name="block" type="USINT">
								<descr>Input, Output, Input/Output</descr>
							</var>
							<var name="type" type="USINT">
								<descr>bit/word</descr>
							</var>
							<var name="RdAddress" type="UINT">
								<descr>Modbus read address</descr>
							</var>
							<var name="dimRd" type="UINT">
								<descr>Read data length</descr>
							</var>
							<var name="WrAddress" type="UINT">
								<descr>Modbus write address</descr>
							</var>
							<var name="dimWr" type="UINT">
								<descr>Write data length</descr>
							</var>
							<var name="poll_time" type="UDINT">
								<descr>Polling time</descr>
							</var>
							<var name="tmo" type="UDINT">
								<descr>request timeout</descr>
							</var>
							<var name="waitBeforeSend" type="UDINT">
								<descr>Wait time before transmission</descr>
							</var>
							<var name="db_oneshot" type="UDINT">
								<descr>Datablock index for oneshot variable</descr>
							</var>
							<var name="db_off_oneshot" type="UDINT">
								<descr>Datablock offset for oneshot variable</descr>
							</var>
							<var name="dbByteOffset_oneshot" type="UDINT">
								<descr>Additional byte offset from physical address calculated with logical address</descr>
							</var>
							<var name="hasOneShotVar" type="USINT">
								<descr>Oneshot function presence flag</descr>
							</var>
							<var name="dbType_oneshot" type="USINT">
								<descr>Datablock type (M/I/Q) of oneshot variable</descr>
							</var>
							<var name="writeFirst" type="USINT">
								<descr>Write or Read as first operation (only with input_outputonchange)</descr>
							</var>
							<var name="reserved" type="USINT">
								<descr>Reserved</descr>
							</var>
						</vars>
					</struct>
					<struct name="sysMbMTcpSlaveParam" hidden="true" version="1.0.0">
						<vars>
							<var name="node" type="USINT">
								<descr>node address</descr>
							</var>
							<var name="type_d" type="USINT">
								<descr>data type</descr>
							</var>
							<var name="address" type="UINT">
								<descr>modbus address</descr>
							</var>
							<var name="tmo" type="UDINT">
								<descr>timeout</descr>
							</var>
							<var name="data" type="DWORD">
								<descr>data type union</descr>
							</var>
						</vars>
					</struct>
					<struct name="MbTcpState" version="1.0.0">
						<vars>
							<var name="netConfigOk" type="BOOL">
								<descr>Net configuration OK</descr>
							</var>
							<var name="clientOK" type="BOOL">
								<descr>driver client initialized</descr>
							</var>
							<var name="clientRun" type="BOOL">
								<descr>driver client is running</descr>
							</var>
							<var name="taskRun" type="BOOL">
								<descr>communicaton task is running</descr>
							</var>
							<var name="sysMemoryError" type="BOOL">
								<descr>memory configuration error. this field is used for debug</descr>
							</var>
						</vars>
					</struct>
					<struct name="MbTcpSlaveState" version="1.0.0">
						<vars>
							<var name="cfg" type="BOOL">
								<descr>configured</descr>
							</var>
							<var name="pres" type="BOOL">
								<descr>present</descr>
							</var>
							<var name="active" type="BOOL">
								<descr>active node</descr>
							</var>
							<var name="miss" type="BOOL">
								<descr>delay cycle</descr>
							</var>
							<var name="IP" type="STRING" length="19">
								<descr>IP address</descr>
							</var>
							<var name="address" type="UINT">
								<descr>Subnet modbus address</descr>
							</var>
							<var name="missCnt" type="UINT">
								<descr>delay cycles counter</descr>
							</var>
							<var name="state" type="INT">
								<descr>last modbus error on slave</descr>
							</var>
							<var name="netStat" type="UINT">
								<descr>slave status</descr>
							</var>
						</vars>
					</struct>
				</structs>
				<typedefs/>
				<enums>
					<enum name="sysMbMTcpTypeImage" hidden="true" version="1.0.0">
						<elements>
							<element name="MB_TCP_IMG_BLOCK_INPUT">
								<descr>input</descr>
								<value>0</value>
							</element>
							<element name="MB_TCP_IMG_BLOCK_OUTPUT">
								<descr>output</descr>
								<value>1</value>
							</element>
							<element name="MB_TCP_IMG_BLOCK_INPOUT">
								<descr>input/output</descr>
								<value>2</value>
							</element>
							<element name="MB_TCP_IMG_BLOCK_INPOUTONCHANGE">
								<descr>input/output on change</descr>
								<value>3</value>
							</element>
						</elements>
					</enum>
					<enum name="sysMbMTcpTypeD" version="1.0.0">
						<elements>
							<element name="MB_TCP_DATA_T_SINT">
								<descr>SINT</descr>
								<value>0</value>
							</element>
							<element name="MB_TCP_DATA_T_USINT">
								<descr>USINT</descr>
								<value>1</value>
							</element>
							<element name="MB_TCP_DATA_T_BYTE">
								<descr>BYTE</descr>
								<value>2</value>
							</element>
							<element name="MB_TCP_DATA_T_INT">
								<descr>INT</descr>
								<value>3</value>
							</element>
							<element name="MB_TCP_DATA_T_UINT">
								<descr>UINT</descr>
								<value>4</value>
							</element>
							<element name="MB_TCP_DATA_T_WORD">
								<descr>WORD</descr>
								<value>5</value>
							</element>
							<element name="MB_TCP_DATA_T_DINT">
								<descr>DINT</descr>
								<value>6</value>
							</element>
							<element name="MB_TCP_DATA_T_UDINT">
								<descr>UDINT</descr>
								<value>7</value>
							</element>
							<element name="MB_TCP_DATA_T_DWORD">
								<descr>DWORD</descr>
								<value>8</value>
							</element>
							<element name="MB_TCP_DATA_T_REAL">
								<descr>REAL</descr>
								<value>9</value>
							</element>
							<element name="MB_TCP_DATA_T_BOOL">
								<descr>BOOL</descr>
								<value>10</value>
							</element>
							<element name="MB_TCP_DATA_T_NULL">
								<descr>NULL</descr>
								<value>255</value>
							</element>
						</elements>
					</enum>
					<enum name="sysMbMTcpEsi" version="1.0.0">
						<descr>Return value from modbus function call</descr>
						<elements>
							<element name="MB_TCP_E_NETWORK">
								<descr>Invalid network id specified</descr>
								<value>-339</value>
							</element>
							<element name="MB_TCP_E_CHECKSUM">
								<descr>Checksum</descr>
								<value>-338</value>
							</element>
							<element name="MB_TCP_E_NEGATIVEACKNOWLEDGE">
								<descr>Negative acknowledge</descr>
								<value>-337</value>
							</element>
							<element name="MB_TCP_E_NOTALLOWEDINTIMEDTASK">
								<descr>Function cannot be called in a timed task</descr>
								<value>-336</value>
							</element>
							<element name="MB_TCP_E_SWITCHEDOFF">
								<descr>Node is switched off</descr>
								<value>-335</value>
							</element>
							<element name="MB_TCP_E_ILLEGALDATAPROTOCOL">
								<descr>Illegal data value in protocol</descr>
								<value>-332</value>
							</element>
							<element name="MB_TCP_E_TIMEOUT">
								<descr>Time out richiesta</descr>
								<value>-331</value>
							</element>
							<element name="MB_TCP_E_GATEWAYDEVICEFAILED">
								<descr>Gateway target device failed to respond</descr>
								<value>-330</value>
							</element>
							<element name="MB_TCP_E_GATEWAYPATHUNAV">
								<descr>Gateway path unavailable</descr>
								<value>-329</value>
							</element>
							<element name="MB_TCP_E_MEMORYPARITYERROR">
								<descr>Memory parity error</descr>
								<value>-328</value>
							</element>
							<element name="MB_TCP_E_SLAVEDEVICEBUSY">
								<descr>Slave device busy</descr>
								<value>-327</value>
							</element>
							<element name="MB_TCP_E_ACKNOWLEDGE">
								<descr>Acknowledge</descr>
								<value>-326</value>
							</element>
							<element name="MB_TCP_E_SLAVEDEVICEFAILURE">
								<descr>Slave device failure</descr>
								<value>-325</value>
							</element>
							<element name="MB_TCP_E_ILLEGALDATAVALUE">
								<descr>Illegal data value</descr>
								<value>-324</value>
							</element>
							<element name="MB_TCP_E_ILLEGALDATAADDR">
								<descr>Illegal data address</descr>
								<value>-323</value>
							</element>
							<element name="MB_TCP_E_ILLEGALFUNCTION">
								<descr>Illegal function</descr>
								<value>-322</value>
							</element>
							<element name="MB_TCP_E_IDE">
								<descr>Ide doesn't match</descr>
								<value>-321</value>
							</element>
							<element name="MB_TCP_E_PROTOCOL">
								<descr>Protocol error</descr>
								<value>-320</value>
							</element>
							<element name="MB_TCP_E_DATATYPE">
								<descr>Data type parameter not valid</descr>
								<value>-311</value>
							</element>
							<element name="MB_TCP_E_NODENOTEXIST">
								<descr>Not assigned node</descr>
								<value>-303</value>
							</element>
							<element name="MB_TCP_E_NODE">
								<descr>Not valid node</descr>
								<value>-301</value>
							</element>
							<element name="MB_TCP_E_OK">
								<descr>Successful command</descr>
								<value>0</value>
							</element>
						</elements>
					</enum>
				</enums>
				<subranges/>
				<interfaces/>
			</lib>
			<lib name="c:\program files (x86)\arduino plc ide\catalog\arduinopmc_1p0\arduinopmc\..\Libraries\AlCOPM.pll" fullXml="false" link="true">
				<![CDATA[
	(************************)
	(*      STRUCTURES      *)
	(************************)

TYPE
	COPM_NET_ENUM: ( { DE:"CANopen network" }
		COPM_NET_0 := 0,	{ DE:"CANopen network 0" }
		COPM_NET_1 := 1		{ DE:"CANopen network 1 (not used)" }
	);

	COPM_CHN_ENUM: ( { DE:"CAN physical channel" }
		COPM_CHN_CAN0 := 0,{ DE:"CAN channel 0" }
		COPM_CHN_CAN1 := 1,	{ DE:"CAN channel 1" }
		COPM_CHN_CAN2 := 2	{ DE:"CAN channel 2" }
	);

	COPM_BAUD_ENUM: ( { DE:"Baud rate CAN, Kbit/s" }
		COPM_BAUD_AUTO := 0,		{ DE:"Selected by driver" }
		COPM_BAUD_1000K := 1000000,	{ DE:"1000 Kbit/s" }
		COPM_BAUD_800K := 800000,	{ DE:"800 Kbit/s" }
		COPM_BAUD_500K := 500000,	{ DE:"500 Kbit/s" }
		COPM_BAUD_250K := 250000,	{ DE:"250 Kbit/s" }
		COPM_BAUD_125K := 125000,	{ DE:"125 Kbit/s" }
		COPM_BAUD_100K := 100000,	{ DE:"100 Kbit/s" }
		COPM_BAUD_50K := 50000,		{ DE:"50 Kbit/s" }
		COPM_BAUD_20K := 20000,		{ DE:"20 Kbit/s" }
		COPM_BAUD_10K := 10000		{ DE:"10 Kbit/s" }
	);

	COPM_STATE_ENUM: ( { DE:"CANopen NMT state, according to DSP302" }
		COPM_STATE_NOT_KNOWN := 0,			{ DE:"Unknown, not present" }
		COPM_STATE_MISSING := 1,			{ DE:"Node missing" }
		COPM_STATE_STOPPED := 4,			{ DE:"Stopped" }
		COPM_STATE_OPERATIONAL := 5,		{ DE:"Operational" }
		COPM_STATE_RESET_NODE := 6,			{ DE:"Reset Node" }
		COPM_STATE_RESET_COMM := 7,			{ DE:"Reset communication" }
		COPM_STATE_PREOPERATIONAL := 127	{ DE:"Pre-operational" }
	);

	COPM_CSNMT_ENUM: ( { DE:"CANopen NMT Control Command Specifier, according to DS301" }
		COPM_CSNMT_START := 1,		{ DE:"Enter in Operational state" }
		COPM_CSNMT_STOP := 2,		{ DE:"Enter in Stopped state" }
		COPM_CSNMT_PREOP := 128,	{ DE:"Enter in Pre-operational state" }
		COPM_CSNMT_RSTNODE := 129,	{ DE:"Reset node" }
		COPM_CSNMT_RSTCOMM := 130	{ DE:"Reset communication" }
	);

	COPM_BOOTST_ENUM: ( { DE:"Boot-up procedure DSP302 status code" }
		COPM_BOOTST_INIT := 0,			{ DE:"Init" }
		COPM_BOOTST_DEVTYPE_RQ := 1,	{ DE:"Device Type (1000h DS301) upload request" }
		COPM_BOOTST_DEVTYPE_RSP := 2,	{ DE:"Device Type (1000h DS301) upload wait response" }
		COPM_BOOTST_VENDOR_RQ := 3,		{ DE:"Vendor ID (1018.1h DS301) upload request" }
		COPM_BOOTST_VENDOR_RSP := 4,	{ DE:"Vendor ID (1018.1h DS301) upload wait response" }
		COPM_BOOTST_PCODE_RQ := 5,		{ DE:"Product code (1018.2h DS301) upload request" }
		COPM_BOOTST_PCODE_RSP := 6,		{ DE:"Product code (1018.2h DS301) upload wait response" }
		COPM_BOOTST_REV_RQ := 7,		{ DE:"Revision number (1018.3h DS301) upload request" }
		COPM_BOOTST_REV_RSP := 8,		{ DE:"Revision number (1018.3h DS301) upload wait response" }
		COPM_BOOTST_SERIAL_RQ := 9,		{ DE:"Serial number (1018.4h DS301) upload request" }
		COPM_BOOTST_SERIAL_RSP := 10,	{ DE:"Serial number (1018.4h DS301) upload wait response" }
		COPM_BOOTST_PRM_RQ := 11,		{ DE:"Parameter download request" }
		COPM_BOOTST_PRM_RQ := 12,		{ DE:"Parameter download wait response" }
		COPM_BOOTST_END := 13,			{ DE:"End" }
		COPM_BOOTST_WAIT_BOOTUP_MSG := 14,	{ DE:"Waiting for bootup msg" }
		COPM_BOOTST_NMT_START_SENT := 15	{ DE:"Boot completed, NMT start command sent" }
	);
	
	COPM_BOOTRES_ENUM: ( { DE:"Error status codes during the boot-up procedure DSP302" }
		COPM_BOOTRES_E_BOOTED := 0,	{ DE:"The slave exists in the network list" }
		COPM_BOOTRES_E_A := 1,		{ DE:"The slave no longer exists in the Network list" }
		COPM_BOOTRES_E_B := 2,		{ DE:"No response on access to Actual Device Type (object 1000h) received" }
		COPM_BOOTRES_E_C := 3,		{ DE:"Actual Device Type (object 1000h) of the slave node did not match" }
		COPM_BOOTRES_E_D := 4,		{ DE:"Actual Vendor ID (object 1018h) of the slave node did not match" }
		COPM_BOOTRES_E_J := 10,		{ DE:"Automatic download configuration failed" }
		COPM_BOOTRES_E_M := 13,		{ DE:"Actual ProductCode (object 1018h) of the slave node did not match" }
		COPM_BOOTRES_E_N := 14,		{ DE:"Actual RevisionNumber (object 1018h) of the slave node did not match" }
		COPM_BOOTRES_E_O := 15		{ DE:"Actual SerialNumber (object 1018h) of the slave node did not match" }
	);

	COPM_ERROR_ENUM: ( { DE:"Copm error code" }
		COPM_E_OK := 0,						{ DE:"No error" }
		COPM_E_CAN_NOT_IMPLEMENTED := 1,	{ DE:"Function has not been implemented" }
		COPM_E_CAN_MEM_POOL_INIT := 2,		{ DE:"Memory pool initialization error" }
		COPM_E_CAN_BAUDRATE := 3,       	{ DE:"Baudrate was not set" }
		COPM_E_CAN_TX_BUSY := 4,        	{ DE:"Transmitting hardware busy" }
		COPM_E_CAN_OBJECTS_FULL := 5,		{ DE:"No more rx or tx objects available" }
		COPM_E_CAN_ALLOC_MEM := 6,			{ DE:"Unable to allocate memory from pool" }
		COPM_E_CAN_DEALLOC_MEM := 7,		{ DE:"Unable to deallocate memory" }
		COPM_E_CAN_TIMEOUT := 8,			{ DE:"Timeout expired" }
		COPM_E_CAN_UNEXIST_CTRL := 9,		{ DE:"Controller does not exist" }
		COPM_E_CAN_UNEXIST_CHN := 10,		{ DE:"Channel does not exist" }
		COPM_E_DLL_SYS := 100,				{ DE:"System error" }
		COPM_E_DLL_COBID := 101,			{ DE:"Cob Id of message already exists" }
		COPM_E_DLL_COBID_FULL := 102,		{ DE:"Cob Id table full" }
		COPM_E_DLL_QUEUE := 103,			{ DE:"System error" }
		COPM_E_DLL_RX_OVERFLOW := 104,		{ DE:"Message lost" }
		COPM_E_DLL_RX_TMO := 105,			{ DE:"No message in receive buffer" }
		COPM_E_COPM_SYS := 200,				{ DE:"System error" }
		COPM_E_COPM_CMD_TMO := 201,			{ DE:"Cop master does not responding" }
		COPM_E_COPM_SDO_ERR := 202,			{ DE:"Error on User Service Data Object request"}
		COPM_E_COPM_NO_BOOTUP_MSG := 203,	{ DE:"Bootup msg from node missing"}
		COPM_E_CFG_SYS := 300,				{ DE:"System error" }
		COPM_E_CFG_COMM_CHN := 301,			{ DE:"Error on opening communication channel" }
		COPM_E_CFG_MASTER_ADDR := 302,		{ DE:"Invalid master address" }
		COPM_E_CFG_SLAVE_MAX := 303,		{ DE:"Slave netlist full" }
		COPM_E_CFG_SLAVE_ADDR := 304,		{ DE:"Invalid slave address" }
		COPM_E_CFG_SLAVE_EXISTS := 305,		{ DE:"Slave already exists in netlist" }
		COPM_E_CFG_SLAVE_NOT_EXISTS := 306,	{ DE:"Slave does not exists in netlist" }
		COPM_E_CFG_SLAVE_PRM := 307,		{ DE:"Slave parametrization error" }
		COPM_E_CFG_TX_PDO_MAX := 308,		{ DE:"Total number of Tx Process Data Object" }
		COPM_E_CFG_RX_PDO_MAX := 309,		{ DE:"Total number of Rx Process Data Object" }
		COPM_E_CFG_PDO_LEN := 310,			{ DE:"Invalid Process Data Object length" }
		COPM_E_CFG_PDO_TT := 311,			{ DE:"Invalid Process Data Object type" }
		COPM_E_CFG_OUT_IEC_MAX := 312,		{ DE:"Total number of Out IEC Process Data Object" }
		COPM_E_CFG_INP_IEC_MAX := 313,		{ DE:"Total number of Inp IEC Process Data Object" }
		COPM_E_CFG_OUT_IEC_LEN := 314,		{ DE:"Invalid Out IEC Process Data Object length" }
		COPM_E_CFG_INP_IEC_LEN := 315,		{ DE:"Invalid Inp IEC Process Data Object length" }
		COPM_E_CFG_FRMW_VER := 316,		{ DE:"Firmware mismatch, allocated size for COPM is different from required size" }
		COPM_E_CFG_SYNC_COBID := 317,		{ DE:"Sync is used for both lines: sync COBID must be the same" }
		COPM_E_CFG_SYNC_CYCLE := 318		{ DE:"Sync is used for both lines: sync cycle must be the same" }
	);

	COPM_EVETYP_ENUM: ( { DE:"CANopen Master Event Callback type" }
		COPM_EVETYP_BOOTUP_M := 0,	{ DE:"Master Boot sequence ended, master enter in COPM_STATE_ENUM#COPM_STATE_PREOPERATIONAL state" }
		COPM_EVETYP_BOOTUP_S := 1,	{ DE:"Slave Boot up sequence ended with COPM_BOOTRES_ENUM code Booted" }
		COPM_EVETYP_EMCY := 2,	{ DE:"Emergency occured" }
		COPM_EVETYP_NG	:= 3	{ DE:"Node guarding event occured" }
	);

	COPM_SDO_STATUS_ENUM: ( { DE:"CANopen SDO procedure execution state" }
		COPM_SDO_INIT := 0,	{ DE:"Initialization" }
		COPM_SDO_WAIT := 1,	{ DE:"Busy" }
		COPM_SDO_RQ := 2,	{ DE:"Send request" }
		COPM_SDO_RSP := 3,	{ DE:"Wait response" }
		COPM_SDO_END := 4	{ DE:"Terminated" }
	);
	
	COPM_SDO_ABORT_ENUM: ( { DE:"CANopen SDO abort code, according to DS301" }
		COPM_SDO_ABORT_OK := 16#00000000,		{ DE:"No error" }
		COPM_SDO_ABORT_TGBIT := 16#05030000,	{ DE:"Toggle bit not alternated" }
		COPM_SDO_ABORT_TMO := 16#05040000,		{ DE:"SDO protocol timed out" }
		COPM_SDO_ABORT_CSC := 16#05040001,		{ DE:"Client/server command specifier not valid or unknown" }
		COPM_SDO_ABORT_BCKS := 16#05040002,		{ DE:"Invalid block size (block mode only)" }
		COPM_SDO_ABORT_SEQN := 16#05040003,		{ DE:"Invalid sequence number (block mode only)" }
		COPM_SDO_ABORT_CRC := 16#05040004,		{ DE:"CRC error (block mode only)" }
		COPM_SDO_ABORT_OUTM := 16#05040005,		{ DE:"Out of memory" }
		COPM_SDO_ABORT_UNACC := 16#06010000,	{ DE:"Unsupported access to an object" }
		COPM_SDO_ABORT_WRONLY := 16#06010001,	{ DE:"Attempt to read a write only object" }
		COPM_SDO_ABORT_RDONLY := 16#06010002,	{ DE:"Attempt to write a read only object" }
		COPM_SDO_ABORT_NOOBJ := 16#06020000,	{ DE:"Object does not exist in the object dictionary" }
		COPM_SDO_ABORT_MAPOBJ := 16#06040041,	{ DE:"Object cannot be mapped to the PDO" }
		COPM_SDO_ABORT_EXCPDO := 16#06040042,	{ DE:"The number and length of the objects to be mapped would exceed PDO length" }
		COPM_SDO_ABORT_PARINC := 16#06040043,	{ DE:"General parameter incompatibility reason" }
		COPM_SDO_ABORT_GENINC := 16#06040047,	{ DE:"General internal incompatibility in the device" }
		COPM_SDO_ABORT_HWERR := 16#06060000,	{ DE:"Access failed due to an hardware error" }
		COPM_SDO_ABORT_OBJLEN := 16#06070010,	{ DE:"Data type does not match, length of service parameter does not match" }
		COPM_SDO_ABORT_TOOHG := 16#06070012,	{ DE:"Data type does not match, length of service parameter too high" }
		COPM_SDO_ABORT_TOOLW := 16#06070013,	{ DE:"Data type does not match, length of service parameter too low" }
		COPM_SDO_ABORT_NOSI := 16#06090011,		{ DE:"Sub-index does not exist" }
		COPM_SDO_ABORT_RANGE := 16#06090030,	{ DE:"Value range of parameter exceeded" }
		COPM_SDO_ABORT_LIMHG := 16#06090031,	{ DE:"Value of parameter written too high" }
		COPM_SDO_ABORT_LIMLW := 16#06090032,	{ DE:"Value of parameter written too low" }
		COPM_SDO_ABORT_HGLW := 16#06090036,		{ DE:"Maximum value is less than minimum value" }
		COPM_SDO_ABORT_GENERIC := 16#08000000,	{ DE:"General error" }
		COPM_SDO_ABORT_TRANSF := 16#08000020,	{ DE:"Data cannot be transferred or stored to the application" }
		COPM_SDO_ABORT_TRANSFLOC := 16#08000021,	{ DE:"Data cannot be transferred or stored to the application  because of local control" }
		COPM_SDO_ABORT_TRANSSTAT := 16#08000022,	{ DE:"Data cannot be transferred or stored to the application because of the present device state" }
		COPM_SDO_ABORT_OBJDICT := 16#08000023	{ DE:"Object dictionary dynamic generation fails" }
	);
	
	COPM_RXCOBID_LIST_ENUM: ( { DE:"CANopen RX COBID list" }
		COPM_RXCOBID_LIST_SDO := 1,		{ DE:"SDO list - SDO response cobid managed list ID" }
		COPM_RXCOBID_LIST_NMTE := 2,	{ DE:"NMTE list - Node guarding response cobid managed list ID" }
		COPM_RXCOBID_LIST_EMCY := 3		{ DE:"EMCY list - EMCY response cobid managed list ID" }
	);
	
	COPM_MEMORYMAPPING_ARRAY_ENUM: ( { DE:"Memory mapping array indexes" }
		MEMMAP_ADDR_COPMNETLIST := 0,		{ DE:"addrCopmNetList" }
		MEMMAP_ADDR_COPMNETLIST_CFG := 1,	{ DE:"addrCopmNetListCfg" }
		MEMMAP_ADDR_WORK_NMTE := 2,			{ DE:"addrWorkNMTE" }
		MEMMAP_ADDR_WORK_SDO := 3,			{ DE:"addrWorkSdo" }
		MEMMAP_ADDR_WORK_PRM := 4,			{ DE:"addrWorkPrm" }
		MEMMAP_ADDR_WORK_RX_PDO := 5,		{ DE:"addrWorkRxPDO" }
		MEMMAP_ADDR_INP_PROC_IMAGE := 6,	{ DE:"addrInpProcImage" }
		MEMMAP_ADDR_WORK_TX_PDO := 7,	 	{ DE:"addrWorkTxPDO" }
		MEMMAP_ADDR_OUT_PROC_IMAGE := 8,	{ DE:"addrOutProcImage" }
		MEMMAP_ADDR_WORK_PLC_IN := 9,		{ DE:"addrWorkPlcIn" }
		MEMMAP_ADDR_WORK_PLC_OUT := 10		{ DE:"addrWorkPlcOut" }
	);
	
	COPM_MONITOR_STRUCT : STRUCT { DE:"CANopen diagnostic"}
		numSlot : UINT;
		levelMax : UINT;
		levelNow : UINT;
		overrunCount : UINT;
		can0_txQueueFull: UINT;
	END_STRUCT;
	
	COPM_NET_CFG_STRUCT : STRUCT { DE:"Main net configuration"}
		used : BOOL;			{ DE:"Indicate if network is used in current configuration" }
		can : USINT;			{ DE:"CAN physical channel, 0 for CAN-A, 1 for CAN-B" }
		node : USINT;			{ DE:"CANopen Master unique node in network, 1 to 127" }
		syncCob : UINT;			{ DE:"Synchronization object COB-ID" }
		hbTime : UINT;			{ DE:"Heartbeat Producer time, ms" }
		syncCycle : UDINT;		{ DE:"Synchronization object cycle period, us" }
		baud : COPM_BAUD_ENUM;	{ DE:"Baud rate CAN, referred to enumerative COPM_BAUD_ENUM" }
	END_STRUCT;
	
	COPM_NET_STATUS_STRUCT : STRUCT { DE:"Main net status"}
		active : BOOL;			{ DE:"Indicate if network is used in current configuration" }
		n_slave_pres : USINT;	{ DE:"CAN physical channel, 0 for CAN-A, 1 for CAN-B" }
		rqStopNet : BOOL;		{ DE:"CANopen Master unique node in network, 1 to 127" }
		reserved : USINT;		{ DE:"Reserved for future use" }
	END_STRUCT;
	
	COPM_STATUS_STRUCT : STRUCT	{ DE:"Status of CANopen Master"}
		net : COPM_NET_CFG_STRUCT; { DE:"Configuration of the available networks" }
		net_status : COPM_NET_STATUS_STRUCT; { DE:"Status of the networks" }
		cfg : BOOL;				{ DE:"CANopen Master configured" }
		net_cfg : BOOL;			{ DE:"CANopen Master network configuration result" }
		running : BOOL;			{ DE:"CANopen Master entered in one of running state according to DSP302" }
		rqRst : BOOL;			{ DE:"Restart communication request from system" }
		rqBoot : BOOL;			{ DE:"Boot request from system" }
		rqStop : BOOL;			{ DE:"Stopped request from system" }
		exchRx : BOOL;			{ DE:"PDO data can be received" }
		exchRxTx : BOOL;		{ DE:"Data exchange active" }
		n_slave : UINT;			{ DE:"Total number of Configurated Slave in Net list" }
		n_prm : UINT;			{ DE:"Total number of Parametrization Slave Message" }
		n_pdoRx : USINT;		{ DE:"Total number of Receive Process Data Object" }
		n_pdoTx : USINT;		{ DE:"Total number of Transmit Process Data Object" }
		n_iecInp : USINT;		{ DE:"Total number of Input IEC Process Data Object" }
		n_iecOut : USINT;		{ DE:"Total number of Output IEC Process Data Object" }
		status : COPM_STATE_ENUM;	{ DE:"State, referred to enumerative COPM_STATE_ENUM" }
		error : COPM_ERROR_ENUM;	{ DE:"Last error, referred to enumerative COPM_ERROR_ENUM" }
		readyToReboot : BOOL;	{ DE:"Ready to reboot. All nodes have sent bootup message" }
		rqStart : BOOL;			{ DE:"Start from stopped by user status" }
	END_STRUCT;

	COPM_NETLIST_CFG_STRUCT : STRUCT	{ DE:"Status of CANopen Master"}
		net : USINT;	{ DE:"CANopen network, 0 or 1" }
		node : USINT;	{ DE:"Slave unique node in network, 1 to 127" }
(*		deviceTypeIdentification : DWORD;	{ DE:"Device type (1000h DS301)" }	*)
(*		vendorIdentification : DWORD;	{ DE:"Vendor ID (1018.1h DS301)" }		*)
(*		productCode : UDINT;	{ DE:"Product code (1018.2h DS301)" }			*)
(*		revisionNumber : UDINT;	{ DE:"Revision number (1018.3h DS301)" }		*)
(*		serialNumber : UDINT;	{ DE:"Serial number (1018.4h DS301)" }			*)
		bootTime : UINT;	{ DE:"Boot time elapsed, ms" }
		guardTime : UINT;	{ DE:"Guard time, ms" }
		ltf : USINT;		{ DE:"Life time factor" }
		mandatory : USINT;	{ DE:"Node is mandatory (1) or not" }
		n_prm : UINT;		{ DE:"Total number of Parametrization Slave Message" }
		n_pdoRx : USINT;	{ DE:"Total number of Receive Process Data Object" }
		n_pdoTx : USINT;	{ DE:"Total number of Transmit Process Data Object" }
	END_STRUCT;
	
	COPM_NETLIST_STRUCT : STRUCT	{ DE:"CANopen Master Net list"}
		pNodeCfg : @COPM_NETLIST_CFG_STRUCT;	{ DE:"CANopen Slave configuration settings" }
		cfg	: BOOL;			{ DE:"CANopen Slave configured" }
		pres : BOOL;		{ DE:"CANopen Slave present on network" }
		bootupMsg : BOOL;	{ DE:"Bootup msg has been reached by master" }
		bootStatus : USINT;	{ DE:"Boot-up procedure status, referred to enumerative COPM_BOOTST_ENUM" }
		bootRes : COPM_BOOTRES_ENUM;	{ DE:"Boot-up procedure result, referred to enumerative COPM_BOOTRES_ENUM" }
		bootErr : COPM_SDO_ABORT_ENUM;	{ DE:"Boot-up procedure SDO result, referred to enumerative COPM_SDO_ABORT_ENUM" }
		bootStart : UDINT;	{ DE:"Boot-up start time" }
		n_emcy : UINT;		{ DE:"Total number of Emergency message received from node" }
		n_pdoRxSyncRequired : USINT; { DE:"Number of sync PDO required from node" }
		n_pdoRxSyncReceived : USINT; { DE:"Number of sync PDO received from node" }
		pdoRxSyncMissed : BOOL;	 { DE:"PDO missed from node" }
		pdoRxSyncMissCount : USINT; { DE:"Number of sync PDO missed from node" }
		status : USINT;	{ DE:"State, referred to enumerative  COPM_STATE_ENUM" }
		error : COPM_ERROR_ENUM;	{ DE:"Last error, referred to enumerative COPM_ERROR_ENUM" }		
	END_STRUCT;

	COPM_EVENT_STRUCT : STRUCT	{ DE:"CANopen Master Event Callback management" }
		node : USINT;	{ DE:"Corresponding slave node in network, 1 to 127" }
		event : COPM_EVETYP_ENUM;	{ DE:"Event type, referred to enumerative COPM_EVETYP_ENUM" }
		status : COPM_STATE_ENUM;	{ DE:"State, referred to enumerative  COPM_STATE_ENUM" }
		emcyErrCode : WORD;	{ DE:"Emergency error code" }
		emcyErrReg : BYTE;	{ DE:"Error register (1001h DS301)" }
		emcyErrField_0 : BYTE;	{ DE:"Emergency error field, manufacturer 0" }
		emcyErrField_1 : BYTE;	{ DE:"Emergency error field, manufacturer 1" }
		emcyErrField_2 : BYTE;	{ DE:"Emergency error field, manufacturer 2" }
		emcyErrField_3 : BYTE;	{ DE:"Emergency error field, manufacturer 3" }
		emcyErrField_4 : BYTE;	{ DE:"Emergency error field, manufacturer 4" }
	END_STRUCT;
	
	COPM_PLC_HDLR_STRUCT : STRUCT	{ DE:"CANopen PLH handler struct used for IEC mappings configuration" }
		pPlcImage : DWORD;			{ DE:"PLC variable address" }
		pProcImage : DWORD;			{ DE:"Process image address" }
		mappingBitOffBitLen : WORD; { DE:"Bit 0-7 offset bit, Bit 8-15 length bit" }
		mappingNElem : WORD;		{ DE:"Number of elements" }
	END_STRUCT;

END_TYPE

{ ALLOCATE:sysCopmStatus }
{ ALLOCATE:sysCopmEvent }
{ ALLOCATE:sysCopmMonitor }
VAR_GLOBAL
	{G:"CANopen Master"}
	sysCopmStatus 	AT %IB60002.0 : COPM_STATUS_STRUCT; 					{ DE:"Status of CANopen Master" }
	sysCopmEvent 	AT %IB60004.0 : COPM_EVENT_STRUCT; 						{ DE:"Event from CANopen Master" }
	sysCopmMonitor 	AT %IB60005.0 : COPM_MONITOR_STRUCT; 					{ DE:"Diagnostic for CANopen Master" }
END_VAR

FUNCTION sysCopm_Reboot : BOOL
	{ DE:"CANopen Master system reboot" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, referred to enumerative COPM_CHN_ENUM" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_GetSlaveHandle : USINT
	{ DE:"CANopen Master get offset in Netlist of corresponding slave" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, referred to enumerative COPM_CHN_ENUM" }
		node : USINT;			{ DE:"Slave unique node in network, 1 to 127" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_MemoryMapping : DINT
	{ HIDDEN:ON }
	{ DE:"Memory mapping configuration" }
	VAR_INPUT
		addrCopmNetList : DWORD;	{ DE:"Address of the array used to manage network status" }
		addrCopmNetListCfg : DWORD;	{ DE:"Address of tha array used to manage network (constant) configuration" }
		addrWorkNMTE : DWORD;	{ DE:"Address of array of CopM_NMTE_HDLR type to manage NMTE" }
		addrWorkSdo : DWORD;	{ DE:"Address of array of CopM_SDO_HDLR type to manage SDO" }
		addrWorkPrm : DWORD;	{ DE:"Address of array of CopM_PRM_HDLR type to manage parametrization" }
		nSlaves : UINT;	{ DE:"Number of slaves" }
		addrWorkRxPDO : DWORD;	{ DE:"Address of array of CopM_PDO_HDLR type to manage PDO rx" }
		addrInpProcImage : DWORD;	{ DE:"Address of array used to store process images for input data" }
		nPdoRx : UINT;	{ DE:"Number of PDO rx" }
		addrWorkTxPDO : DWORD;	{ DE:"Address of array of CopM_PDO_HDLR type to manage PDO tx" }
		addrOutProcImage : DWORD;	{ DE:"Address of array used to store process images for output data" }
		nPdoTx : UINT;	{ DE:"Number of PDO tx" }
		addrWorkPlcIn : DWORD;	{ DE:"Address of array of CopM_PLC_HDLR type to manage PDO rx mappings" }
		nPdoRxIecMapping : UINT;	{ DE:"Number of rx IEC mappings" }
		addrWorkPlcOut : DWORD;	{ DE:"Address of array of CopM_PLC_HDLR type to manage PDO tx mappings" }
		nPdoTxIecMapping : UINT;	{ DE:"Number of tx IEC mappings" }
		memoryAllocated : UDINT;	{ DE:"PLC side memory allocation" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_MemoryMappingArr : DINT
	{ HIDDEN:ON }
	{ DE:"Memory mapping configuration (for compiler that do not support more than 8 parameters passing (PowerPC)" }
	VAR_INPUT
		addrMemMapArr : DWORD; 	{ DE:"Address of the memory mapping configuration array" }
		nSlaves : UINT;	{ DE:"Number of slaves" }
		nPdoRx : UINT;	{ DE:"Number of PDO rx" }
		nPdoTx : UINT;	{ DE:"Number of PDO tx" }
		nPdoRxIecMapping : UINT;	{ DE:"Number of rx IEC mappings" }
		nPdoTxIecMapping : UINT;	{ DE:"Number of tx IEC mappings" }
		memoryAllocated : UDINT;	{ DE:"PLC side memory allocation" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_SetConstPDORxCobIDMap : DINT
	{ HIDDEN:ON }
	{ DE:"Constant table configuration" }
	VAR_INPUT
		addrPDORxCobIDMap : DWORD;	{ DE:"Address of array of PLCArrayPDORxCobIDMap" }
		firstIndex : UINT;
		numRecords : UINT;
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_SetConstNetIDMap : DINT
	{ HIDDEN:ON }
	{ DE:"Constant table configuration" }
	VAR_INPUT
		addrNetIDMap : DWORD;	{ DE:"Address of array of PLCArrayNetIDMap" }
		maxNodeId : USINT;
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_NetAssign : DINT
	{ HIDDEN:ON }
	{ DE:"Line configuration set, refers to enumerative COPM_ERROR_ENUM for return value" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, refers to enumerative COPM_CHN_ENUM" }
		baud : COPM_BAUD_ENUM;	{ DE:"Baud rate CAN, referred to enumerative COPM_BAUD_ENUM" }
		node : USINT;	{ DE:"Master unique node in network, 1 to 127" }
		syncCob : DWORD;	{ DE:"Synchronization object COB-ID" }
		syncCycle : UDINT;	{ DE:"Synchronization object cycle period, us" }
		hbTime : UINT;	{ DE:"Heartbeat producer time, ms" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_SdoServerOpen : DINT
	{ HIDDEN:ON }
	{ DE:"Open SDO server channel. Only if master is not configured" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, refers to enumerative COPM_CHN_ENUM" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_MasterAssign : DINT
	{ HIDDEN:ON }
	{ DE:"Copm initialized, refers to enumerative COPM_ERROR_ENUM for return value" }
	VAR_INPUT
		numLines : USINT;	{ DE:"Number of CAN net" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_SlaveAssign : COPM_ERROR_ENUM
	{ HIDDEN:ON }
	{ DE:"Copm adding slave to netlist, refers to enumerative COPM_ERROR_ENUM for return value" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, refers to enumerative COPM_CHN_ENUM" }
		node : USINT;	{ DE:"Slave unique node in network, 1 to 127" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_PdoRxInstall : COPM_ERROR_ENUM
	{ HIDDEN:ON }
	{ DE:"Copm install new rx PDO from slave node, refers to enumerative COPM_ERROR_ENUM for return value" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, refers to enumerative COPM_CHN_ENUM" }
		node : USINT;	{ DE:"Corresponding slave node in network, 1 to 127" }
		cob : WORD;		{ DE:"COB-ID 11 bit PDO" }
		TT :  UINT;		{ DE:"Transmission type CANopen DS301" }
		len : USINT; 	{ DE:"PDO size" }
		cycle : UDINT;	{ DE:"Cycle time for rtr request, ms" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_PdoTxInstall : COPM_ERROR_ENUM
	{ HIDDEN:ON }
	{ DE:"Copm install new tx PDO to slave node, refers to enumerative COPM_ERROR_ENUM for return value" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, refers to enumerative COPM_CHN_ENUM" }
		node : USINT;	{ DE:"Corresponding slave node in network, 1 to 127" }
		cob : WORD;		{ DE:"COB-ID 11 bit PDO" }
		TT :  UINT;		{ DE:"Transmission type CANopen DS301" }
		len : USINT; 	{ DE:"PDO size" }
		cycle : UDINT;	{ DE:"Cycle time for transmit, ms" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION
		
FUNCTION sysCopm_PdoIecMappingsSet : COPM_ERROR_ENUM 
	{ HIDDEN:ON }
	{ DE:"Copm setting of IEC image, refers to enumerative COPM_ERROR_ENUM for return value" }
	VAR_INPUT
		addrIECTxMappingTableAdr : DWORD;	{ DE:"Address of the table of COPM_PLC_HDLR_STRUCT with Tx mappings" }
		numMappingsTx : DWORD;				{ DE:"Number of records / mappings Tx" }
		addrIECRxMappingTableAdr : DWORD;	{ DE:"Address of the table of COPM_PLC_HDLR_STRUCT with Rx mappings" }
		numMappingsRx : DWORD;				{ DE:"Number of records / mappings Rx" }
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION sysCopm_SlavePrmSet : COPM_ERROR_ENUM
	{ HIDDEN:ON }
	{ DE:"Copm slave parametrization, refers to enumerative COPM_ERROR_ENUM for return value" }
	VAR_INPUT
		addrParamTable : DWORD;	{ DE:"Address of the array of constant used to define param list" }
		numParams : UDINT;		{ DE:"Number of records in the list"}
	END_VAR
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION_BLOCK sysCopm_SlaveSetObjInteger
	{ DE:"Copm master set integer object on slave" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, refers to enumerative COPM_CHN_ENUM" }
		node : USINT;	{ DE:"Corresponding slave node in network, 1 to 127" }
		obji : WORD;	{ DE:"Slave Object index" }
		objs : BYTE;	{ DE:"Slave Object sub-index" }
		objd : USINT;	{ DE:"Slave Object size, 1 to 4" }
		val : DINT;		{ DE:"Integer Value to be written" }
		tmo	: UINT;		{ DE:"Time out (ms)" }
	END_VAR
	VAR_OUTPUT
		end	: BOOL;			{ DE:"Request terminated, TRUE only for one cycle"}
		status : COPM_SDO_STATUS_ENUM;	{ DE:"Status of request, referred to enumerative COPM_SDO_STATUS_ENUM"}
		error : COPM_ERROR_ENUM;		{ DE:"Error of request, referred to enumerative COPM_ERROR_ENUM for returned value" }
		abort : COPM_SDO_ABORT_ENUM;	{ DE:"Abort code of request, referred to enumerative COPM_SDO_ABORT_ENUM for returned value" }
	END_VAR
	VAR
		net : USINT;						{ DE:"Offset in Netlist of corresponding slave"}
		val_buff : ARRAY[ 0..3] OF USINT;	{ DE:"Internal buffer"}
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION_BLOCK

FUNCTION_BLOCK sysCopm_SlaveSetObjReal
	{ DE:"Copm master set real object on slave" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, refers to enumerative COPM_CHN_ENUM" }
		node : USINT;	{ DE:"Corresponding slave node in network, 1 to 127" }
		obji : WORD;	{ DE:"Slave Object index" }
		objs : BYTE;	{ DE:"Slave Object sub-index" }
		val : REAL;		{ DE:"Real Value to be written" }
		tmo	: UINT;		{ DE:"Time out (ms)" }
	END_VAR
	VAR_OUTPUT
		end	: BOOL;						{ DE:"Request terminated, TRUE only for one cycle"}
		status : COPM_SDO_STATUS_ENUM;	{ DE:"Status of request, referred to enumerative COPM_SDO_STATUS_ENUM"}
		error : COPM_ERROR_ENUM;		{ DE:"Error of request, referred to enumerative COPM_ERROR_ENUM for returned value" }
		abort : COPM_SDO_ABORT_ENUM;	{ DE:"Abort code of request, referred to enumerative COPM_SDO_ABORT_ENUM for returned value" }
	END_VAR
	VAR
		net : USINT;						{ DE:"Offset in Netlist of corresponding slave"}
		val_buff : ARRAY[ 0..3] OF USINT;	{ DE:"Internal buffer"}
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION_BLOCK

FUNCTION_BLOCK sysCopm_SlaveSetObjBuffer
	{ DE:"Copm master set buffer object on slave" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, referred to enumerative COPM_CHN_ENUM" }
		node : USINT;	{ DE:"Corresponding slave node in network, 1 to 127" }
		obji : WORD;	{ DE:"Slave Object index" }
		objs : BYTE;	{ DE:"Slave Object sub-index" }
		vald : UINT;	{ DE:"Size of buffer to be written" }
		val : @BYTE;	{ DE:"Buffer of Value to be written" }
		tmo	: UINT;		{ DE:"Time out (ms)" }
	END_VAR
	VAR_OUTPUT
		end	: BOOL;						{ DE:"Request terminated, TRUE only for one cycle"}
		status : COPM_SDO_STATUS_ENUM;	{ DE:"Status of request, referred to enumerative COPM_SDO_STATUS_ENUM"}
		error : COPM_ERROR_ENUM;		{ DE:"Error of request, referred to enumerative COPM_ERROR_ENUM for returned value" }
		abort : COPM_SDO_ABORT_ENUM;	{ DE:"Abort code of request, referred to enumerative COPM_SDO_ABORT_ENUM for returned value" }
	END_VAR
	VAR
		net : USINT;		{ DE:"Offset in Netlist of corresponding slave"}
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION_BLOCK

FUNCTION_BLOCK sysCopm_SlaveGetObjInteger
	{ DE:"Copm master get integer object from slave" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, referred to enumerative COPM_CHN_ENUM" }
		node : USINT;	{ DE:"Corresponding slave node in network, 1 to 127" }
		obji : WORD;	{ DE:"Slave Object index" }
		objs : BYTE;	{ DE:"Slave Object sub-index" }
		tmo	: UINT;		{ DE:"Time out (ms)" }
	END_VAR
	VAR_OUTPUT
		end	: BOOL;						{ DE:"Request terminated, TRUE only for one cycle"}
		status : COPM_SDO_STATUS_ENUM;	{ DE:"Status of request, referred to enumerative COPM_SDO_STATUS_ENUM"}
		val : DINT;						{ DE:"Integer Value that was read" }
		error : COPM_ERROR_ENUM;		{ DE:"Error of request, referred to enumerative COPM_ERROR_ENUM for returned value" }
		abort : COPM_SDO_ABORT_ENUM;	{ DE:"Abort code of request, referred to enumerative COPM_SDO_ABORT_ENUM for returned value" }
	END_VAR
	VAR
		net : USINT;						{ DE:"Offset in Netlist of corresponding slave"}
		val_buff : ARRAY[ 0..3] OF USINT;	{ DE:"Internal buffer"}
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION_BLOCK

FUNCTION_BLOCK sysCopm_SlaveGetObjReal
	{ DE:"Copm master get real object from slave" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, referred to enumerative COPM_CHN_ENUM" }
		node : USINT;	{ DE:"Corresponding slave node in network, 1 to 127" }
		obji : WORD;	{ DE:"Slave Object index" }
		objs : BYTE;	{ DE:"Slave Object sub-index" }
		tmo	: UINT;		{ DE:"Time out (ms)" }
	END_VAR
	VAR_OUTPUT
		end	: BOOL;						{ DE:"Request terminated, TRUE only for one cycle"}
		status : COPM_SDO_STATUS_ENUM;	{ DE:"Status of request, referred to enumerative COPM_SDO_STATUS_ENUM"}
		val : REAL;						{ DE:"Real Value that was read" }
		error : COPM_ERROR_ENUM;		{ DE:"Error of request, referred to enumerative COPM_ERROR_ENUM for returned value" }
		abort : COPM_SDO_ABORT_ENUM;	{ DE:"Abort code of request, referred to enumerative COPM_SDO_ABORT_ENUM for returned value" }
	END_VAR
	VAR
		net : USINT;						{ DE:"Offset in Netlist of corresponding slave"}
		val_buff : ARRAY[ 0..3] OF USINT;	{ DE:"Internal buffer"}
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION_BLOCK

FUNCTION_BLOCK sysCopm_SlaveGetObjBuffer
	{ DE:"Copm master get buffer object from slave" }
	VAR_INPUT
		can : COPM_CHN_ENUM;	{ DE:"CAN physical channel, referred to enumerative COPM_CHN_ENUM" }
		node : USINT;	{ DE:"Corresponding slave node in network, 1 to 127" }
		obji : WORD;	{ DE:"Slave Object index" }
		objs : BYTE;	{ DE:"Slave Object sub-index" }
		vald : UINT;	{ DE:"Buffer destination size"}
		val : @BYTE;	{ DE:"Buffer destination of Value that was read" }
		tmo	: UINT;		{ DE:"Time out (ms)" }
	END_VAR
	VAR_OUTPUT
		end	: BOOL;						{ DE:"Request terminated, TRUE only for one cycle"}
		status : COPM_SDO_STATUS_ENUM;	{ DE:"Status of request, referred to enumerative COPM_SDO_STATUS_ENUM"}
		objd : UINT;					{ DE:"Size of valid data in buffer that was read" }
		error : COPM_ERROR_ENUM;		{ DE:"Error of request, referred to enumerative COPM_ERROR_ENUM for returned value" }
		abort : COPM_SDO_ABORT_ENUM;	{ DE:"Abort code of request, referred to enumerative COPM_SDO_ABORT_ENUM for returned value" }
	END_VAR
	VAR
		net : USINT;	{ DE:"Offset in Netlist of corresponding slave"}
	END_VAR
	{ CODE:EMBEDDED }
END_FUNCTION_BLOCK

]]>
			</lib>
		</libraries>
		<aux>
			<src fullXml="false" name="Global shared.plc" order="0" hidden="false">
				<![CDATA[(* Automatically generated by LogicLab, do not edit! *)
]]>
			</src>
			<src fullXml="false" name="ParDB.plc" order="1" hidden="false">
				<![CDATA[(* Automatically generated, do not edit! *)

PROGRAM InitParDB WITH Init;

PROGRAM InitParDB
	{ HIDDEN:ON }
	{ CODE:ST }
	VAR
		warningsKiller: USINT;
		dummyCrc32: UDINT;
	END_VAR

	dummyCrc32 := 0;

	warningsKiller := sysDBase_SetExtTable( TO_DWORD( 0 ), 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );

END_PROGRAM

]]>
			</src>
			<src fullXml="false" name="IO.plc" order="0" hidden="false">
				<![CDATA[(* Automatically generated, do not edit! *)

PROGRAM $$IOConfig WITH Init;

PROGRAM $$IOConfig
	{ HIDDEN:ON }
VAR
	warningsKiller: BOOL;
END_VAR
	{ CODE:ST }

	/* ------	GLOBAL CONFIGURATION OF DIGITAL OUTPUTS	--------	*/
	warningsKiller := sysCfgDOs(0);

	/* ------	GLOBAL CONFIGURATION OF ANALOG INPUTS	--------	*/
	warningsKiller := sysCfgAIs(0);

	/* ------	CONFIGURATION OF EACH ANALOG OUPUT	--------	*/
	warningsKiller := sysCfgAO(0, 0);
	warningsKiller := sysCfgAO(1, 0);
	warningsKiller := sysCfgAO(2, 0);
	warningsKiller := sysCfgAO(3, 0);

	/* ------	GLOBAL CONFIGURATION OF PROGRAMMABLE DIGITAL I/Os	--------	*/
	warningsKiller := sysCfgProgDIOs(0);

	/* ------	CONFIGURATION OF EACH PROGRAMMABLE DIGITAL I/O	--------	*/
	warningsKiller := sysCfgProgDIO(0, 2);
	warningsKiller := sysCfgProgDIO(1, 2);
	warningsKiller := sysCfgProgDIO(2, 2);
	warningsKiller := sysCfgProgDIO(3, 2);
	warningsKiller := sysCfgProgDIO(4, 2);
	warningsKiller := sysCfgProgDIO(5, 2);
	warningsKiller := sysCfgProgDIO(6, 0);
	warningsKiller := sysCfgProgDIO(7, 0);
	warningsKiller := sysCfgProgDIO(8, 0);
	warningsKiller := sysCfgProgDIO(9, 0);
	warningsKiller := sysCfgProgDIO(10, 0);
	warningsKiller := sysCfgProgDIO(11, 0);

	/* ------	GLOBAL CONFIGURATION OF TEMPERATURE PROBES	--------	*/
	warningsKiller := sysCfgTempProbes(0);

	/* ------	CONFIGURATION OF EACH TEMPERATURE PROBE	--------	*/
	warningsKiller := sysCfgTempProbe(0, FALSE, 400.0, 100.0);
	warningsKiller := sysCfgTempProbe(1, FALSE, 400.0, 100.0);
	warningsKiller := sysCfgTempProbe(2, FALSE, 400.0, 100.0);

END_PROGRAM

]]>
			</src>
			<src fullXml="false" name="SharedVars.plc" order="0" hidden="false">
				<![CDATA[VAR_GLOBAL
{ G: "INPUTS" }
XPosAct AT %IB4.0 : INT;
{ G: "INPUTS" }
YPosAct AT %IB4.2 : INT;
{ G: "INPUTS" }
ZPosAct AT %IB4.4 : INT;
{ G: "INPUTS" }
hour AT %IB4.6 : INT;
{ G: "INPUTS" }
minute AT %IB4.8 : INT;
{ G: "INPUTS" }
second AT %IB4.10 : INT;
{ G: "OUTPUTS" }
XDir AT %QB4.0 : BOOL;
{ G: "OUTPUTS" }
XSpeed AT %QB4.2 : INT;
{ G: "OUTPUTS" }
XPos AT %QB4.4 : INT;
{ G: "OUTPUTS" }
YDir AT %QB4.6 : BOOL;
{ G: "OUTPUTS" }
YSpeed AT %QB4.8 : INT;
{ G: "OUTPUTS" }
YPos AT %QB4.10 : INT;
{ G: "OUTPUTS" }
ZDir AT %QB4.12 : BOOL;
{ G: "OUTPUTS" }
ZSpeed AT %QB4.14 : INT;
{ G: "OUTPUTS" }
ZPos AT %QB4.16 : INT;
{ G: "OUTPUTS" }
Home AT %QB4.18 : BOOL;
{ G: "OUTPUTS" }
ADir AT %QB4.20 : INT;
{ G: "OUTPUTS" }
ASpeed AT %QB4.22 : INT;
{ G: "OUTPUTS" }
APos AT %QB4.24 : INT;
END_VAR

]]>
			</src>
		</aux>
		<workspace>
			<root name="clock" nextID="7505">
				<GlobalVars name="Global_vars" id="2"/>
				<Pou name="StepperSEQ" id="7"/>
				<Pou name="main" id="26"/>
				<GlobalVars name="I_O_mappings_DIO" id="144"/>
				<GlobalVars name="I_O_mappings_DO" id="222"/>
				<GlobalVars name="I_O_mappings_DI" id="228"/>
				<GlobalVars name="Ungrouped_vars" id="369"/>
				<Pou name="init" id="444"/>
				<Pou name="Pick_SEQ" id="503"/>
				<Pou name="Place_SEQ" id="903"/>
				<Pou name="Push_SEQ" id="904"/>
				<Pou name="Cut_SEQ" id="905"/>
				<GlobalVars name="I_O_mappings_AO" id="1403"/>
				<Pou name="Sched" id="1605"/>
				<Pou name="Engrave_SEQ" id="1903"/>
				<Pou name="EngraveX" id="5417"/>
				<Pou name="TimeGet" id="6832"/>
				<Pou name="IndexA" id="6972"/>
			</root>
		</workspace>
	</sources>
	<codegen crossReference="false" crossReferenceOptions="0x3000001D" listing="true" unusedObjs="false" saveEXPFile="false" saveEXPFileLibraries="false" saveTargetFiles="true" warningEnable="true" symMap="true" checkIndexType="false" waitExtension="false" allocateUnusedVariables="false" checkArrayBounds="false" checkDivisionByZero="false" checkPointers="0" checkReferences="false" checkInterfaces="false" ioVarsAsReferences="false" customTargetBINFileName="PlcCode0.bin" customTargetTSCFileName="PlcSource0.bin" customTargetTDSFileName="PlcDebug0.bin" generateCustomFilesName="true" initFunVarsWithZero="false" enablePreprocessDirectives="false">
		<disabledWarnings/>
		<applicationDataBlocks/>
	</codegen>
	<debug watchRefresh="20" watchVarRefresh="0" watchMaxArray="20" autoSaveWatchList="false" watchFBLocalVars="false"/>
	<editor useOldGridSize="false"/>
	<userDef>
		<release/>
		<author/>
		<note/>
		<version/>
		<password disabled="false"/>
	</userDef>
	<downloadSequence sourceCode="never" debugSymbols="never"/>
	<commands>
		<postbuild/>
		<postdown/>
		<predown/>
	</commands>
	<resources>
		<configuration template="LogicLab.pct" version="1">
			<data protocol="root">
				<project_config nextID="0">
					<datacomment/>
				</project_config>
				<ArduinoPMC_1p0 template="ArduinoPMC_1p0\ArduinoPMC\ArduinoPMC.pct" version="6" name="Portenta Machine Control" caption="Portenta Machine Control">
					<config>
						<params/>
						<paramsRO/>
						<menus/>
						<ioMappings_DI>
							<ioMapping id="0">
								<label>XHome</label>
							</ioMapping>
							<ioMapping id="1">
								<label>YHome</label>
							</ioMapping>
							<ioMapping id="2">
								<label>ZHome</label>
							</ioMapping>
							<ioMapping id="3">
								<label/>
							</ioMapping>
							<ioMapping id="4">
								<label/>
							</ioMapping>
							<ioMapping id="5">
								<label/>
							</ioMapping>
							<ioMapping id="6">
								<label/>
							</ioMapping>
							<ioMapping id="7">
								<label/>
							</ioMapping>
						</ioMappings_DI>
						<ioMappings_DO globalConfig="0">
							<ioMapping id="0">
								<label/>
							</ioMapping>
							<ioMapping id="1">
								<label/>
							</ioMapping>
							<ioMapping id="2">
								<label/>
							</ioMapping>
							<ioMapping id="3">
								<label/>
							</ioMapping>
							<ioMapping id="4">
								<label/>
							</ioMapping>
							<ioMapping id="5">
								<label/>
							</ioMapping>
							<ioMapping id="6">
								<label/>
							</ioMapping>
							<ioMapping id="7">
								<label/>
							</ioMapping>
						</ioMappings_DO>
						<ioMappings_AI globalConfig="0">
							<ioMapping id="0">
								<label/>
							</ioMapping>
							<ioMapping id="1">
								<label/>
							</ioMapping>
							<ioMapping id="2">
								<label/>
							</ioMapping>
						</ioMappings_AI>
						<ioMappings_AO>
							<ioMapping id="0" period="0">
								<label/>
							</ioMapping>
							<ioMapping id="1" period="0">
								<label>laserPWM</label>
							</ioMapping>
							<ioMapping id="2" period="0">
								<label/>
							</ioMapping>
							<ioMapping id="3" period="0">
								<label/>
							</ioMapping>
						</ioMappings_AO>
						<ioMappings_DIO globalConfig="0">
							<ioMapping id="0" IOType="2">
								<label>EnableXYZ</label>
							</ioMapping>
							<ioMapping id="1" IOType="2">
								<label>EnableA</label>
							</ioMapping>
							<ioMapping id="2" IOType="2">
								<label>Sol1</label>
							</ioMapping>
							<ioMapping id="3" IOType="2">
								<label>Sol2</label>
							</ioMapping>
							<ioMapping id="4" IOType="2">
								<label>Sol3</label>
							</ioMapping>
							<ioMapping id="5" IOType="2">
								<label>Sol4</label>
							</ioMapping>
							<ioMapping id="6" IOType="0">
								<label/>
							</ioMapping>
							<ioMapping id="7" IOType="0">
								<label/>
							</ioMapping>
							<ioMapping id="8" IOType="0">
								<label/>
							</ioMapping>
							<ioMapping id="9" IOType="0">
								<label/>
							</ioMapping>
							<ioMapping id="10" IOType="0">
								<label/>
							</ioMapping>
							<ioMapping id="11" IOType="0">
								<label/>
							</ioMapping>
						</ioMappings_DIO>
						<ioMappings_TEMP_PROBES globalConfig="0">
							<ioMapping id="0" enable="0">
								<label/>
							</ioMapping>
							<ioMapping id="1" enable="0">
								<label/>
							</ioMapping>
							<ioMapping id="2" enable="0">
								<label/>
							</ioMapping>
						</ioMappings_TEMP_PROBES>
						<sharedInputs>
							<sharedIO label="XPosAct" type="INT" size=""/>
							<sharedIO label="YPosAct" type="INT" size=""/>
							<sharedIO label="ZPosAct" type="INT" size=""/>
							<sharedIO label="hour" type="INT" size=""/>
							<sharedIO label="minute" type="INT" size=""/>
							<sharedIO label="second" type="INT" size=""/>
						</sharedInputs>
						<sharedOutputs>
							<sharedIO label="XDir" type="BOOL" size=""/>
							<sharedIO label="XSpeed" type="INT" size=""/>
							<sharedIO label="XPos" type="INT" size=""/>
							<sharedIO label="YDir" type="BOOL" size=""/>
							<sharedIO label="YSpeed" type="INT" size=""/>
							<sharedIO label="YPos" type="INT" size=""/>
							<sharedIO label="ZDir" type="BOOL" size=""/>
							<sharedIO label="ZSpeed" type="INT" size=""/>
							<sharedIO label="ZPos" type="INT" size=""/>
							<sharedIO label="Home" type="BOOL" size=""/>
							<sharedIO label="ADir" type="INT" size=""/>
							<sharedIO label="ASpeed" type="INT" size=""/>
							<sharedIO label="APos" type="INT" size=""/>
						</sharedOutputs>
					</config>
					<RS485 protocol="" mode="0" baudRate="38400" serialMode="none,8,1" slaveAddress="1" COMnumber="2" rsmode="1" netId="0" maxSlaves="32" serCfg="1"/>
					<CANopen id="0" protocol="" mode="0" nodeID="127" baudRate="250000" hbTime="0" syncCOBID="128" syncCycle="0" networkID="0" slaveNodeID="1" slaveDeviceType="301" slaveSyncCOBID="128" slaveSyncCycle="0" slaveManufacturerDeviceName="" slaveManufacturerHardwareVer="" slaveManufacturerSoftwareVer="" slaveGuardTime="200" slaveLifeTimeFactor="3" slaveConsumerHeartbeatTime="0" slaveProducerHeartbeatTime="0" slaveVendorID="0" slaveProductCode="0" slaveRevisionNumber="0" slaveSerialNumber="0" slaveCfgGranularity="8" slaveCfgCOBIDAutoAssignment="1" slaveCfgMaxTPDONum="8" slaveCfgMaxRPDONum="8"/>
					<Ethernet protocol="" enableMaster="0" enableSlave="1" enableSlaveRtuGateway="0" rtuGatewayDefaultTimeout="100" slavePort="502"/>
					<SketchContent>// shared variables can be accessed with PLCIn.varname and PLCOut.varname

#include &lt;Arduino_MachineControl.h&gt;


#define XDIR_PIN 0
#define YDIR_PIN 2
#define ZDIR_PIN 4

#define XPUL_PIN 1
#define YPUL_PIN 3
#define ZPUL_PIN 5
#define ACCELDEF 1500


using namespace machinecontrol;

unsigned long previousMicrosX = 0;
unsigned long previousMicrosY = 0;
unsigned long previousMicrosZ = 0;
unsigned long previousMicrosA = 0;

int seconds = 0;
int minutes = 0;
int hours = 0;
bool alarm_flag = false;

const int homingSpd = 250;
const int homingSpdSlow = 1250;
const int homingSpdFast = 250;
const int awayFromHomeShort = 1500;
const int awayFromHomeLong = 4000;
const int awayFromHome = 4000;



int accelX = 1500;
int accelY = 1500;
int accelZ = 1500;

int accelDistXY = 500;

int XPos;
int YPos;
int ZPos;
int APos;

//not implemented
int XMax = 100;
int YMax = 100;
int ZMax = 100;
bool homed = 0;


void setup()
{
    //digital_outputs.setRetry();
    rtc_controller.begin();
    rtc_controller.enableAlarm();

    minutes = PLCIn.minute = rtc_controller.getMinutes();
    hours = PLCIn.hour = rtc_controller.getHours();
    rtc_controller.setMinuteAlarm(minutes + 1);
    if(minutes == 59) {
        rtc_controller.setMinuteAlarm(0);
    }
    attachInterrupt(RTC_INT, callback_alarm, FALLING);

}

void loop()
{   
    if(alarm_flag) {
        
        detachInterrupt(RTC_INT);
        minutes = PLCIn.minute = rtc_controller.getMinutes();
        PLCIn.hour = rtc_controller.getHours();
        rtc_controller.setMinuteAlarm(minutes + 1);
        if(minutes == 59) {
            rtc_controller.setMinuteAlarm(0);
    }
        rtc_controller.clearAlarm();
        attachInterrupt(RTC_INT, callback_alarm, FALLING);
        alarm_flag = false;
    }


    unsigned long currentMicros = micros();
    
    //regular move
    if(PLCOut.Home != true) {
    
        
    MovePosX(currentMicros);
    MovePosY(currentMicros);
    MovePosZ(currentMicros);
    MoveA(currentMicros);
    
    }
    //homing
    if(PLCOut.Home == true) {

        
        //Z home
        HomeZ();
        //X home
        HomeX();
        //Y home
        HomeY();        
        
    }
        
    PLCIn.XPosAct = XPos;
    PLCIn.YPosAct = YPos;
    PLCIn.ZPosAct = ZPos;

    PulseLowX(currentMicros);
    PulseLowY(currentMicros);
    PulseLowZ(currentMicros);
    PulseLowA(currentMicros);
    
    
    


}

void callback_alarm() {
    alarm_flag = true;
    
}

void HomeX() {

 
    if(digital_inputs.read(DIN_READ_CH_PIN_00) == true) {
        delay(2);
        if(digital_inputs.read(DIN_READ_CH_PIN_00) == true) {
            delay(2);
            if(digital_inputs.read(DIN_READ_CH_PIN_00) == true) {
                //get away from home prox before homing sequence. Use delay since we're in a loop.
                //Positive Dir
                 for(int i = 0; i &lt; awayFromHomeShort; i++) {
                    digital_outputs.set(XDIR_PIN, LOW);
                    MoveFast(XPUL_PIN);
                    }
                    //Move negative until we reach home prox
                    while(digital_inputs.read(DIN_READ_CH_PIN_00) != true) {
                        digital_outputs.set(XDIR_PIN, HIGH);
                        MoveSlow(XPUL_PIN);
                    }
                    //Set position to 0 once prox activated
                    XPos = 0;
    }
    }
    }

    
    //debounce?
    if(digital_inputs.read(DIN_READ_CH_PIN_00) != true) {
        delay(2);
        if(digital_inputs.read(DIN_READ_CH_PIN_00) != true) {
            delay(2);
            if(digital_inputs.read(DIN_READ_CH_PIN_00) != true) {
                //Move towards home, negative
                while(digital_inputs.read(DIN_READ_CH_PIN_00) != true) {
                    digital_outputs.set(XDIR_PIN, HIGH);
                    MoveFast(XPUL_PIN);
                }
                //Move away from home, positive
                for(int i = 0; i &lt; awayFromHomeShort; i++) {
                    digital_outputs.set(XDIR_PIN, LOW);
                    MoveFast(XPUL_PIN);
                    }
                // towards home, negative
                while(digital_inputs.read(DIN_READ_CH_PIN_00) != true) {
                    digital_outputs.set(XDIR_PIN, HIGH);
                    MoveSlow(XPUL_PIN);
                }
                XPos = 0;
       
    }
    }
}
            //Clearance
        while(XPos &lt; 1000) {
            digital_outputs.set(XDIR_PIN, LOW);
            MoveSlow(XPUL_PIN);
            XPos++;

        }
}



void HomeY() {

 
     if(digital_inputs.read(DIN_READ_CH_PIN_01) == true) {
        delay(2);
        if(digital_inputs.read(DIN_READ_CH_PIN_01) == true) {
            delay(2);
            if(digital_inputs.read(DIN_READ_CH_PIN_01) == true) {
                //get away from home prox before homing sequence. Use delay since we're in a loop.
                    //Positive Dir
                for(int i = 0; i &lt; awayFromHomeShort; i++) {
                    digital_outputs.set(YDIR_PIN, LOW);
                    MoveFast(YPUL_PIN);
                    
                    }
                //Move negative until we reach home prox
        
                while(digital_inputs.read(DIN_READ_CH_PIN_01) != true) {
                    digital_outputs.set(YDIR_PIN, HIGH);
                    MoveSlow(YPUL_PIN);
                }
                //Set position to 0 once prox activated
                YPos = 0;
    }
    }
    }
    
    if(digital_inputs.read(DIN_READ_CH_PIN_01) != true) {
        delay(2);
        if(digital_inputs.read(DIN_READ_CH_PIN_01) != true) {
            delay(2);
            if(digital_inputs.read(DIN_READ_CH_PIN_01) != true) {
            //Move towards home, negative
            while(digital_inputs.read(DIN_READ_CH_PIN_01) != true) {
                digital_outputs.set(YDIR_PIN, HIGH);
                MoveFast(YPUL_PIN);
            }
            
    
            //Move away from home, positive
            for(int i = 0; i &lt; awayFromHomeShort; i++) {
                digital_outputs.set(YDIR_PIN, LOW);
                MoveFast(YPUL_PIN);
                
                }
            // towards home, negative
            while(digital_inputs.read(DIN_READ_CH_PIN_01) != true) {
                digital_outputs.set(YDIR_PIN, HIGH);
                MoveSlow(YPUL_PIN);
            }
            YPos = 0;
       
    }
    }
    }
}



void HomeZ() {

 
 if(digital_inputs.read(DIN_READ_CH_PIN_02) == true) {
     delay(2);
     if(digital_inputs.read(DIN_READ_CH_PIN_02) == true) {
         delay(2);
         if(digital_inputs.read(DIN_READ_CH_PIN_02) == true) {
            //get away from home prox before homing sequence. Use delay since we're in a loop.
                //Positive Dir
            for(int i = 0; i &lt; awayFromHomeShort; i++) {
                digital_outputs.set(ZDIR_PIN, LOW);
                MoveFast(ZPUL_PIN);
                }
                
            //Move negative until we reach home prox
    
            while(digital_inputs.read(DIN_READ_CH_PIN_02) != true) {
                digital_outputs.set(ZDIR_PIN, HIGH);
                MoveSlow(ZPUL_PIN);
            }
            //Set position to 0 once prox activated
            ZPos = 0;
    }
    }
    }
    
    
    if(digital_inputs.read(DIN_READ_CH_PIN_02) != true) {
        delay(2);
        if(digital_inputs.read(DIN_READ_CH_PIN_02) != true) {
            delay(2);
            if(digital_inputs.read(DIN_READ_CH_PIN_02) != true) {
            //Move towards home, negative
            while(!digital_inputs.read(DIN_READ_CH_PIN_02)) {
                digital_outputs.set(ZDIR_PIN, HIGH);
                MoveFast(ZPUL_PIN);
            }
    
            //Move away from home, positive
            for(int i = 0; i &lt; awayFromHomeShort; i++) {
                digital_outputs.set(ZDIR_PIN, LOW);
                MoveFast(ZPUL_PIN);
                
                }
            // towards home, negative
            while(digital_inputs.read(DIN_READ_CH_PIN_02) != true) {
                digital_outputs.set(ZDIR_PIN, HIGH);
                MoveSlow(ZPUL_PIN);
            }
            ZPos = 0;
            }
    }
    }
        //Clearance
        while(ZPos &lt; 12000) {
            digital_outputs.set(ZDIR_PIN, LOW);
            MoveFast(ZPUL_PIN);
            ZPos++;

        }
        
    }



void MovePosX(unsigned long currentMicros) {
     if (currentMicros - previousMicrosX &gt;= PLCOut.XSpeed + accelX) {
        // negative
        
           //100    &lt;    200    
        if(PLCOut.XPos &lt; XPos) {
            digital_outputs.set(0, HIGH);
            XPos--;
            digital_outputs.set(1, HIGH);
            
            //if not at decel distance
            if(accelX &gt; 0 &amp;&amp; (XPos - PLCOut.XPos) &gt; accelDistXY ) {
                accelX-=2;
            } else {
                if(accelX &lt; ACCELDEF) {
                    accelX++;
              
        }
        }
        }
     
            //200       100
        if(PLCOut.XPos &gt; XPos) {
            //Positive Direction
            digital_outputs.set(0, LOW);
            XPos++;
            digital_outputs.set(1, HIGH);
            
            //if not at decel distance
            if(accelX &gt; 0 &amp;&amp; (PLCOut.XPos - XPos) &gt; accelDistXY) {
                accelX-=2;
            } else {
                if(accelX &lt; ACCELDEF) {
                    accelX++;
                }
            }
    }
    
        previousMicrosX = currentMicros;
        if(PLCOut.XPos == XPos) {
            accelX = ACCELDEF;
        }
    }

}

void MovePosY(unsigned long currentMicros) {
     if (currentMicros - previousMicrosY &gt;= PLCOut.YSpeed + accelY) {
        // negative
        if(PLCOut.YPos &lt; YPos) {
            digital_outputs.set(2, HIGH);
            YPos--;
            digital_outputs.set(3, HIGH);
            
            if(accelY &gt; 0 &amp;&amp; (YPos - PLCOut.YPos) &gt; accelDistXY ) {
                accelY-=2;
            } else {
                if(accelY &lt; ACCELDEF) {
                    accelY++;
                }
            }
        }
    
        if(PLCOut.YPos &gt; YPos) {
            //Positive Direction
            digital_outputs.set(2, LOW);
            YPos++;
            digital_outputs.set(3, HIGH);
            
            if(accelY &gt; 0 &amp;&amp; (PLCOut.YPos - YPos) &gt; accelDistXY) {
                accelY-=2;
            } else {
                if(accelY &lt; ACCELDEF) {
                    accelY++;
                }
            }
    }
        previousMicrosY = currentMicros;
        if(PLCOut.YPos == YPos) {
            accelY = ACCELDEF;
        
    }

}
}

void MovePosZ(unsigned long currentMicros) {
     if (currentMicros - previousMicrosZ &gt;= PLCOut.ZSpeed + accelZ) {
        // negative
        if(PLCOut.ZPos &lt; ZPos) {
            digital_outputs.set(4, HIGH);
            ZPos--;
            digital_outputs.set(5, HIGH);
            
            if(accelZ &gt; 0 &amp;&amp; (ZPos - PLCOut.ZPos) &gt; accelDistXY ) {
                accelZ-=2;
            } else {
                if(accelZ &lt; ACCELDEF) {
                    accelZ++;
                }
            }
        }
    
        if(PLCOut.ZPos &gt; ZPos) {
            //Positive Direction
            digital_outputs.set(4, LOW);
            ZPos++;
            digital_outputs.set(5, HIGH);
            
            if(accelZ &gt; 0 &amp;&amp; (PLCOut.ZPos - ZPos) &gt; accelDistXY) {
                accelZ-=2;
            } else {
                if(accelZ &lt; ACCELDEF) {
                    accelZ++;
                }
            }
    }
        previousMicrosZ = currentMicros;
        if(PLCOut.ZPos == ZPos) {
            accelZ = 1500;
        
    }

}
}

void MoveA(unsigned long currentMicros) {
    if (currentMicros - previousMicrosA &gt;= PLCOut.ASpeed) {
        // negative
        if(PLCOut.APos &lt; APos) {
            digital_outputs.set(6, HIGH);
            APos--;
            digital_outputs.set(7, HIGH);
            
        }
    
        if(PLCOut.APos &gt; APos) {
            //Positive Direction
            digital_outputs.set(6, LOW);
            APos++;
            digital_outputs.set(7, HIGH);
            
    }
    //reset position to 0, APosOut not really needed
        if(PLCOut.APos == 0) {
            APos = 0;
        }  
        previousMicrosA = currentMicros;
        
    }

}

void MoveSlow(int pul) {
    digital_outputs.set(pul, HIGH);
    delayMicroseconds(homingSpdSlow);
    digital_outputs.set(pul, LOW);
    delayMicroseconds(homingSpdSlow);
}

void MoveFast(int pul) {
    digital_outputs.set(pul, HIGH);
    delayMicroseconds(homingSpdFast);
    digital_outputs.set(pul, LOW);
    delayMicroseconds(homingSpdFast);
}




void PulseLowX(unsigned long currentMicros) {
    if(currentMicros - previousMicrosX &gt; 100) {
        digital_outputs.set(1, LOW);

    }
}

void PulseLowY(unsigned long currentMicros) {
    if(currentMicros - previousMicrosY &gt; 100) {
        digital_outputs.set(3, LOW);

    }
}

void PulseLowZ(unsigned long currentMicros) {
    if(currentMicros - previousMicrosZ &gt; 100) {
        digital_outputs.set(5, LOW);

    }
}

void PulseLowA(unsigned long currentMicros) {
    if(currentMicros - previousMicrosA &gt; 100) {
        digital_outputs.set(7, LOW);

    }
}




//</SketchContent>
					<SketchLibraries>
						<SketchLibrary name="Arduino_MachineControl" ver="1.1.1"/>
					</SketchLibraries>
				</ArduinoPMC_1p0>
			</data>
		</configuration>
	</resources>
</plcProject>